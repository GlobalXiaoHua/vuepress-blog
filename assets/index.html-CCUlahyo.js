import{_ as c,r as i,c as o,a as l,b as n,d as a,e,w as t,o as u}from"./app-DXtlDOGr.js";const k="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE1-CtIjmsmQ.png",r="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE2-zERj3MIu.png",d="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE3-C8dUOXLJ.png",v="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE3-C8dUOXLJ.png",m="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE5-CJC-W3NZ.png",b="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE6-Bkh6yzWW.png",g="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE7-DZIIdbCm.png",y="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE8-WYzJIYbs.png",w="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE9-DXLYGQla.png",h="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE10-OXG_7iHb.png",f="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE11-kXDWtYAh.png",E="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE12-BrbEhWnZ.png",x="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE13-bMXA8xg_.png",B="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE14-D8qfqdcg.png",A="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE15-Q-Fxd1hH.png",S="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE16-CchgzSL1.png",C="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE17-Rr-FwCzc.png",q="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE18-C9wRu1K1.png",j="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE19-4xd4JWjh.png",_="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE20-D3FXwOTX.png",D="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE21-Fb_fv7Iq.png",O="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE22-DDAR4lcf.png",P="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE23-BDU-0Zy3.png",I="/assets/%E7%AE%80%E4%BB%8B%E5%9B%BE24-R_77hyaR.png",F="/assets/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE1-Ck8sk7Yr.png",M="/assets/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE1-E5pXPfej.png",z="/assets/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE2-Y55KKn7t.png",V="/assets/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE3-Cq5Lf1SW.png",T="/assets/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE4-EdGPdIgB.png",R="/assets/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE5-Bi1LPhEG.png",H="/assets/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE6-BQWZsOVY.png",L="/assets/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE7-BvQkOThC.png",N="/assets/%E8%BF%9B%E9%98%B6%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE1-DqOgqemK.png",W="/assets/%E8%BF%9B%E9%98%B6%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE2-zvG0DJaT.png",U="/assets/%E8%BF%9B%E9%98%B6%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE3-DMX0RSy2.png",J="/assets/%E8%BF%9B%E9%98%B6%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9B%BE4-CCDK8-G5.png",K="/assets/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE1-ZIXSG4gP.png",G="/assets/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE2-Ck1Xqegx.png",X="/assets/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE3-BmFzFdIr.png",Q="/assets/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE4-ChEedBN_.png",Z="/assets/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE5-C_KmSVqM.png",Y="/assets/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE1-c-GK75GL.png",$="/assets/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE2-CXWOHg6S.png",nn="/assets/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE3-YxCmhmQv.png",sn="/assets/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE4-hoNOserg.png",an="/assets/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE5-CnESiycT.png",pn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbIAAACJCAMAAAB+Z030AAACE1BMVEUmMjg5ZYpfcGMvMTckMUdCcIokTHAkP2NVfIokMVRMfIpVfH0vP2NVZVQvWHAvTHBfZWNMTEc2R093m+Zoicg7TWR1mOJ0jWLD6I1hdVg5SUNBUUdee4lBVHKoyX4qNzpVWFRMfH0oNTp5lWSs0n84SEKUtnNlflpgfYo+UFmy1IQ5P2NMZXBVfHBCTDeIpG2szICPrHFEWnpkgr0uPEguMFQzQT9CcH2VtHQwPj05ZX1+mGi12IaiwnwnMzlXcX47TlctPEJEU1qQpK5ic3ySr3NnfVxLYm53kGQ3REtFVlO73pJ4kG01QkkrNj0qNz1ceIa94JGBk509SlKbtpCQqIujvKKgu6O73ZOTqKt4jIOnwqCInJ9sgW2Sr3Spxp6ZsKhzhndVcJ8oNT11muRukNR8ovF3negsOkZbeKttj9E4SmBsjc89UGpadqo1RlmBqPxFW3xrjc8xQE94nOkqN0A/Um5ee7Bpicg5S2F2muRab1SKqW5Vb51+pviXuXRDWHdzlt0oMzpMY4p7ofAsOkVUbpw4SV5qi8uBqf1helgoNDmMrG4oNDxQaJNfe7IuPUk+UWwsOURlhMByld0vPkx8o/NMZIssOjtnf1qmzH2t1IA9TkRIWkpQZU9edVYxQVFqg1yu1YFielg2R1qCqv9Ubps5WH1ffH1CPzdVWEcvWH1ffHA5MTdMTDdfZVRgfYsyLu52AAAGoElEQVR42uyWyU4bQRCGa/aBLIp8mQVkJFabRApcEIj9ECW37Pv+HImUe+AJWBW4BM/ifkSmukszPYwwCCHEob6DXe7u/1KfqtvAMAzDMAzDMAzDMMw18Rh5Bg3GxuAasJ0+lBimpVXMVQmRNpxhfGJycmIc6iSix8puAeE8QLuhbGZ6amp65mz7H5kWK7tBNjeo2Ni8WNnffYBfv6GGmz70c1Z2c6ytd7qAdDvrayBZCArCdhCsrATEAkj29gv+/dkDHaNPAgzzri9Ev1aBVxSmhY4SIdIMFQshHmDCdtSKnrNUgtUNojXa6Upjoy1QjIQNRgA5OCIOgJBOckj+n2DDsdOe39crt9ixHdMq9PRgaBhXRI4Hiuq+2gI63ZPKKMHOLnRGxkjZchyHi3E8NxfHi2EcL5Oy4yPiGCqSNFP9BiPN1O+qsp0crd45QQlyZWi4p1+Mrn4alZUJYAY6e0rGSFlQvWXzIUCgKdverilTk2M7aaZmRM5VVXm+kOToSGrx/LxUZgi8Geu5MgHMQGeCjJGyJ1EUrkbR7GwUrX749PNbpWxna2unpswVivwcZdT6prJCdqHLbSpjWZeh9aIFujKNlx8///heKds9PNzVlMlXh77ogjP0Sl2DurJihWYTHeGKlqMEcwmeg8ZSROCUvXkfff0SLZ33lqmhoBkR9O9CqxL88O5VysBAU3gA9z0/zfScaZUJ5grIt+ztO3j9Ck7bO7MWJ5ooDFeS74vojci4ISj6AxRxQfBSRXD9Ee77voPivly471cu2KOT4CQ/0e7KsU+kp2a6m0yTqn6egZDJqT41qXcq6YQ8ZMCX78IXIwx2iGybRvOnPAnptTgBe8qukdlnsCX/92ypuTiJbOi4VnIzJ/nlI9u4au/OhF3G8unzN8vnT0bhJfE4sWblyn0a2TBENqbsXrFiP5H5xgEi842DOxL2GAAAAAAAAAAAAAAAAAAAAICZefL40chtXDXOVIIyM4D2W4JXL59FDx/cd9m45ZdRLh2R6bqi/ebja8J7Y56/+BA9/XgluvfabeOWj6zbbDki03EdtN98RAnvzLLl0a27xly9fSd6+8Zh45aPbOGiaeOOLDXS0H5zMZnw0UxG0dPzxpiLx6Poh8PGVaW2qIrbjm9PgrMDGlIf6vazb51BK9qg/eZkMrrx7MK5s2eiY0clsqyNq0ptMRVXNlY7vt0s2GAatt5sDXXrDUKyv6L9zsnqiYmJpXFkP06fiqILJ0/E11wGkyq1hVRc+zylj1oNqf/bzW5FtN9ikRlzPbpm7DWHjatKbTEV1y5YqnE2pD7cTdYZ7Tc3Nii9cNi4qtQWUHHdkaXdNDK035xssqcfhw7btC5fksiyNq4qtYVUXHlglAEamXTTyJottN+cbB6c5B+5Oxnd1JP87HOZKrXFVFybkgxoT2tktptG1u3ZjNB+c7Dl70vp5Ofea6eNq0ptMRXXbiB5tOvpLtNusqU6NjK03xJvWDls3NLGmbyUnoMF639jt5V+W3j0kmB37mGNDkJiKUYemZ4nzNmSyKqKLKC5AAAAAAAAAAAAAAAAAAAAADxm3sVbNczGHE9MtXkWb0Uw60+7I2sX/nhoLRXeysRb+Vi22T6VjUwFJdMutLy1VHirEm9FwkhwRFZGdailwluZeKv//A71dusi20ZbSYe1VkHqyIplpxGhV4+qicI7/+KtKl4O9VYujbYyXemgkWWmSYXetBK+wluReKvWq1u97fZtaGmrtINGlp1GtpAeFb7CW414q/fSpd5K/7hn2irtoJG5pjF6VF0U3nkXb2XVZ1Fv5WgNwcwQmWMa1QjrofBWI97KUKd6q8udthru0JttGh1s6qHwViPexoXk9/+2TTnU24XrpuzSaSvtYJet3W+2stOkQq9UaqHwViPeyohfUw71Vt4c6Qy1GnRY+/eEu2eHZacRoVcqdVJ4qxVvy79LicJblXg7ushQeCsSb0cXGQrvuMuwcWQe/tUAAAAAAAAAAAAAAAAAAAAAM4B4W+yzHu5SCLpuKOKt4DSKpOSvrhueeJv/069a8krXDVC8LRGZV7pugOLt0KKlo7r9mM4sJf903aDEW6Gho2QrOUt+feNugOKtTpOOklxcJb++cTdA8VZzkVGai6Pk4zfuBiXeFo/MN103OPG2eGS+6bqhibe2fTaXjnGXfPvG3cDE28Ge1lx0VGeWkpe6bijird2tzlJgum4Y4q1saUeprrruWIu3Kei63ou3HtxXAAAAAAAIhj+2OVQuYKclIAAAAABJRU5ErkJggg==",en="/assets/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE7-CPXOlD2m.png",tn="/assets/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE8-CE-Azif8.png",ln="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE1-C4luJstd.png",cn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE2--0UEfl2c.png",on="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE3-DyeunTtY.png",un="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE4-BYbIoAkO.png",kn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE5-PEtwR61i.png",rn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE6-C8nN7ouF.png",dn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE7-CvS1Fqko.png",vn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE8-CWUEdRrX.png",mn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE9-CpFGgE4g.png",bn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE10-DYW6WzXs.png",gn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE11-CwUo_iPb.png",yn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE12-CwRJdQyv.png",wn="/assets/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE13-DwSNezhr.png",hn="/assets/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE1-doje51yJ.png",fn="/assets/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE2-CDhHxYea.png",En="/assets/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE3-BMEs8ZQD.png",xn="/assets/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE4-Cd1gAW2P.png",Bn="/assets/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE5-BdSFVmfC.png",An="/assets/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE6-DOVOrkMJ.png",Sn="/assets/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE7-BEDNSFRf.png",Cn="/assets/%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE1-aVxnJxVW.png",qn="/assets/%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE2-b23oqFHc.png",jn="/assets/%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE3-DoCIEFx5.png",_n="/assets/%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE4-8KdsLo3L.png",Dn="/assets/%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE5-5sve5gW9.png",On="/assets/%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE6-hT75H1oR.png",Pn="/assets/%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE7-D-R4nGG5.png",In="/assets/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E5%9B%BE1-BMfVwqq1.png",Fn="/assets/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E5%9B%BE2-CG8MZ4UP.png",Mn="/assets/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E5%9B%BE3-BM_UHPXs.png",zn="/assets/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E5%9B%BE4--lup6K_F.png",Vn="/assets/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E5%9B%BE5-DxPTV-tI.png",Tn="/assets/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E5%9B%BE6-BhJLn0Yl.png",Rn="/assets/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%9B%BE1-D3aY4yHn.png",Hn="/assets/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%9B%BE2-BtJSoZ_S.png",Ln="/assets/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%9B%BE3-B20V6sF-.png",Nn="/assets/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%9B%BE4-vILDSw-O.png",Wn="/assets/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%9B%BE5-Bf1SwvkE.png",Un="/assets/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%9B%BE6-YHe0l8gg.png",Jn="/assets/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%9B%BE7-CK_iWD2M.png",Kn="/assets/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%9B%BE8-4Ou8RKg6.png",Gn="/assets/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E5%9B%BE1-T2Jq0B9l.png",Xn="/assets/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E5%9B%BE2-cpRuPoGA.png",Qn="/assets/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E5%9B%BE3-Dl9-YO_O.png",Zn="/assets/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E5%9B%BE4-Box7AzYW.png",Yn="/assets/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E5%9B%BE5-C3w9ow9V.png",$n="/assets/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E5%9B%BE6-TcOCxvaI.png",ns="/assets/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E5%9B%BE7-BmZcwsNs.png",ss="/assets/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%9B%BE1-CAj82m_u.png",as="/assets/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%9B%BE2-BSVCFQVa.png",ps="/assets/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%9B%BE3-BeM4AV2O.png",es="/assets/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%9B%BE4-Ba3TMTsg.png",ts="/assets/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%9B%BE5-CRgaad7s.png",ls="/assets/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%9B%BE6-BGsJMnHZ.png",cs="/assets/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%9B%BE7-C7UvIfH1.png",is="/assets/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%9B%BE8-BUVjDFtW.png",os="/assets/%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F%E5%9B%BE1-DAdDxITa.png",us="/assets/%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F%E5%9B%BE2-BZlOAGnO.png",ks="/assets/%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F%E5%9B%BE3-VfTIVEJS.png",rs="/assets/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%9B%BE1-BWdYyJaB.png",ds="/assets/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%9B%BE2-C6xEH-th.png",vs="/assets/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%9B%BE3-BwE14j0j.png",ms="/assets/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%9B%BE4--qlDE8fD.png",bs="/assets/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%9B%BE5-Bp4Ce-gP.png",gs="/assets/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%9B%BE6-BDERVJUn.png",ys="/assets/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%9B%BE7-CFL_vERr.png",ws="/assets/%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE1-C-qTzFkB.png",hs="/assets/%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE2-DFABJDyS.png",fs="/assets/%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE3-BQR1zq7r.png",Es="/assets/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE1-Cq6RCMm6.png",xs="/assets/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE2-wONiX5sY.png",Bs="/assets/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE3-A8NdYh4A.png",As="/assets/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE4-BSC76gSN.png",Ss="/assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE1-BL_8h2oh.png",Cs="/assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE2-BoEcHkB6.png",qs="/assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE3-C9ZSwdwE.png",js="/assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE4-BVw0raCV.png",_s="/assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE5-Bt1IJYra.png",Ds="/assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE6-DzEZX6aL.png",Os="/assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%9B%BE7-OE2tEK3_.png",Ps="/assets/%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE1-NQurg8op.png",Is="/assets/%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE2-KMWVJFd1.png",Fs="/assets/%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE3-CRYxI59p.png",Ms="/assets/%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE4-BuG_giIq.png",zs="/assets/%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F%E5%9B%BE5-Bpxk9MXR.png",Vs="/assets/%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F%E5%9B%BE1-q_W271xh.png",Ts="/assets/%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F%E5%9B%BE2-Cs3uKOLQ.png",Rs="/assets/%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F%E5%9B%BE3-DLtDPunx.png",Hs="/assets/%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F%E5%9B%BE4-DrhHeFda.png",Ls="/assets/%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE1-BG-V6MeE.png",Ns="/assets/%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE2--clyep3b.png",Ws="/assets/%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE3-C5nSjhFe.png",Us="/assets/%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE4-C-n1zLMk.png",Js="/assets/%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%9B%BE5-B9Rby5eU.png",Ks="/assets/%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E5%9B%BE1-BJMj1Od4.png",Gs="/assets/%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E5%9B%BE2-Dk3DQ9Hs.png",Xs="/assets/%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E5%9B%BE3-CsvhV6iH.png",Qs="/assets/%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E5%9B%BE4-Z9DhD4as.png",Zs="/assets/%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E5%9B%BE5-scIW9IVV.png",Ys="/assets/%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E5%9B%BE6-CC_VkIuL.png",$s="/assets/%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E5%9B%BE7-BesTWWHi.png",na="/assets/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE1-DsCFMVmA.png",sa="/assets/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE2-CP71xc5I.png",aa="/assets/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE3-CWQgGmr4.png",pa="/assets/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E5%9B%BE4-D9L5iBbe.png",ea="/assets/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E5%9B%BE1-DWxc4ns1.png",ta="/assets/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E5%9B%BE2-M979otBt.png",la="/assets/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E5%9B%BE3-D8pdPauW.png",ca="/assets/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E5%9B%BE4-HmqqTW63.png",ia="/assets/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E5%9B%BE5-BnVJCzje.png",oa="/assets/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E5%9B%BE6-PW7LeCsH.png",ua="/assets/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E5%9B%BE7-EciEieXA.png",ka="/assets/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E5%9B%BE8-BocEUWnr.png",ra={},da={style:{"text-align":"left"}},va={style:{"text-align":"left"}},ma={style:{"text-align":"left"}},ba={style:{"text-align":"left"}},ga={style:{"text-align":"left"}};function ya(wa,s){const p=i("font");return u(),o("div",null,[s[116]||(s[116]=l('<h1 id="javaè®¾è®¡æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#javaè®¾è®¡æ¨¡å¼"><span>Javaè®¾è®¡æ¨¡å¼</span></a></h1><h2 id="ã€-ã€‘æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#ã€-ã€‘æ¦‚è¿°"><span>ã€-ã€‘æ¦‚è¿°</span></a></h2><h3 id="_1ã€è®¾è®¡æ¨¡å¼å¢ƒç•Œ" tabindex="-1"><a class="header-anchor" href="#_1ã€è®¾è®¡æ¨¡å¼å¢ƒç•Œ"><span>1ã€è®¾è®¡æ¨¡å¼å¢ƒç•Œ</span></a></h3><p>å¢ƒç•Œå¤§å¤šæ˜¯ç›¸é€šçš„</p><p>ğŸ¤º å‰‘é­”ç‹¬å­¤æ±‚è´¥çš„äº”å±‚å‰‘æ³•å¢ƒç•Œ</p><ul><li>âš”ï¸ <strong>é’é’¢åˆ©å‰‘</strong>ï¼šä¸€æ‹›ä¸€å¼ï¼Œæè‡´æ‹›å¼</li><li>âš”ï¸ <strong>ç´«è–‡è½¯å‰‘</strong>ï¼šæ‹›å¼å˜åŒ–ï¼Œä»¥æŸ”å…‹åˆš</li><li>âš”ï¸ <strong>ç„é“é‡å‰‘</strong>ï¼šè¿åŠ²æ³•é—¨ï¼ŒåŠ›åº¦å‹åˆ¶</li><li>âš”ï¸ <strong>æœ¨å‰‘</strong>ï¼šä»¥å¿«æ‰“æ…¢ï¼ŒæŒå¼ºå…‹å¼±</li><li>âš”ï¸ <strong>æ— å‰‘</strong>ï¼šå†…åŠ›å¤–æ”¾ï¼ŒåŒ–æ°”æ”»å‡»</li></ul><p>ğŸ“– æ¸…ä»£æ–‡å­¦å®¶ç‹å›½ç»´åœ¨ã€Šäººé—´è¯è¯ã€‹æå‡ºçš„è¯»ä¹¦ä¸‰å±‚å¢ƒç•Œ</p><ul><li>ğŸŒ‡ <strong>æ˜¨å¤œè¥¿é£å‡‹ç¢§æ ‘ï¼Œç‹¬ä¸Šé«˜æ¥¼ï¼Œæœ›å°½å¤©æ¶¯è·¯</strong></li><li>ğŸ‘š <strong>è¡£å¸¦æ¸å®½ç»ˆä¸æ‚”ï¼Œä¸ºä¼Šæ¶ˆå¾—äººæ†”æ‚´</strong></li><li>ğŸ® <strong>ä¼—é‡Œå¯»ä»–åƒç™¾åº¦ï¼Œè“¦ç„¶å›é¦–ï¼Œé‚£äººå´åœ¨ç¯ç«é˜‘çŠå¤„</strong></li></ul><h3 id="_2ã€è®¾è®¡æ¨¡å¼ç›®çš„" tabindex="-1"><a class="header-anchor" href="#_2ã€è®¾è®¡æ¨¡å¼ç›®çš„"><span>2ã€è®¾è®¡æ¨¡å¼ç›®çš„</span></a></h3><p>ğŸ’» è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†è®©ç¨‹åºï¼ˆè½¯ä»¶ï¼‰ï¼Œå…·æœ‰æ›´å¥½çš„</p><ul><li>â™»ï¸ <strong>å¯å¤ç”¨æ€§</strong></li><li>ğŸ“– <strong>å¯è¯»æ€§</strong></li><li>ğŸ”— <strong>å¯æ‰©å±•æ€§</strong></li><li>ğŸ‘®â€â™‚ï¸ <strong>å¯é æ€§</strong></li><li>ğŸ”§ <strong>å¯ç»´æŠ¤æ€§</strong></li><li>ğŸ‚ <strong>çµæ´»æ€§</strong></li><li>ğŸ“Œ <strong>é«˜å†…èšï¼Œä½è€¦åˆ</strong></li></ul><h3 id="_3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#_3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™"><span>3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™</span></a></h3><ul><li>1ï¸âƒ£ <strong>å•ä¸€èŒè´£åŸåˆ™</strong>ï¼ˆSingle Responsibility Principleï¼‰ï¼šä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£</li><li>2ï¸âƒ£ <strong>æ¥å£éš”ç¦»åŸåˆ™</strong>ï¼ˆInterface Segregation Principleï¼‰ï¼šä¸€ä¸ªç±»å¯¹å¦ä¸€ä¸ªç±»çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Š</li><li>3ï¸âƒ£ <strong>ä¾èµ–å€’è½¬åŸåˆ™</strong>ï¼ˆDependence Inversion Principleï¼‰ï¼šé¢å‘æ¥å£ç¼–ç¨‹</li><li>4ï¸âƒ£ <strong>é‡Œæ°æ›¿æ¢åŸåˆ™</strong>ï¼ˆLiskov Substitution Principleï¼‰ï¼šç”¨èšåˆã€ç»„åˆä»£æ›¿ç»§æ‰¿</li><li>5ï¸âƒ£ <strong>å¼€é—­åŸåˆ™</strong>ï¼ˆOCPï¼ŒOpen Closed Principleï¼‰ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</li><li>6ï¸âƒ£ <strong>è¿ªç±³ç‰¹æ³•åˆ™</strong>ï¼ˆDemeter Principleï¼‰ï¼šæœ€å°‘çŸ¥é“åŸåˆ™ï¼Œåªä¸ç›´æ¥çš„æœ‹å‹é€šä¿¡</li><li>7ï¸âƒ£ <strong>åˆæˆå¤ç”¨åŸåˆ™</strong>ï¼ˆComposite Reuse Principleï¼‰ï¼šå°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿</li></ul><h3 id="_4ã€uml-ç±»å›¾å…³ç³»" tabindex="-1"><a class="header-anchor" href="#_4ã€uml-ç±»å›¾å…³ç³»"><span>4ã€UML ç±»å›¾å…³ç³»</span></a></h3><ul><li><strong>ä¾èµ–</strong>ï¼ˆdependenceï¼‰</li><li><strong>æ³›åŒ–</strong>ï¼ˆGeneralizationï¼‰ï¼šå³ç»§æ‰¿</li><li><strong>å®ç°</strong>ï¼ˆImplementationï¼‰</li><li><strong>å…³è”</strong>ï¼ˆAssociationï¼‰ï¼šå•å‘ä¸€å¯¹ä¸€å…³ç³»ï¼›åŒå‘ä¸€å¯¹ä¸€å…³ç³»</li><li><strong>èšåˆ</strong>ï¼ˆAggregationï¼‰</li><li><strong>ç»„åˆ</strong>ï¼ˆCompositionï¼‰</li></ul><h3 id="_4ã€è®¾è®¡æ¨¡å¼åˆ†ç±»-5-7-11" tabindex="-1"><a class="header-anchor" href="#_4ã€è®¾è®¡æ¨¡å¼åˆ†ç±»-5-7-11"><span>4ã€è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼ˆ5 + 7 + 11ï¼‰</span></a></h3><ul><li><strong>åˆ›å»ºå‹æ¨¡å¼</strong>ï¼ˆ5ç§ï¼‰ï¼šå•ä¾‹æ¨¡å¼ã€å·¥å‚æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼</li><li><strong>ç»“æ„å‹æ¨¡å¼</strong>ï¼ˆ7ç§ï¼‰ï¼šé€‚é…å™¨æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€è£…é¥°æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€ä»£ç†æ¨¡å¼</li><li><strong>è¡Œä¸ºå‹æ¨¡å¼</strong>ï¼ˆ11ç§ï¼‰ï¼šæ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€èŒè´£é“¾æ¨¡å¼</li></ul><h3 id="_5ã€23-ç§è®¾è®¡æ¨¡å¼å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#_5ã€23-ç§è®¾è®¡æ¨¡å¼å®šä¹‰"><span>5ã€23 ç§è®¾è®¡æ¨¡å¼å®šä¹‰</span></a></h3><ol><li><strong>å•ä¾‹æ¨¡å¼</strong>ï¼ˆSingle Patternï¼‰ï¼šæŸä¸ªç±»åªèƒ½å­˜åœ¨ä¸€ä¸ªå¯¹è±¡å®ä¾‹</li><li><strong>å·¥å‚æ¨¡å¼</strong>ï¼ˆFactory Patternï¼‰ï¼šç”±å·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªç§äº§å“ç±»çš„å®ä¾‹</li><li><strong>åŸå‹æ¨¡å¼</strong>ï¼ˆPrototype Patternï¼‰ï¼šç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡ç§ç±»ï¼Œå¹¶é€šè¿‡æ‹·è´åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡</li><li><strong>å»ºé€ è€…æ¨¡å¼ / ç”Ÿæˆå™¨æ¨¡å¼</strong>ï¼ˆBuilder Patternï¼‰ï¼šå°†å¤æ‚å¯¹è±¡çš„å»ºé€ è¿‡ç¨‹æŠ½è±¡å‡ºæ¥ï¼Œä½¿è¿™ä¸ªæŠ½è±¡è¿‡ç¨‹çš„ä¸åŒå®ç°æ–¹æ³•å¯ä»¥æ„é€ å‡ºä¸åŒè¡¨ç°ï¼ˆå±æ€§ï¼‰çš„å¯¹è±¡</li><li><strong>é€‚é…å™¨æ¨¡å¼</strong>ï¼ˆAdapter Patternï¼‰ï¼šå°†æŸä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£è¡¨ç¤º</li><li><strong>æ¡¥æ¥æ¨¡å¼</strong>ï¼ˆBridge Patternï¼‰ï¼šå°†å®ç°ä¸æŠ½è±¡åˆ†ç¦»ï¼Œæ”¾åœ¨ä¸¤ä¸ªä¸åŒçš„ç±»å±‚æ¬¡ä¸­ï¼Œå¯ä»¥ç‹¬ç«‹æ”¹å˜</li><li><strong>è£…é¥°è€…æ¨¡å¼</strong>ï¼ˆDecorator Patternï¼‰ï¼šåŠ¨æ€åœ°å°†æ–°åŠŸèƒ½é™„åŠ åˆ°å¯¹è±¡ä¸Š</li><li><strong>ç»„åˆæ¨¡å¼ / éƒ¨åˆ†æ•´ä½“æ¨¡å¼</strong>ï¼ˆComposite Patternï¼‰ï¼šä¾æ®æ ‘å½¢ç»“æ„æ¥ç»„åˆå¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºéƒ¨åˆ†ä»¥åŠæ•´ä½“å±‚æ¬¡</li><li><strong>å¤–è§‚æ¨¡å¼ / è¿‡ç¨‹æ¨¡å¼</strong>ï¼ˆFacade Patternï¼‰ï¼šä¸ºè°ƒç”¨ç«¯æä¾›ç»Ÿä¸€çš„è°ƒç”¨æ¥å£</li><li><strong>äº«å…ƒæ¨¡å¼ / è‡é‡æ¨¡å¼</strong>ï¼ˆFlyweight Patternï¼‰ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡</li><li><strong>ä»£ç†æ¨¡å¼</strong>ï¼ˆProxy Patternï¼‰ï¼šé€šè¿‡ä»£ç†å¯¹è±¡è®¿é—®ç›®æ ‡å¯¹è±¡</li><li><strong>æ¨¡æ¿æ¨¡å¼ / æ¨¡æ¿æ–¹æ³•æ¨¡å¼</strong>ï¼ˆTemplate Method Patternï¼‰ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­</li><li><strong>å‘½ä»¤æ¨¡å¼</strong>ï¼ˆCommand Patternï¼‰ï¼šå°†å‘èµ·è¯·æ±‚çš„å¯¹è±¡ä¸æ‰§è¡Œè¯·æ±‚çš„å¯¹è±¡è§£è€¦</li><li><strong>è®¿é—®è€…æ¨¡å¼</strong>ï¼ˆVisitor Patternï¼‰ï¼šå°†æ•°æ®ç»“æ„ä¸æ•°æ®æ“ä½œåˆ†ç¦»</li><li><strong>è¿­ä»£å™¨æ¨¡å¼</strong>ï¼ˆIterator Patternï¼‰ï¼šæä¾›ä¸€ç§éå†é›†åˆå…ƒç´ çš„ç»Ÿä¸€æ¥å£ï¼Œç”¨ä¸€è‡´çš„æ–¹æ³•éå†é›†åˆå…ƒç´ </li><li><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>ï¼ˆObserver Patternï¼‰ï¼šå¯¹è±¡ä¹‹é—´å¤šå¯¹ä¸€ä¾èµ–çš„ä¸€ç§è®¾è®¡æ–¹æ¡ˆ</li><li><strong>ä¸­ä»‹è€…æ¨¡å¼</strong>ï¼ˆMediator Patternï¼‰ï¼šç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’</li><li><strong>å¤‡å¿˜å½•æ¨¡å¼</strong>ï¼ˆMemento Patternï¼‰ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€</li><li><strong>è§£é‡Šå™¨æ¨¡å¼</strong>ï¼ˆInterpreter Patternï¼‰ï¼šç»™å®šä¸€ä¸ªè¯­è¨€å¹¶å®šä¹‰å…¶æ–‡æ³•è¡¨ç¤ºï¼Œä½¿ç”¨è¯¥è§£é‡Šå™¨æ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­</li><li><strong>çŠ¶æ€æ¨¡å¼</strong>ï¼ˆState Patternï¼‰ï¼šè§£å†³å¯¹è±¡åœ¨å¤šç§çŠ¶æ€è½¬æ¢æ—¶ï¼Œéœ€è¦å¯¹å¤–è¾“å‡ºä¸åŒçš„è¡Œä¸ºçš„é—®é¢˜</li><li><strong>ç­–ç•¥æ¨¡å¼</strong>ï¼ˆStrategy Patternï¼‰ï¼šå®šä¹‰ç®—æ³•æ—ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©ä»–ä»¬ä¹‹é—´å¯ä»¥äº’ç›¸æ›¿æ¢</li><li><strong>èŒè´£é“¾æ¨¡å¼ / è´£ä»»é“¾æ¨¡å¼</strong>ï¼ˆChain of Responsibility Patternï¼‰ï¼šä¸ºè¯·æ±‚åˆ›å»ºä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡çš„é“¾</li></ol><h3 id="_6ã€23ç§è®¾è®¡æ¨¡å¼ä¸¾ä¾‹ã€æºç åŠä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#_6ã€23ç§è®¾è®¡æ¨¡å¼ä¸¾ä¾‹ã€æºç åŠä¼˜ç¼ºç‚¹"><span>6ã€23ç§è®¾è®¡æ¨¡å¼ä¸¾ä¾‹ã€æºç åŠä¼˜ç¼ºç‚¹</span></a></h3>',20)),n("table",null,[s[68]||(s[68]=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"åˆ†ç±»"),n("th",{style:{"text-align":"left"}},"è®¾è®¡æ¨¡å¼"),n("th",{style:{"text-align":"left"}},"ä¸¾ä¾‹"),n("th",{style:{"text-align":"left"}},"æºç "),n("th",{style:{"text-align":"left"}},"ä¼˜ç‚¹"),n("th",null,"ç¼ºç‚¹")])],-1)),n("tbody",null,[s[55]||(s[55]=n("tr",null,[n("td",{style:{"text-align":"left"}},"åˆ›å»ºå‹"),n("td",{style:{"text-align":"left"}},"å•ä¾‹æ¨¡å¼"),n("td",{style:{"text-align":"left"}},[n("code",null,"Singleton")]),n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"java.lang.Runtime")]),n("td",{style:{"text-align":"left"}},"èŠ‚çœèµ„æºï¼Œæé«˜æ€§èƒ½"),n("td")],-1)),s[56]||(s[56]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"å·¥å‚æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"æŠ«è¨åº—"),n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"Calendar")]),n("td",{style:{"text-align":"left"}},"ç»Ÿä¸€ç®¡ç†ï¼Œä¾¿äºç»´æŠ¤"),n("td")],-1)),n("tr",null,[s[2]||(s[2]=n("td",{style:{"text-align":"left"}},"~",-1)),s[3]||(s[3]=n("td",{style:{"text-align":"left"}},"åŸå‹æ¨¡å¼",-1)),s[4]||(s[4]=n("td",{style:{"text-align":"left"}},"å…‹éš†ç¾Š",-1)),s[5]||(s[5]=n("td",{style:{"text-align":"left"}},[a("Spring ä¸­"),n("code",null,"ApplicationContext")],-1)),s[6]||(s[6]=n("td",{style:{"text-align":"left"}},"ç®€åŒ–è¿‡ç¨‹ï¼Œæé«˜æ•ˆç‡",-1)),n("td",null,[e(p,{color:"red"},{default:t(()=>s[0]||(s[0]=[a("å¤æ‚")])),_:1}),s[1]||(s[1]=a("ï¼›è¿èƒŒ OCP"))])]),s[57]||(s[57]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"å»ºé€ è€…æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"ç›–æˆ¿å­"),n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"StringBuilder")]),n("td",{style:{"text-align":"left"}},"è§£è€¦åˆ›å»ºè¿‡ç¨‹"),n("td")],-1)),s[58]||(s[58]=n("tr",null,[n("td",{style:{"text-align":"left"}},"ç»“æ„å‹"),n("td",{style:{"text-align":"left"}},"é€‚é…å™¨æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"æ’åº§"),n("td",{style:{"text-align":"left"}},[a("SpringMVC ä¸­"),n("code",null,"HandlerAdapter")]),n("td",{style:{"text-align":"left"}},"å…¼å®¹æ€§"),n("td")],-1)),s[59]||(s[59]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"æ¡¥æ¥æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"æ‰‹æœº"),n("td",{style:{"text-align":"left"}},[a("JDBC ä¸­"),n("code",null,"Driver")]),n("td",{style:{"text-align":"left"}},"åˆ†ç¦»æŠ½è±¡ä¸å®ç°"),n("td")],-1)),s[60]||(s[60]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"è£…é¥°è€…æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"æ˜Ÿå·´å…‹å’–å•¡"),n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"FilterlnputStream")]),n("td",{style:{"text-align":"left"}},"åŠ¨æ€æ‰©å±•åŠŸèƒ½"),n("td")],-1)),s[61]||(s[61]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"ç»„åˆæ¨¡å¼"),n("td",{style:{"text-align":"left"}},"å­¦æ ¡é™¢ç³»"),n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"HashMap")]),n("td",{style:{"text-align":"left"}},"æ˜ç¡®éƒ¨åˆ†ä¸æ•´ä½“å±‚æ¬¡"),n("td")],-1)),n("tr",null,[s[8]||(s[8]=n("td",{style:{"text-align":"left"}},"~",-1)),s[9]||(s[9]=n("td",{style:{"text-align":"left"}},"å¤–è§‚æ¨¡å¼",-1)),s[10]||(s[10]=n("td",{style:{"text-align":"left"}},"å½±é™¢ç®¡ç†",-1)),s[11]||(s[11]=n("td",{style:{"text-align":"left"}},[a("MyBatis ä¸­"),n("code",null,"Configuration")],-1)),s[12]||(s[12]=n("td",{style:{"text-align":"left"}},"å±è”½ç»†èŠ‚ï¼Œç®€åŒ–æ“ä½œ",-1)),n("td",null,[e(p,{color:"orange"},{default:t(()=>s[7]||(s[7]=[a("è¿‡å¤šä¸åˆ©äºç»´æŠ¤")])),_:1})])]),n("tr",null,[s[14]||(s[14]=n("td",{style:{"text-align":"left"}},"~",-1)),s[15]||(s[15]=n("td",{style:{"text-align":"left"}},"äº«å…ƒæ¨¡å¼",-1)),s[16]||(s[16]=n("td",{style:{"text-align":"left"}},"ç½‘ç«™å±•ç¤º",-1)),s[17]||(s[17]=n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"Integer")],-1)),s[18]||(s[18]=n("td",{style:{"text-align":"left"}},"é™ä½å†…å­˜ï¼Œæé«˜æ•ˆç‡",-1)),n("td",null,[e(p,{color:"red"},{default:t(()=>s[13]||(s[13]=[a("å¤æ‚")])),_:1})])]),s[62]||(s[62]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"ä»£ç†æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"æ•™å¸ˆæ•™ä¹¦"),n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"Proxy")]),n("td",{style:{"text-align":"left"}},"æ‰©å±•åŠŸèƒ½ï¼Œæ›´åŠ å®‰å…¨"),n("td")],-1)),n("tr",null,[s[20]||(s[20]=n("td",{style:{"text-align":"left"}},"è¡Œä¸ºå‹",-1)),s[21]||(s[21]=n("td",{style:{"text-align":"left"}},"æ¨¡æ¿æ¨¡å¼",-1)),s[22]||(s[22]=n("td",{style:{"text-align":"left"}},"è±†æµ†åˆ¶ä½œ",-1)),s[23]||(s[23]=n("td",{style:{"text-align":"left"}},[a("Spring ä¸­"),n("code",null,"AbstractApplicationContext")],-1)),s[24]||(s[24]=n("td",{style:{"text-align":"left"}},"ç»Ÿä¸€ç®—æ³•ï¼Œä»£ç å¤ç”¨",-1)),n("td",null,[e(p,{color:"orange"},{default:t(()=>s[19]||(s[19]=[a("è¿‡å¤šä¸åˆ©äºç»´æŠ¤")])),_:1})])]),n("tr",null,[s[26]||(s[26]=n("td",{style:{"text-align":"left"}},"~",-1)),s[27]||(s[27]=n("td",{style:{"text-align":"left"}},"å‘½ä»¤æ¨¡å¼",-1)),s[28]||(s[28]=n("td",{style:{"text-align":"left"}},"æ™ºèƒ½ç”Ÿæ´»",-1)),s[29]||(s[29]=n("td",{style:{"text-align":"left"}},[a("Spring ä¸­"),n("code",null,"JdbcTemplate")],-1)),s[30]||(s[30]=n("td",{style:{"text-align":"left"}},"è§£è€¦è¯·æ±‚å‘èµ·ä¸æ‰§è¡Œ",-1)),n("td",null,[e(p,{color:"red"},{default:t(()=>s[25]||(s[25]=[a("å¤æ‚")])),_:1})])]),s[63]||(s[63]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"è®¿é—®è€…æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"æµ‹è¯„ç³»ç»Ÿ"),n("td",{style:{"text-align":"left"}}),n("td",{style:{"text-align":"left"}},"è§£è€¦æ•°æ®ç»“æ„ä¸æ“ä½œ"),n("td",null,"è¿èƒŒè¿ªç±³ç‰¹ã€ä¾èµ–å€’è½¬")],-1)),n("tr",null,[s[32]||(s[32]=n("td",{style:{"text-align":"left"}},"~",-1)),s[33]||(s[33]=n("td",{style:{"text-align":"left"}},"è¿­ä»£å™¨æ¨¡å¼",-1)),s[34]||(s[34]=n("td",{style:{"text-align":"left"}},"å­¦æ ¡é™¢ç³»",-1)),s[35]||(s[35]=n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"ArrayList")],-1)),s[36]||(s[36]=n("td",{style:{"text-align":"left"}},"ç»Ÿä¸€éå†",-1)),n("td",null,[e(p,{color:"orange"},{default:t(()=>s[31]||(s[31]=[a("è¿‡å¤šä¸åˆ©äºç»´æŠ¤")])),_:1})])]),s[64]||(s[64]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"è§‚å¯Ÿè€…æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"å¤©æ°”é¢„æŠ¥"),n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"Observable")]),n("td",{style:{"text-align":"left"}},"åŠ¨æ€æ·»åŠ ä¸‰æ–¹"),n("td")],-1)),n("tr",null,[s[38]||(s[38]=n("td",{style:{"text-align":"left"}},"~",-1)),s[39]||(s[39]=n("td",{style:{"text-align":"left"}},"ä¸­ä»‹è€…æ¨¡å¼",-1)),s[40]||(s[40]=n("td",{style:{"text-align":"left"}},"æ™ºèƒ½å®¶åº­",-1)),s[41]||(s[41]=n("td",{style:{"text-align":"left"}},null,-1)),s[42]||(s[42]=n("td",{style:{"text-align":"left"}},"å°è£…äº¤äº’",-1)),n("td",null,[e(p,{color:"red"},{default:t(()=>s[37]||(s[37]=[a("å¤æ‚")])),_:1})])]),s[65]||(s[65]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"å¤‡å¿˜å½•æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"æ¸¸æˆè§’è‰²çŠ¶æ€æ¢å¤"),n("td",{style:{"text-align":"left"}}),n("td",{style:{"text-align":"left"}},"æ–¹ä¾¿æ¢å¤çŠ¶æ€"),n("td",null,"å ç”¨èµ„æºï¼Œæ¶ˆè€—å†…å­˜")],-1)),s[66]||(s[66]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"è§£é‡Šå™¨æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"å››åˆ™è¿ç®—"),n("td",{style:{"text-align":"left"}},[a("Spring ä¸­"),n("code",null,"SpelExpressionParser")]),n("td",{style:{"text-align":"left"}},"å¯æ‰©å±•æ€§"),n("td",null,"è°ƒè¯•å¤æ‚ï¼›æ•ˆç‡ä½")],-1)),n("tr",null,[s[44]||(s[44]=n("td",{style:{"text-align":"left"}},"~",-1)),s[45]||(s[45]=n("td",{style:{"text-align":"left"}},"çŠ¶æ€æ¨¡å¼",-1)),s[46]||(s[46]=n("td",{style:{"text-align":"left"}},"APP æŠ½å¥–",-1)),s[47]||(s[47]=n("td",{style:{"text-align":"left"}},"å€Ÿè´·å¹³å°",-1)),s[48]||(s[48]=n("td",{style:{"text-align":"left"}},"åˆ†ç¦»çŠ¶æ€",-1)),n("td",null,[e(p,{color:"orange"},{default:t(()=>s[43]||(s[43]=[a("è¿‡å¤šä¸åˆ©äºç»´æŠ¤")])),_:1})])]),n("tr",null,[s[50]||(s[50]=n("td",{style:{"text-align":"left"}},"~",-1)),s[51]||(s[51]=n("td",{style:{"text-align":"left"}},"ç­–ç•¥æ¨¡å¼",-1)),s[52]||(s[52]=n("td",{style:{"text-align":"left"}},"é¸­å­",-1)),s[53]||(s[53]=n("td",{style:{"text-align":"left"}},[a("JDK ä¸­"),n("code",null,"Comparator")],-1)),s[54]||(s[54]=n("td",{style:{"text-align":"left"}},"åˆ†ç¦»ä¸å˜ä¸å˜åŒ–",-1)),n("td",null,[e(p,{color:"orange"},{default:t(()=>s[49]||(s[49]=[a("è¿‡å¤šä¸åˆ©äºç»´æŠ¤")])),_:1})])]),s[67]||(s[67]=n("tr",null,[n("td",{style:{"text-align":"left"}},"~"),n("td",{style:{"text-align":"left"}},"èŒè´£é“¾æ¨¡å¼"),n("td",{style:{"text-align":"left"}},"é‡‡è´­å®¡æ‰¹"),n("td",{style:{"text-align":"left"}},[a("SpringMVC ä¸­"),n("code",null,"HandlerExecutionChain")]),n("td",{style:{"text-align":"left"}},"åˆ†ç¦»è¯·æ±‚ä¸å¤„ç†"),n("td",null,"è°ƒè¯•å¤æ‚ï¼›å½±å“æ€§èƒ½")],-1))])]),s[117]||(s[117]=l('<h2 id="ã€-ã€‘ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ã€-ã€‘ç®€ä»‹"><span>ã€-ã€‘ç®€ä»‹</span></a></h2><h3 id="_1ã€è®¾è®¡æ¨¡å¼çš„é‡è¦æ€§" tabindex="-1"><a class="header-anchor" href="#_1ã€è®¾è®¡æ¨¡å¼çš„é‡è¦æ€§"><span>1ã€è®¾è®¡æ¨¡å¼çš„é‡è¦æ€§</span></a></h3><p>1ï¼‰è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œè®¾è®¡æ¨¡å¼ï¼ˆdesign patternï¼‰æ˜¯å¯¹è½¯ä»¶è®¾è®¡ä¸­æ™®éå­˜åœ¨ï¼ˆåå¤å‡ºç°ï¼‰çš„å„ç§é—®é¢˜ï¼Œæ‰€æå‡ºçš„è§£å†³æ–¹æ¡ˆã€‚</p><p>è¿™ä¸ªæœ¯è¯­æ˜¯ç”±åŸƒé‡Œå¸Œ.ä¼½ç›ï¼ˆErich Gammaï¼‰ç­‰äººåœ¨1990å¹´ä»£ä»å»ºç­‘è®¾è®¡é¢†åŸŸå¼•å…¥åˆ°è®¡ç®—æœºç§‘å­¦çš„</p><p>2ï¼‰å¤§å¦VSç®€æ˜“æˆ¿</p><p><img src="'+k+'" alt="image-20210915185536693"></p><p>3ï¼‰æ‹¿å®é™…å·¥ä½œç»å†æ¥è¯´ï¼Œå½“ä¸€ä¸ªé¡¹ç›®å¼€å‘å®Œåï¼Œå¦‚æœå®¢æˆ·æå‡ºå¢æ–°åŠŸèƒ½ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><p>4ï¼‰å¦‚æœé¡¹ç›®å¼€å‘å®Œåï¼ŒåŸæ¥ç¨‹åºå‘˜ç¦»èŒï¼Œä½ æ¥æ‰‹ç»´æŠ¤è¯¥é¡¹ç›®æ€ä¹ˆåŠï¼Ÿï¼ˆç»´æŠ¤æ€§ã€å¯è¯»æ€§ã€è§„èŒƒæ€§ï¼‰</p><p>5ï¼‰ç›®å‰ç¨‹åºå‘˜é—¨æ§›è¶Šæ¥è¶Šé«˜ï¼Œä¸€çº¿ IT å…¬å¸ï¼ˆå¤§å‚ï¼‰ï¼Œéƒ½ä¼šé—®ä½ åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨è¿‡ä»€ä¹ˆè®¾è®¡æ¨¡å¼ï¼Œæ€æ ·ä½¿ç”¨çš„ï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚</p><p>6ï¼‰è®¾è®¡æ¨¡å¼åœ¨è½¯ä»¶ä¸­å“ªé‡Œï¼Ÿé¢å‘å¯¹è±¡ã€OOã€‘=ã€‹åŠŸèƒ½æ¨¡å—ã€è®¾è®¡æ¨¡å¼ + ç®—æ³•ï¼ˆæ•°æ®ç»“æ„ï¼‰ã€‘=ã€‹æ¡†æ¶ã€å¤šç§è®¾è®¡æ¨¡å¼ã€‘=ã€‹æ¶æ„ã€æœåŠ¡å™¨é›†ç¾¤ã€‘</p><p>7ï¼‰å¦‚æœæƒ³æˆä¸ºåˆæ ¼è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œé‚£å°±èŠ±æ—¶é—´æ¥ç ”ç©¶ä¸‹è®¾è®¡æ¨¡å¼æ˜¯éå¸¸å¿…è¦çš„</p><h3 id="_2ã€è®¾è®¡æ¨¡å¼é¢è¯•é¢˜" tabindex="-1"><a class="header-anchor" href="#_2ã€è®¾è®¡æ¨¡å¼é¢è¯•é¢˜"><span>2ã€è®¾è®¡æ¨¡å¼é¢è¯•é¢˜</span></a></h3><p><strong>åŸå‹è®¾è®¡æ¨¡å¼</strong></p><ul><li><p>1ï¼‰æœ‰è¯·ä½¿ç”¨ UML ç±»å›¾ç”»å‡ºåŸå‹æ¨¡å¼æ ¸å¿ƒè§’è‰²</p></li><li><p>2ï¼‰åŸå‹è®¾è®¡æ¨¡å¼çš„æ·±æ‹·è´å’Œæµ…æ‹·è´æ˜¯ä»€ä¹ˆï¼Œå¹¶å†™å‡ºæ·±æ‹·è´çš„ä¸¤ç§æ–¹å¼çš„æºç ï¼ˆé‡å†™ clone æ–¹æ³•å®ç°æ·±æ‹·è´ã€ä½¿ç”¨åºåˆ—åŒ–æ¥å®ç°æ·±æ‹·è´ï¼‰</p></li><li><p>3ï¼‰åœ¨ Spring æ¡†æ¶ä¸­å“ªé‡Œä½¿ç”¨åˆ°åŸå‹æ¨¡å¼ï¼Œå¹¶å¯¹æºç è¿›è¡Œåˆ†æ</p></li><li><p>4ï¼‰Spring ä¸­åŸå‹ bean çš„åˆ›å»ºï¼Œå°±æ˜¯åŸå‹æ¨¡å¼çš„åº”ç”¨</p></li><li><p>5ï¼‰ä»£ç åˆ†æ + Debug æºç </p><p><img src="'+r+'" alt="image-20210913221302650"></p></li></ul><p><strong>è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™</strong></p><ul><li>1ï¼‰<mark>å•ä¸€èŒè´£åŸåˆ™</mark></li><li>2ï¼‰<mark>æ¥å£éš”ç¦»åŸåˆ™</mark></li><li>3ï¼‰<mark>ä¾èµ–å€’è½¬åŸåˆ™</mark></li><li>4ï¼‰<mark>é‡Œæ°æ›¿æ¢åŸåˆ™</mark></li><li>5ï¼‰<mark>å¼€é—­åŸåˆ™ï¼ˆOCPï¼‰</mark></li><li>6ï¼‰<mark>è¿ªç±³ç‰¹æ³•åˆ™</mark></li><li>7ï¼‰<mark>åˆæˆå¤ç”¨åŸåˆ™</mark></li></ul><p>è¦æ±‚ï¼š</p><ul><li>1ï¼‰ä¸ƒå¤§è®¾è®¡åŸåˆ™æ ¸å¿ƒæ€æƒ³</li><li>2ï¼‰èƒ½å¤Ÿä»¥ç±»å›¾çš„è¯´æ˜è®¾è®¡åŸåˆ™</li><li>3ï¼‰åœ¨é¡¹ç›®å®é™…å¼€å‘ä¸­ï¼Œä½ åœ¨å“ªé‡Œä½¿ç”¨åˆ°äº† OCP åŸåˆ™</li></ul><p><strong>çŠ¶æ€æ¨¡å¼</strong></p><p>é‡‘èå€Ÿè´·å¹³å°é¡¹ç›®ï¼šå€Ÿè´·å¹³å°çš„è®¢å•ï¼Œæœ‰å®¡æ ¸-å‘å¸ƒ-æŠ¢å•ç­‰ç­‰æ­¥éª¤ï¼Œéšç€æ“ä½œçš„ä¸åŒï¼Œä¼šæ”¹å˜è®¢å•çš„çŠ¶æ€ï¼Œé¡¹ç›®ä¸­çš„è¿™ä¸ªæ¨¡å—å®ç°å°±ä¼šä½¿ç”¨åˆ°çŠ¶æ€æ¨¡å¼ï¼Œè¯·ä½ ä½¿ç”¨çŠ¶æ€æ¨¡å¼è¿›è¡Œè®¾è®¡ï¼Œå¹¶å®Œæˆå®é™…ä»£ç </p><p>é—®é¢˜åˆ†æï¼šè¿™ç±»ä»£ç éš¾ä»¥åº”å¯¹å˜åŒ–ï¼Œåœ¨æ·»åŠ ä¸€ç§çŠ¶æ€æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ·»åŠ  if/else ï¼Œåœ¨æ·»åŠ ä¸€ç§åŠŸèƒ½æ—¶ï¼Œè¦å¯¹æ‰€æœ‰çš„çŠ¶æ€è¿›è¡Œåˆ¤æ–­ã€‚å› æ­¤ä»£ç ä¼šå˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œå¹¶ä¸”ä¸€æ—¦æ²¡æœ‰å¤„ç†æŸä¸ªçŠ¶æ€ï¼Œä¾¿ä¼šå‘ç”Ÿæå…¶ä¸¥é‡çš„BUGï¼Œéš¾ä»¥ç»´æŠ¤</p><p><strong>è§£é‡Šå™¨è®¾è®¡æ¨¡å¼</strong></p><ul><li><p>1ï¼‰ä»‹ç»è§£é‡Šå™¨è®¾è®¡æ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿ</p></li><li><p>2ï¼‰ç”»å‡ºè§£é‡Šå™¨è®¾è®¡æ¨¡å¼çš„ UML ç±»å›¾ï¼Œåˆ†æè®¾è®¡æ¨¡å¼ä¸­çš„å„ä¸ªè§’è‰²æ˜¯ä»€ä¹ˆï¼Ÿ</p><p><img src="'+d+'" alt="image-20210913223111095"></p></li><li><p>3ï¼‰è¯·è¯´æ˜ Spring çš„æ¡†æ¶ä¸­ï¼Œå“ªé‡Œä½¿ç”¨åˆ°äº†è§£é‡Šå™¨è®¾è®¡æ¨¡å¼ï¼Œå¹¶åšæºç çº§åˆ«çš„åˆ†æ</p><p><img src="'+v+'" alt=""></p></li></ul><p><strong>å•ä¾‹è®¾è®¡æ¨¡å¼</strong></p><p>å•ä¾‹è®¾è®¡æ¨¡å¼ä¸€å…±æœ‰å‡ ç§å®ç°æ–¹å¼ï¼Ÿè¯·åˆ†åˆ«ç”¨ä»£ç å®ç°ï¼Œå¹¶è¯´æ˜å„ä¸ªå®ç°æ–¹å¼çš„ä¼˜ç‚¹å’Œå®ç‚¹ï¼Ÿ</p><p>å•ä¾‹è®¾è®¡æ¨¡å¼ä¸€å…±æœ‰8ç§å†™æ³•ï¼Œåé¢æˆ‘ä»¬ä¼šä¾æ¬¡è®²åˆ°</p><ul><li>1ï¼‰<mark>é¥¿æ±‰å¼ ä¸¤ç§</mark></li><li>2ï¼‰<mark>æ‡’æ±‰å¼ ä¸‰ç§</mark></li><li>3ï¼‰<mark>åŒé‡æ£€æŸ¥</mark></li><li>4ï¼‰<mark>é™æ€å†…éƒ¨ç±»</mark></li><li>5ï¼‰<mark>æšä¸¾</mark></li></ul><p><img src="'+m+`" alt="image-20210913225416112"></p><h3 id="_3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™-1" tabindex="-1"><a class="header-anchor" href="#_3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™-1"><span>3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™</span></a></h3><h4 id="è®¾è®¡æ¨¡å¼ç›®çš„" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡æ¨¡å¼ç›®çš„"><span>è®¾è®¡æ¨¡å¼ç›®çš„</span></a></h4><p>ç¼–å†™è½¯ä»¶è¿‡ç¨‹ä¸­ï¼Œç¨‹åºå‘˜é¢ä¸´ç€æ¥è‡ª<mark>è€¦åˆæ€§ï¼Œå†…èšæ€§ä»¥åŠå¯ç»´æŠ¤æ€§ï¼Œå¯æ‰©å±•æ€§ï¼Œé‡ç”¨æ€§ï¼Œçµæ´»æ€§</mark>ç­‰å¤šæ–¹é¢çš„æŒ‘æˆ˜</p><p>è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†è®©ç¨‹åºï¼ˆè½¯ä»¶ï¼‰ï¼Œå…·æœ‰æ›´å¥½çš„</p><ul><li>1ï¼‰<mark>å¯å¤ç”¨æ€§</mark>ï¼ˆå³ï¼šç›¸åŒåŠŸèƒ½çš„ä»£ç ï¼Œä¸ç”¨å¤šæ¬¡ç¼–å†™ï¼Œä¹Ÿå«åšä»£ç é‡ç”¨æ€§ï¼‰</li><li>2ï¼‰<mark>å¯è¯»æ€§</mark>ï¼ˆå³ï¼šç¼–ç¨‹è§„èŒƒæ€§ï¼Œä¾¿äºå…¶ä»–ç¨‹åºå‘˜çš„é˜…è¯»å’Œç†è§£ï¼‰</li><li>3ï¼‰<mark>å¯æ‰©å±•æ€§</mark>ï¼ˆå³ï¼šå½“éœ€è¦å¢åŠ æ–°çš„åŠŸèƒ½æ—¶ï¼Œéå¸¸çš„æ–¹ä¾¿ï¼Œä¹Ÿå«åšå¯ç»´æŠ¤æ€§ï¼‰</li><li>4ï¼‰<mark>å¯é æ€§</mark>ï¼ˆå³ï¼šå½“æˆ‘ä»¬å¢åŠ æ–°çš„åŠŸèƒ½åï¼Œå¯¹åŸæ¥çš„åŠŸèƒ½æ²¡æœ‰å½±å“ï¼‰</li><li>5ï¼‰ä½¿ç¨‹åºå‘ˆç°<mark>é«˜å†…èšï¼Œä½è€¦åˆ</mark>çš„ç‰¹æ€§</li></ul><p><strong>åˆ†äº«é‡‘å¥</strong></p><p>è®¾è®¡æ¨¡å¼åŒ…å«äº†é¢å‘å¯¹è±¡çš„ç²¾é«“ï¼Œâ€œæ‡‚äº†è®¾è®¡æ¨¡å¼ï¼Œä½ å°±æ‡‚äº†é¢å‘å¯¹è±¡åˆ†æå’Œè®¾è®¡ï¼ˆOOA/Dï¼‰çš„ç²¾è¦â€</p><p>Scott Mavers åœ¨å…¶å·¨è‘—ã€ŠEffective C++ã€‹å°±æ›¾ç»è¯´è¿‡ï¼šC++ è€æ‰‹å’Œ C++ æ–°æ‰‹çš„åŒºåˆ«å°±æ˜¯å‰è€…æ‰‹èƒŒä¸Šæœ‰å¾ˆå¤šä¼¤ç–¤</p><h4 id="è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™"><span>è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™</span></a></h4><p>è®¾è®¡æ¨¡å¼åŸåˆ™ï¼Œå…¶å®å°±æ˜¯ç¨‹åºå‘˜åœ¨ç¼–ç¨‹æ—¶ï¼Œåº”å½“éµå®ˆçš„åŸåˆ™ï¼Œä¹Ÿæ˜¯å„ç§è®¾è®¡æ¨¡å¼çš„åŸºç¡€ï¼ˆå³ï¼šè®¾è®¡æ¨¡å¼ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡çš„ä¾æ®ï¼‰è®¾è®¡æ¨¡å¼</p><p>å¸¸ç”¨çš„ä¸ƒå¤§åŸåˆ™æœ‰ï¼š</p><ul><li>1ï¼‰<mark>å•ä¸€èŒè´£åŸåˆ™</mark></li><li>2ï¼‰<mark>æ¥å£éš”ç¦»åŸåˆ™</mark></li><li>3ï¼‰<mark>ä¾èµ–å€’è½¬åŸåˆ™</mark></li><li>4ï¼‰<mark>é‡Œæ°æ›¿æ¢åŸåˆ™</mark></li><li>5ï¼‰<mark>å¼€é—­åŸåˆ™</mark></li><li>6ï¼‰<mark>è¿ªç±³ç‰¹æ³•åˆ™</mark></li><li>7ï¼‰<mark>åˆæˆå¤ç”¨åŸåˆ™</mark></li></ul><h4 id="_3-1ã€å•ä¸€èŒè´£åŸåˆ™-single-responsibility-principle" tabindex="-1"><a class="header-anchor" href="#_3-1ã€å•ä¸€èŒè´£åŸåˆ™-single-responsibility-principle"><span>3.1ã€å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principleï¼‰</span></a></h4><p><strong>åŸºæœ¬ä»‹ç»</strong></p><p>å¯¹ç±»æ¥è¯´çš„ï¼Œå³ä¸€ä¸ªç±»åº”è¯¥åªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚å¦‚ç±»Aè´Ÿè´£ä¸¤ä¸ªä¸åŒèŒè´£ï¼šèŒè´£1ï¼ŒèŒè´£2ã€‚å½“èŒè´£1éœ€æ±‚å˜æ›´è€Œæ”¹å˜Aæ—¶ï¼Œå¯èƒ½é€ æˆèŒè´£2æ‰§è¡Œé”™è¯¯ï¼Œæ‰€ä»¥éœ€è¦å°†ç±»Açš„ç²’åº¦åˆ†è§£ä¸ºA1ï¼ŒA2</p><p><strong>åº”ç”¨å®ä¾‹</strong></p><p>1ï¼‰ä»¥äº¤é€šå·¥å…·æ¡ˆä¾‹è®²è§£</p><p>2ï¼‰çœ‹è€å¸ˆä»£ç æ¼”ç¤º</p><p>3ï¼‰æ–¹æ¡ˆ1[åˆ†æè¯´æ˜]</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleResponsibility1</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Vehicle</span> vehicle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vehicle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        vehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;æ±½è½¦&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        vehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;è½®èˆ¹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        vehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;é£æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æ–¹å¼1çš„åˆ†æ</span>
<span class="line"> * 1.åœ¨æ–¹å¼1çš„runæ–¹æ³•ä¸­ï¼Œè¿åäº†å•ä¸€èŒè´£åŸåˆ™</span>
<span class="line"> * 2.è§£å†³çš„æ–¹æ¡ˆéå¸¸çš„ç®€å•ï¼Œæ ¹æ®äº¤é€šå·¥å…·è¿è¡Œæ–¹æ³•ä¸åŒï¼Œåˆ†è§£æˆä¸åŒç±»å³å¯</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Vehicle</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;æ±½è½¦&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>type <span class="token operator">+</span> <span class="token string">&quot;åœ¨å…¬è·¯ä¸Šè¿è¡Œ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;è½®èˆ¹&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>type <span class="token operator">+</span> <span class="token string">&quot;åœ¨æ°´é¢ä¸Šè¿è¡Œ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;é£æœº&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>type <span class="token operator">+</span> <span class="token string">&quot;åœ¨å¤©ç©ºä¸Šè¿è¡Œ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4ï¼‰æ–¹æ¡ˆ2[åˆ†æè¯´æ˜]</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleResponsibility2</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">RoadVehicle</span> roadVehicle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RoadVehicle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        roadVehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;æ±½è½¦&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">WaterVehicle</span> waterVehicle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WaterVehicle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        waterVehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;è½®èˆ¹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">AirVehicle</span> airVehicle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AirVehicle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        airVehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;é£æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æ–¹æ¡ˆ2çš„åˆ†æ</span>
<span class="line"> * 1.éµå®ˆå•ä¸€èŒè´£åŸåˆ™</span>
<span class="line"> * 2.ä½†æ˜¯è¿™æ ·åšçš„æ”¹åŠ¨å¾ˆå¤§ï¼Œå³å°†ç±»åˆ†è§£ï¼ŒåŒæ—¶ä¿®æ”¹å®¢æˆ·ç«¯</span>
<span class="line"> * 3.æ”¹è¿›ï¼šç›´æ¥ä¿®æ”¹Vehicleç±»ï¼Œæ”¹åŠ¨çš„ä»£ç ä¼šæ¯”è¾ƒå°‘=&gt;æ–¹æ¡ˆ3</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">RoadVehicle</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>type <span class="token operator">+</span> <span class="token string">&quot;åœ¨å…¬è·¯ä¸Šè¿è¡Œ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">WaterVehicle</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>type <span class="token operator">+</span> <span class="token string">&quot;åœ¨æ°´é¢ä¸Šè¿è¡Œ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">AirVehicle</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>type <span class="token operator">+</span> <span class="token string">&quot;åœ¨å¤©ç©ºä¸Šè¿è¡Œ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>5ï¼‰æ–¹æ¡ˆ3[åˆ†æè¯´æ˜]</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleResponsibility3</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Vehicle2</span> vehicle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vehicle2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        vehicle<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;æ±½è½¦&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        vehicle<span class="token punctuation">.</span><span class="token function">runWater</span><span class="token punctuation">(</span><span class="token string">&quot;è½®èˆ¹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        vehicle<span class="token punctuation">.</span><span class="token function">runAir</span><span class="token punctuation">(</span><span class="token string">&quot;é£æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æ–¹å¼3çš„åˆ†æ</span>
<span class="line"> * 1.è¿™ç§ä¿®æ”¹æ–¹æ³•æ²¡æœ‰å¯¹åŸæ¥çš„ç±»åšå¤§çš„ä¿®æ”¹ï¼Œåªæ˜¯å¢åŠ æ–¹æ³•</span>
<span class="line"> * 2.è¿™é‡Œè™½ç„¶æ²¡æœ‰åœ¨ç±»è¿™ä¸ªçº§åˆ«ä¸Šéµå®ˆå•ä¸€èŒè´£åŸåˆ™ï¼Œä½†æ˜¯åœ¨æ–¹æ³•çº§åˆ«ä¸Šï¼Œä»ç„¶æ˜¯éµå®ˆå•ä¸€èŒè´£</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Vehicle2</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>type <span class="token operator">+</span> <span class="token string">&quot;åœ¨å…¬è·¯ä¸Šè¿è¡Œ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runWater</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>type <span class="token operator">+</span> <span class="token string">&quot;åœ¨æ°´é¢ä¸Šè¿è¡Œ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runAir</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>type <span class="token operator">+</span> <span class="token string">&quot;åœ¨å¤©ç©ºä¸Šè¿è¡Œ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ€»ç»“</strong></p><ul><li>ç±»åˆ†è§£ï¼Œå¯èƒ½æˆæœ¬è¾ƒé«˜</li><li>è§£å†³æ–¹æ¡ˆï¼šä¸åœ¨ç±»çº§åˆ«ä¸Šâ€œå•ä¸€èŒè´£â€ï¼Œå¾€ä¸‹æ²‰ï¼Œåœ¨æ–¹æ³•çº§åˆ«ä¸Šâ€œå•ä¸€èŒè´£â€</li></ul><p><strong>æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</strong></p><ul><li>1ï¼‰é™ä½ç±»çš„å¤æ‚åº¦ï¼Œ<mark>ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£</mark></li><li>2ï¼‰æé«˜ç±»çš„<mark>å¯è¯»æ€§ï¼Œå¯ç»´æŠ¤æ€§</mark></li><li>3ï¼‰é™ä½å˜æ›´å¼•èµ·çš„é£é™©</li><li>4ï¼‰é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”å½“éµå®ˆå•ä¸€èŒè´£åŸåˆ™ï¼Œåªæœ‰é€»è¾‘è¶³å¤Ÿç®€å•ï¼Œæ‰å¯ä»¥åœ¨ä»£ç çº§è¿åå•ä¸€èŒè´£åŸåˆ™ï¼›åªæœ‰ç±»ä¸­æ–¹æ³•æ•°é‡è¶³å¤Ÿå°‘ï¼Œå¯ä»¥åœ¨æ–¹æ³•çº§åˆ«ä¿æŒå•ä¸€èŒè´£åŸåˆ™</li></ul><h4 id="_3-2ã€æ¥å£éš”ç¦»åŸåˆ™-interface-segregation-principle" tabindex="-1"><a class="header-anchor" href="#_3-2ã€æ¥å£éš”ç¦»åŸåˆ™-interface-segregation-principle"><span>3.2ã€æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰</span></a></h4><p><strong>åŸºæœ¬ä»‹ç»</strong></p><ul><li>1ï¼‰å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œå³<mark>ä¸€ä¸ªç±»å¯¹å¦ä¸€ä¸ªç±»çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Š</mark></li><li>2ï¼‰å…ˆçœ‹ä¸€å¼ å›¾</li></ul><p><img src="`+b+'" alt="image-20211010105008455"></p><ul><li>3ï¼‰ç±» A é€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» Bï¼Œç±» C é€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» Dï¼Œå¦‚æœæ¥å£ Interface1 å¯¹äºç±» A å’Œç±» C æ¥è¯´ä¸æ˜¯æœ€å°æ¥å£ï¼Œé‚£ä¹ˆç±» B å’Œç±» D å¿…é¡»å»å®ç°ä»–ä»¬ä¸éœ€è¦çš„æ–¹æ³•</li><li>4ï¼‰æŒ‰éš”ç¦»åŸåˆ™åº”å½“è¿™æ ·å¤„ç†ï¼šå°†æ¥å£ Interface1 æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å‡ ä¸ªæ¥å£ï¼Œç±» A å’Œç±» C åˆ†åˆ«ä¸ä»–ä»¬éœ€è¦çš„æ¥å£å»ºç«‹ä¾èµ–å…³ç³»ã€‚ä¹Ÿå°±æ˜¯é‡‡ç”¨æ¥å£éš”ç¦»åŸåˆ™</li></ul><p><strong>åº”ç”¨å®ä¾‹</strong></p><ul><li>1ï¼‰ç±» A é€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» Bï¼Œç±» C é€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» Dï¼Œè¯·ç¼–å†™ä»£ç å®Œæˆæ­¤åº”ç”¨å®ä¾‹</li><li>2ï¼‰çœ‹è€å¸ˆä»£ç </li></ul><p><img src="'+g+`" alt="image-20211010110122468"></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">interface</span> <span class="token class-name">Interface1</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">implements</span> <span class="token class-name">Interface1</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B å®ç°äº† operation1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B å®ç°äº† operation2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B å®ç°äº† operation3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B å®ç°äº† operation4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B å®ç°äº† operation5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token keyword">implements</span> <span class="token class-name">Interface1</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D å®ç°äº† operation1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D å®ç°äº† operation2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D å®ç°äº† operation3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D å®ç°äº† operation4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D å®ç°äº† operation5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * Aç±»é€šè¿‡æ¥å£Interface1ä¾èµ–ï¼ˆä½¿ç”¨ï¼‰Bç±»ï¼Œä½†æ˜¯åªä¼šç”¨åˆ°1ï¼Œ2ï¼Œ3æ–¹æ³•</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend1</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend2</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend3</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * Cç±»é€šè¿‡æ¥å£Interface1ä¾èµ–ï¼ˆä½¿ç”¨ï¼‰Dç±»ï¼Œä½†æ˜¯åªä¼šç”¨åˆ°1ï¼Œ4ï¼Œ5æ–¹æ³•</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend1</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend4</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend5</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é—®é¢˜ä¸æ”¹è¿›</strong></p><ul><li>1ï¼‰ç±» A é€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» Bï¼Œç±» C é€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» Dï¼Œå¦‚æœæ¥å£ Interface1 å¯¹äºç±» A å’Œç±» C æ¥è¯´ä¸æ˜¯æœ€å°æ¥å£ï¼Œé‚£ä¹ˆç±» B å’Œç±» D å¿…é¡»å»å®ç°ä»–ä»¬ä¸éœ€è¦çš„æ–¹æ³•</li><li>2ï¼‰å°†æ¥å£ Interface1 æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å‡ ä¸ªæ¥å£ï¼Œç±» A å’Œç±» C åˆ†åˆ«ä¸ä»–ä»¬éœ€è¦çš„æ¥å£å»ºç«‹ä¾èµ–å…³ç³»ã€‚ä¹Ÿå°±æ˜¯é‡‡ç”¨æ¥å£éš”ç¦»åŸåˆ™</li><li>3ï¼‰æ¥å£ Interface1 ä¸­å‡ºç°çš„æ–¹æ³•ï¼Œæ ¹æ®å®é™…æƒ…å†µæ‹†åˆ†ä¸ºä¸‰ä¸ªæ¥å£</li><li>4ï¼‰ä»£ç å®ç°</li></ul><p><img src="`+y+`" alt="image-20211010134926811"></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">interface</span> <span class="token class-name">Interface1</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">Interface2</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">Interface3</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">implements</span> <span class="token class-name">Interface1</span><span class="token punctuation">,</span> <span class="token class-name">Interface2</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B å®ç°äº† operation1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B å®ç°äº† operation2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;B å®ç°äº† operation3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token keyword">implements</span> <span class="token class-name">Interface1</span><span class="token punctuation">,</span> <span class="token class-name">Interface3</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D å®ç°äº† operation1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D å®ç°äº† operation4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;D å®ç°äº† operation5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * Aç±»é€šè¿‡æ¥å£Interface1,Interface2ä¾èµ–ï¼ˆä½¿ç”¨ï¼‰Bç±»ï¼Œä½†æ˜¯åªä¼šç”¨åˆ°1ï¼Œ2ï¼Œ3æ–¹æ³•</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend1</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend2</span><span class="token punctuation">(</span><span class="token class-name">Interface2</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend3</span><span class="token punctuation">(</span><span class="token class-name">Interface2</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * Cç±»é€šè¿‡æ¥å£Interface1,Interface3ä¾èµ–ï¼ˆä½¿ç”¨ï¼‰Dç±»ï¼Œä½†æ˜¯åªä¼šç”¨åˆ°1ï¼Œ4ï¼Œ5æ–¹æ³•</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend1</span><span class="token punctuation">(</span><span class="token class-name">Interface1</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend4</span><span class="token punctuation">(</span><span class="token class-name">Interface3</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">depend5</span><span class="token punctuation">(</span><span class="token class-name">Interface3</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        i<span class="token punctuation">.</span><span class="token function">operation5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3ã€ä¾èµ–å€’è½¬åŸåˆ™-dependence-inversion-principle" tabindex="-1"><a class="header-anchor" href="#_3-3ã€ä¾èµ–å€’è½¬åŸåˆ™-dependence-inversion-principle"><span>3.3ã€ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰</span></a></h4><p><strong>åŸºæœ¬ä»‹ç»</strong></p><ul><li>1ï¼‰<mark>é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡</mark></li><li>2ï¼‰æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œ<mark>ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡</mark></li><li>3ï¼‰ä¾èµ–å€’è½¬ï¼ˆå€’ç½®ï¼‰çš„ä¸­å¿ƒæ€æƒ³æ˜¯<mark>é¢å‘æ¥å£ç¼–ç¨‹</mark></li><li>4ï¼‰ä¾èµ–å€’è½¬åŸåˆ™æ˜¯åŸºäºè¿™æ ·çš„è®¾è®¡ç†å¿µï¼šç›¸å¯¹äºç»†èŠ‚çš„å¤šå˜æ€§ï¼ŒæŠ½è±¡çš„ä¸œè¥¿è¦ç¨³å®šçš„å¤šã€‚ä»¥æŠ½è±¡ä¸ºåŸºç¡€æ­å»ºçš„æ¶æ„æ¯”ä»¥ç»†èŠ‚ä¸ºåŸºç¡€çš„æ¶æ„è¦ç¨³å®šçš„å¤šã€‚<mark>åœ¨javaä¸­ï¼ŒæŠ½è±¡æŒ‡çš„æ˜¯æ¥å£æˆ–æŠ½è±¡ç±»ï¼Œç»†èŠ‚å°±æ˜¯å…·ä½“çš„å®ç°ç±»</mark></li><li>5ï¼‰ä½¿ç”¨æ¥å£æˆ–æŠ½è±¡ç±»çš„ç›®çš„æ˜¯<mark>åˆ¶å®šå¥½è§„èŒƒ</mark>ï¼Œè€Œä¸æ¶‰åŠä»»ä½•å…·ä½“çš„æ“ä½œï¼ŒæŠŠå±•ç°ç»†èŠ‚çš„ä»»åŠ¡äº¤ç»™ä»–ä»¬çš„å®ç°ç±»å»å®Œæˆ</li></ul><p><strong>åº”ç”¨å®ä¾‹</strong></p><p>1ï¼‰è¯·ç¼–ç¨‹å®Œæˆ Person æ¥æ”¶æ¶ˆæ¯çš„åŠŸèƒ½</p><p>2ï¼‰å®ç°æ–¹æ¡ˆ 1 + åˆ†æè¯´æ˜</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æ–¹å¼1åˆ†æ</span>
<span class="line"> * 1.ç®€å•ï¼Œæ¯”è¾ƒå®¹æ˜“æƒ³åˆ°</span>
<span class="line"> * 2.å¦‚æœæˆ‘ä»¬è·å–çš„å¯¹è±¡æ˜¯å¾®ä¿¡ï¼ŒçŸ­ä¿¡ç­‰ç­‰ï¼Œåˆ™æ–°å¢ç±»ï¼ŒåŒæ—¶ Peronä¹Ÿè¦å¢åŠ ç›¸åº”çš„æ¥æ”¶æ–¹æ³•</span>
<span class="line"> * 3.è§£å†³æ€è·¯ï¼š</span>
<span class="line"> * å¼•å…¥ä¸€ä¸ªæŠ½è±¡çš„æ¥å£IReceiverï¼Œè¡¨ç¤ºæ¥æ”¶è€…ï¼Œè¿™æ ·Personç±»ä¸æ¥å£IReceiverå‘ç”Ÿä¾èµ–</span>
<span class="line"> * å› ä¸ºEmailï¼ŒWeixinç­‰ç­‰å±äºæ¥æ”¶çš„èŒƒå›´ï¼Œä»–ä»¬å„è‡ªå®ç°IReceiveræ¥å£å°±okï¼Œè¿™æ ·æˆ‘ä»¬å°±ç¬¦å·ä¾èµ–å€’è½¬åŸåˆ™</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Email</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;ç”µå­é‚®ä»¶ä¿¡æ¯ï¼šHello Worldï¼&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive</span><span class="token punctuation">(</span><span class="token class-name">Email</span> email<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>email<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰å®ç°æ–¹æ¡ˆ 2 + åˆ†æè¯´æ˜</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">interface</span> <span class="token class-name">IReceiver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Email</span> <span class="token keyword">implements</span> <span class="token class-name">IReceiver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;ç”µå­é‚®ä»¶ä¿¡æ¯ï¼šHello Worldï¼&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Weixin</span> <span class="token keyword">implements</span> <span class="token class-name">IReceiver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;å¾®ä¿¡æ¶ˆæ¯ï¼šHello Worldï¼&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">ShortMessage</span> <span class="token keyword">implements</span> <span class="token class-name">IReceiver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;çŸ­ä¿¡ä¿¡æ¯ï¼šHello Worldï¼&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive</span><span class="token punctuation">(</span><span class="token class-name">IReceiver</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>receiver<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¾èµ–å…³ç³»ä¼ é€’çš„ä¸‰ç§æ–¹å¼</p><p><strong>1ï¼‰æ¥å£ä¼ é€’</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//æ–¹å¼1ï¼šé€šè¿‡æ¥å£ä¼ é€’å®ç°ä¾èµ–</span></span>
<span class="line"><span class="token comment">//å¼€å…³çš„æ¥å£</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">IOpenAndClose</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token class-name">ITV</span> tv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŠ½è±¡æ–¹æ³•ï¼Œæ¥æ”¶æ¥å£</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">//ITVæ¥å£</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">ITV</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">//å®ç°æ¥å£</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">OpenAndClose</span> <span class="token keyword">implements</span> <span class="token class-name">IOpenAndClose</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token class-name">ITV</span> tv<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        tv<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2ï¼‰æ„é€ æ–¹æ³•ä¼ é€’</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//æ–¹å¼2ï¼šé€šè¿‡æ„é€ å‡½æ•°å®ç°ä¾èµ–</span></span>
<span class="line"><span class="token comment">//å¼€å…³çš„æ¥å£</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">IOpenAndClose</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŠ½è±¡æ–¹æ³•</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">//ITVæ¥å£</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">ITV</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">//å®ç°æ¥å£</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">OpenAndClose</span> <span class="token keyword">implements</span> <span class="token class-name">IOpenAndClose</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">ITV</span> tv<span class="token punctuation">;</span> <span class="token comment">// æˆå‘˜</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">OpenAndClose</span><span class="token punctuation">(</span><span class="token class-name">ITV</span> tv<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// æ„é€ å™¨</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>tv <span class="token operator">=</span> tv<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>tv<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3ï¼‰setter æ–¹å¼ä¼ é€’</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//æ–¹å¼3ï¼Œé€šè¿‡setteræ–¹æ³•ä¼ é€’</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">IOpenAndClose</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŠ½è±¡æ–¹æ³•</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">setTv</span><span class="token punctuation">(</span><span class="token class-name">ITV</span> tv<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">//ITVæ¥å£</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">ITV</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">//å®ç°æ¥å£</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">OpenAndClose</span> <span class="token keyword">implements</span> <span class="token class-name">IOpenAndClose</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">ITV</span> tv<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTv</span><span class="token punctuation">(</span><span class="token class-name">ITV</span> tv<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>tv<span class="token operator">=</span>tv<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>tv<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</strong></p><ul><li>1ï¼‰<mark>ä½å±‚æ¨¡å—å°½é‡éƒ½è¦æœ‰æŠ½è±¡ç±»æˆ–æ¥å£</mark>ï¼Œæˆ–è€…ä¸¤è€…éƒ½æœ‰ï¼Œç¨‹åºç¨³å®šæ€§æ›´å¥½</li><li>2ï¼‰<mark>å˜é‡çš„å£°æ˜ç±»å‹å°½é‡æ˜¯æŠ½è±¡ç±»æˆ–æ¥å£</mark>ï¼Œè¿™æ ·æˆ‘ä»¬çš„å˜é‡å¼•ç”¨å’Œå®é™…å¯¹è±¡é—´ï¼Œå°±å­˜åœ¨ä¸€ä¸ªç¼“å†²å±‚ï¼Œåˆ©äºç¨‹åºæ‰©å±•å’Œä¼˜åŒ–</li><li>3ï¼‰<mark>ç»§æ‰¿æ—¶éµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™</mark></li></ul><h4 id="_3-4ã€é‡Œæ°æ›¿æ¢åŸåˆ™-liskov-substitution-principle" tabindex="-1"><a class="header-anchor" href="#_3-4ã€é‡Œæ°æ›¿æ¢åŸåˆ™-liskov-substitution-principle"><span>3.4ã€é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰</span></a></h4><p><strong>OO ä¸­ç»§æ‰¿æ€§çš„æ€è€ƒå’Œè¯´æ˜</strong></p><ul><li>1ï¼‰ç»§æ‰¿åŒ…å«è¿™æ ·ä¸€å±‚å«ä¹‰ï¼šçˆ¶ç±»ä¸­å‡¡æ˜¯å·²ç»å®ç°å¥½çš„æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯åœ¨<mark>è®¾å®šè§„èŒƒå’Œå¥‘çº¦</mark>ï¼Œè™½ç„¶å®ƒä¸å¼ºåˆ¶è¦æ±‚æ‰€æœ‰çš„å­ç±»å¿…é¡»éµå¾ªè¿™äº›å¥‘çº¦ï¼Œä½†æ˜¯å¦‚æœå­ç±»å¯¹è¿™äº›å·²ç»å®ç°çš„æ–¹æ³•ä»»æ„ä¿®æ”¹ï¼Œå°±ä¼šå¯¹æ•´ä¸ªç»§æ‰¿ä½“ç³»é€ æˆç ´å</li><li>2ï¼‰<mark>ç»§æ‰¿åœ¨ç»™ç¨‹åºè®¾è®¡å¸¦æ¥ä¾¿åˆ©çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†å¼Šç«¯ã€‚æ¯”å¦‚ä½¿ç”¨ç»§æ‰¿ä¼šç»™ç¨‹åºå¸¦æ¥ä¾µå…¥æ€§ï¼Œç¨‹åºçš„å¯ç§»æ¤æ€§é™ä½ï¼Œå¢åŠ å¯¹è±¡é—´çš„è€¦åˆæ€§</mark>ï¼Œå¦‚æœä¸€ä¸ªç±»è¢«å…¶ä»–çš„ç±»æ‰€ç»§æ‰¿ï¼Œåˆ™å½“è¿™ä¸ªç±»éœ€è¦ä¿®æ”¹æ—¶ï¼Œå¿…é¡»è€ƒè™‘åˆ°æ‰€æœ‰çš„å­ç±»ï¼Œå¹¶ä¸”çˆ¶ç±»ä¿®æ”¹åï¼Œæ‰€æœ‰æ¶‰åŠåˆ°å­ç±»çš„åŠŸèƒ½éƒ½æœ‰å¯èƒ½äº§ç”Ÿæ•…éšœ</li><li>3ï¼‰é—®é¢˜æå‡ºï¼šåœ¨ç¼–ç¨‹ä¸­ï¼Œ<mark>å¦‚ä½•æ­£ç¡®ä½¿ç”¨ç»§æ‰¿ï¼Ÿ=&gt;é‡Œæ°æ›¿æ¢åŸåˆ™</mark></li></ul><p><strong>åŸºæœ¬ä»‹ç»</strong></p><ul><li>1ï¼‰é‡Œæ°æ›¿æ¢åŸåˆ™åœ¨1988å¹´ï¼Œç”±éº»çœç†å·¥å­¦é™¢çš„ä»¥ä¸ºå§“é‡Œçš„å¥³å£«æå‡ºçš„</li><li>2ï¼‰å¦‚æœå¯¹æ¯ä¸ªç±»å‹ä¸º T1 çš„å¯¹è±¡ o1ï¼Œéƒ½æœ‰ç±»å‹ä¸º T2 çš„å¯¹è±¡ o2ï¼Œä½¿å¾—ä»¥ T1 å®šä¹‰çš„æ‰€æœ‰ç¨‹åº P åœ¨æ‰€æœ‰çš„å¯¹è±¡ o1 éƒ½ä»£æ¢æˆ o2 æ—¶ï¼Œç¨‹åº P çš„è¡Œä¸ºæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç±»å‹ T2 æ˜¯ç±»å‹ T1 çš„å­ç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œ<mark>æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡</mark></li><li>3ï¼‰åœ¨ä½¿ç”¨ç»§æ‰¿æ—¶ï¼Œéµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™ï¼Œ<mark>åœ¨å­ç±»ä¸­å°½é‡ä¸è¦é‡å†™çˆ¶ç±»çš„æ–¹æ³•</mark></li><li>4ï¼‰é‡Œæ°æ›¿æ¢åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ï¼Œç»§æ‰¿å®é™…ä¸Šè®©ä¸¤ä¸ªç±»è€¦åˆæ€§å¢å¼ºäº†ï¼Œåœ¨é€‚å½“çš„æƒ…å†µä¸‹ï¼Œ<mark>å¯ä»¥é€šè¿‡èšåˆã€ç»„åˆã€ä¾èµ–æ¥è§£å†³é—®é¢˜</mark></li></ul><p><strong>ä¸€ä¸ªç¨‹åºå¼•å‡ºçš„é—®é¢˜å’Œæ€è€ƒ</strong></p><p>å…ˆçœ‹ä¸ªç¨‹åºï¼Œæ€è€ƒä¸‹é—®é¢˜å’Œè§£å†³æ€è·¯</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">A</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;11-3=&quot;</span> <span class="token operator">+</span> a<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1-8=&quot;</span> <span class="token operator">+</span> a<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">B</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;11-3=&quot;</span> <span class="token operator">+</span> b<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1-8=&quot;</span> <span class="token operator">+</span> b<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;11+3+9=&quot;</span> <span class="token operator">+</span> b<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//è¿”å›ä¸¤ä¸ªæ•°çš„å·®</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> num1 <span class="token operator">-</span> num2<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//å¢åŠ äº†ä¸€ä¸ªæ–°åŠŸèƒ½ï¼šå®Œæˆä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œç„¶åå’Œ9æ±‚å’Œ</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token function">func1</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§£å†³æ–¹æ³•</strong></p><p>1ï¼‰æˆ‘ä»¬å‘ç°åŸæ¥è¿è¡Œæ­£å¸¸çš„ç›¸å‡åŠŸèƒ½å‘ç”Ÿäº†é”™è¯¯ã€‚åŸå› å°±æ˜¯ç±» B æ— æ„ä¸­é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œé€ æˆåŸæœ‰åŠŸèƒ½å‡ºç°é”™è¯¯ã€‚åœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé€šè¿‡é‡å†™çˆ¶ç±»çš„æ–¹æ³•å®Œæˆæ–°çš„åŠŸèƒ½ï¼Œè¿™æ ·å†™èµ·æ¥è™½ç„¶ç®€å•ï¼Œä½†æ•´ä¸ªç»§æ‰¿ä½“ç³»çš„å¤ç”¨æ€§ä¼šæ¯”è¾ƒå·®ã€‚ç‰¹åˆ«æ˜¯è¿è¡Œå¤šæ€æ¯”è¾ƒé¢‘ç¹çš„æ—¶å€™</p><p>2ï¼‰é€šç”¨çš„åšæ³•æ˜¯ï¼š<mark>åŸæ¥çš„çˆ¶ç±»å’Œå­ç±»éƒ½ç»§æ‰¿ä¸€ä¸ªæ›´é€šä¿—çš„åŸºç±»ï¼ŒåŸæœ‰çš„ç»§æ‰¿å…³ç³»å»æ‰ï¼Œé‡‡ç”¨ä¾èµ–ã€èšåˆã€ç»„åˆç­‰å…³ç³»ä»£æ›¿</mark></p><p>3ï¼‰æ”¹è¿›æ–¹æ¡ˆ</p><p><img src="`+w+`" alt="image-20211010151710127"></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//åˆ›å»ºä¸€ä¸ªæ›´åŠ åŸºç¡€çš„åŸºç±»</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//å°†æ›´åŸºç¡€çš„æˆå‘˜å’Œæ–¹æ³•å†™åˆ°Baseç±»ä¸­</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//è¿”å›ä¸¤ä¸ªæ•°çš„å·®</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> num1 <span class="token operator">-</span> num2<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//å¦‚æœBéœ€è¦ä½¿ç”¨Aç±»çš„æ–¹æ³•ï¼Œä½¿ç”¨ç»„åˆå…³ç³»</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">A</span> a<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//å¢åŠ äº†ä¸€ä¸ªæ–°åŠŸèƒ½ï¼šå®Œæˆä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œç„¶åå’Œ9æ±‚å’Œ</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token function">func1</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">func3</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-5ã€å¼€é—­åŸåˆ™-open-closed-principle" tabindex="-1"><a class="header-anchor" href="#_3-5ã€å¼€é—­åŸåˆ™-open-closed-principle"><span>3.5ã€å¼€é—­åŸåˆ™ï¼ˆOpen Closed Principleï¼‰</span></a></h4><p><strong>åŸºæœ¬ä»‹ç»</strong></p><ul><li>1ï¼‰å¼€é—­åŸåˆ™æ˜¯ç¼–ç¨‹ä¸­<mark>æœ€åŸºç¡€ã€æœ€é‡è¦</mark>çš„è®¾è®¡åŸåˆ™</li><li>2ï¼‰ä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚ç±»ã€æ¨¡å—å’Œå‡½æ•°åº”è¯¥<mark>å¯¹æ‰©å±•å¼€æ”¾ï¼ˆå¯¹æä¾›è€…è€Œè¨€ï¼‰ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼ˆå¯¹ä½¿ç”¨è€…è€Œè¨€ï¼‰</mark>ã€‚<mark>ç”¨æŠ½è±¡æ„å»ºæ¡†æ¶ï¼Œç”¨å®ç°æ‰©å±•ç»†èŠ‚</mark></li><li>3ï¼‰å½“è½¯ä»¶éœ€è¦å˜åŒ–æ—¶ï¼Œå°½é‡<mark>é€šè¿‡æ‰©å±•è½¯ä»¶å®ä½“çš„è¡Œä¸ºæ¥å®ç°å˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¿®æ”¹å·²æœ‰çš„ä»£ç æ¥å®ç°å˜åŒ–</mark></li><li>4ï¼‰ç¼–ç¨‹ä¸­éµå¾ªå…¶å®ƒåŸåˆ™ï¼Œä»¥åŠä½¿ç”¨<mark>è®¾è®¡æ¨¡å¼çš„ç›®çš„å°±æ˜¯éµå¾ªå¼€é—­åŸåˆ™</mark></li></ul><p><strong>çœ‹ä¸€æ®µä»£ç </strong></p><p>ä¸€ä¸ªç”»å›¾å½¢çš„åŠŸèƒ½ï¼Œç±»å›¾è®¾è®¡å¦‚ä¸‹ï¼š</p><p><img src="`+h+`" alt="image-20211010153848077"></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">GraphicEditor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawShape</span><span class="token punctuation">(</span><span class="token class-name">Shape</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>m_type <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">drawRectangle</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>m_type <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">drawCircle</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>m_type <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">drawTriangle</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawRectangle</span><span class="token punctuation">(</span><span class="token class-name">Shape</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;çŸ©å½¢&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token class-name">Shape</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åœ†å½¢&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawTriangle</span><span class="token punctuation">(</span><span class="token class-name">Shape</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‰è§’å½¢&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> m_type<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">RectangleShape</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">RectangleShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        m_type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">CircleShape</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">CircleShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        m_type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">TriangleShape</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">TriangleShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        m_type <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ–¹å¼ 1 çš„ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰ä¼˜ç‚¹æ˜¯æ¯”è¾ƒå¥½ç†è§£ï¼Œç®€å•æ˜“æ“ä½œ</li><li>2ï¼‰ç¼ºç‚¹æ˜¯è¿åäº†è®¾è®¡æ¨¡å¼çš„ OCP åŸåˆ™ï¼Œå³å¯¹æ‰©å±•å¼€æ”¾ï¼ˆæä¾›æ–¹ï¼‰ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼ˆä½¿ç”¨æ–¹ï¼‰ã€‚å³å½“æˆ‘ä»¬ç»™ç±»å¢åŠ æ–°åŠŸèƒ½çš„æ—¶å–‰ï¼Œå°½é‡ä¸ä¿®æ”¹ä»£ç ï¼Œæˆ–è€…å°½å¯èƒ½å°‘ä¿®æ”¹ä»£ç </li><li>3ï¼‰æ¯”å¦‚æˆ‘ä»¬è¿™æ—¶è¦æ–°å¢åŠ ä¸€ä¸ªå›¾å½¢ç§ç±»ï¼Œæˆ‘ä»¬éœ€è¦åšå¦‚ä¸‹ä¿®æ”¹ï¼Œä¿®æ”¹çš„åœ°æ–¹è¾ƒå¤š4ï¼‰ä»£ç æ¼”ç¤º</li></ul><p><strong>æ–¹å¼ 1 çš„æ”¹è¿›çš„æ€è·¯åˆ†æ</strong></p><p>æŠŠåˆ›å»º Shape ç±»åšæˆæŠ½è±¡ç±»ï¼Œå¹¶æä¾›ä¸€ä¸ªæŠ½è±¡çš„ draw æ–¹æ³•ï¼Œè®©å­ç±»å»å®ç°å³å¯</p><p>è¿™æ ·æˆ‘ä»¬æœ‰æ–°çš„å›¾å½¢ç§ç±»æ—¶ï¼Œåªéœ€è¦è®©æ–°çš„å›¾å½¢ç±»ç»§æ‰¿ Shapeï¼Œå¹¶å®ç° draw æ–¹æ³•å³å¯</p><p>ä½¿ç”¨æ–¹çš„ä»£ç å°±ä¸éœ€è¦ä¿®æ”¹ï¼Œæ»¡è¶³äº†å¼€é—­åŸåˆ™</p><p><strong>æ–¹å¼ 2 æ¥è§£å†³</strong></p><p>1ï¼‰æ–¹å¼ 2 çš„è®¾è®¡æ–¹æ¡ˆï¼šå®šä¹‰ä¸€ä¸ª Shape æŠ½è±¡ç±»</p><p>2ï¼‰çœ‹ä»£ç ç¤ºä¾‹</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">GraphicEditor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawShape</span><span class="token punctuation">(</span><span class="token class-name">Shape</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        s<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> m_type<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">RectangleShape</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">RectangleShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        m_type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;çŸ©å½¢&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">CircleShape</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">CircleShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        m_type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åœ†å½¢&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">TriangleShape</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">TriangleShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        m_type <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‰è§’å½¢&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰ä»æ–¹å¼ 2 çœ‹ï¼Œä»£ç æ»¡è¶³äº† OCP åŸåˆ™</p><h4 id="_3-6ã€è¿ªç±³ç‰¹æ³•åˆ™-demeter-principle" tabindex="-1"><a class="header-anchor" href="#_3-6ã€è¿ªç±³ç‰¹æ³•åˆ™-demeter-principle"><span>3.6ã€è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆDemeter Principleï¼‰</span></a></h4><p><strong>åŸºæœ¬ä»‹ç»</strong></p><ul><li>1ï¼‰ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡ä¿æŒæœ€å°‘çš„äº†è§£</li><li>2ï¼‰ç±»ä¸ç±»å…³ç³»è¶Šå¯†åˆ‡ï¼Œè€¦åˆåº¦è¶Šå¤§</li><li>3ï¼‰è¿ªç±³ç‰¹æ³•åˆ™åˆå«<mark>æœ€å°‘çŸ¥é“åŸåˆ™</mark>ï¼Œå³ä¸€ä¸ªç±»å¯¹è‡ªå·±ä¾èµ–çš„ç±»çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<mark>å¯¹äºè¢«ä¾èµ–çš„ç±»ä¸ç®¡å¤šä¹ˆå¤æ‚ï¼Œéƒ½å°½é‡å°†é€»è¾‘å°è£…åœ¨ç±»çš„å†…éƒ¨ã€‚å¯¹å¤–é™¤äº†æä¾›çš„ public æ–¹æ³•ï¼Œä¸å¯¹å¤–æ³„éœ²ä»»ä½•ä¿¡æ¯</mark></li><li>4ï¼‰è¿ªç±³ç‰¹æ³•åˆ™è¿˜æœ‰ä¸ªæ›´ç®€å•çš„å®šä¹‰ï¼šåªä¸ç›´æ¥çš„æœ‹å‹é€šä¿¡</li><li>5ï¼‰<mark>ç›´æ¥çš„æœ‹å‹</mark>ï¼šæ¯ä¸ªå¯¹è±¡éƒ½ä¼šä¸å…¶ä»–å¯¹è±¡æœ‰è€¦åˆå…³ç³»ï¼Œåªè¦ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´æœ‰è€¦åˆå…³ç³»ï¼Œæˆ‘ä»¬å°±è¯´è¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´æ˜¯æœ‹å‹å…³ç³»ã€‚è€¦åˆçš„æ–¹å¼å¾ˆå¤šï¼šä¾èµ–ã€å…³è”ã€ç»„åˆã€èšåˆç­‰ã€‚å…¶ä¸­ï¼Œæˆ‘ä»¬ç§°å‡ºç°<mark>æˆå‘˜å˜é‡ï¼Œæ–¹æ³•å‚æ•°ï¼Œæ–¹æ³•è¿”å›å€¼ä¸­çš„ç±»ä¸ºç›´æ¥çš„æœ‹å‹ï¼Œè€Œå‡ºç°åœ¨å±€éƒ¨å˜é‡ä¸­çš„ç±»ä¸æ˜¯ç›´æ¥çš„æœ‹å‹</mark>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<mark>é™Œç”Ÿçš„ç±»æœ€å¥½ä¸è¦ä»¥å±€éƒ¨å˜é‡çš„å½¢å¼å‡ºç°åœ¨ç±»çš„å†…éƒ¨</mark></li></ul><p><strong>åº”ç”¨å®ä¾‹</strong></p><p>1ï¼‰æœ‰ä¸€ä¸ªå­¦æ ¡ï¼Œä¸‹å±æœ‰å„ä¸ªå­¦é™¢å’Œæ€»éƒ¨ï¼Œç°è¦æ±‚æ‰“å°å‡ºå­¦æ ¡æ€»éƒ¨å‘˜å·¥ ID å’Œå­¦é™¢å‘˜å·¥çš„ id</p><p>2ï¼‰ç¼–ç¨‹å®ç°ä¸Šé¢çš„åŠŸèƒ½ï¼Œçœ‹ä»£ç æ¼”ç¤º</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//æ€»éƒ¨å‘˜å·¥</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//å­¦é™¢å‘˜å·¥</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">CollegeEmployee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//å­¦é™¢å‘˜å·¥ç®¡ç† ç±»</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">CollegeManager</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">CollegeEmployee</span> collegeEmployee<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            collegeEmployee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CollegeEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            collegeEmployee<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">&quot;å­¦é™¢å‘˜å·¥id=&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>collegeEmployee<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> list<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//æ€»éƒ¨å‘˜å·¥ç®¡ç†ç±»</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">SchoolManager</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Employee</span> employee<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            employee<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">&quot;æ€»éƒ¨å‘˜å·¥id=&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> list<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printAllEmployee</span><span class="token punctuation">(</span><span class="token class-name">CollegeManager</span> sub<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------------å­¦é™¢å‘˜å·¥--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CollegeEmployee</span><span class="token punctuation">&gt;</span></span> list1 <span class="token operator">=</span> sub<span class="token punctuation">.</span><span class="token function">getAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CollegeEmployee</span> collegeEmployee <span class="token operator">:</span> list1<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>collegeEmployee<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------------æ€»éƒ¨å‘˜å·¥-------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> list2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAllEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span> employee <span class="token operator">:</span> list2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åº”ç”¨å®ä¾‹æ”¹è¿›</strong></p><ul><li>1ï¼‰å‰é¢è®¾è®¡çš„é—®é¢˜åœ¨äº SchoolManager ä¸­ï¼ŒCollegeEmployee ç±»å¹¶ä¸æ˜¯ SchoolManager ç±»çš„ç›´æ¥æœ‹å‹ï¼ˆåˆ†æï¼‰</li><li>2ï¼‰æŒ‰ç…§è¿ªç±³ç‰¹æ³•åˆ™ï¼Œåº”è¯¥é¿å…ç±»ä¸­å‡ºç°è¿™æ ·éç›´æ¥æœ‹å‹å…³ç³»çš„è€¦åˆ</li><li>3ï¼‰å¯¹ä»£ç æŒ‰ç…§è¿ªç±³ç‰¹æ³•åˆ™è¿›è¡Œæ”¹è¿›ï¼ˆçœ‹è€å¸ˆæ¼”ç¤ºï¼‰</li></ul><p><strong>æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</strong></p><ul><li>1ï¼‰è¿ªç±³ç‰¹æ³•åˆ™çš„æ ¸å¿ƒæ˜¯<mark>é™ä½ç±»ä¹‹é—´çš„è€¦åˆ</mark></li><li>2ï¼‰ä½†æ˜¯æ³¨æ„ï¼šç”±äºæ¯ä¸ªç±»éƒ½å‡å°‘äº†ä¸å¿…è¦çš„ä¾èµ–ï¼Œå› æ­¤è¿ªç±³ç‰¹æ³•åˆ™åªæ˜¯è¦æ±‚é™ä½ç±»é—´ï¼ˆå¯¹è±¡é—´ï¼‰è€¦åˆå…³ç³»ï¼Œå¹¶ä¸æ˜¯è¦æ±‚å®Œå…¨æ²¡æœ‰ä¾èµ–å…³ç³»</li></ul><h4 id="_3-7ã€åˆæˆå¤ç”¨åŸåˆ™-composite-reuse-principle" tabindex="-1"><a class="header-anchor" href="#_3-7ã€åˆæˆå¤ç”¨åŸåˆ™-composite-reuse-principle"><span>3.7ã€åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰</span></a></h4><p><strong>åŸºæœ¬ä»‹ç»</strong></p><p>åŸåˆ™æ˜¯<mark>å°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿</mark></p><p><img src="`+f+'" alt="image-20211010164923202"></p><h4 id="è®¾è®¡åŸåˆ™æ ¸å¿ƒæ€æƒ³" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡åŸåˆ™æ ¸å¿ƒæ€æƒ³"><span>è®¾è®¡åŸåˆ™æ ¸å¿ƒæ€æƒ³</span></a></h4><ul><li>1ï¼‰æ‰¾å‡ºåº”ç”¨ä¸­<mark>å¯èƒ½éœ€è¦å˜åŒ–ä¹‹å¤„ï¼ŒæŠŠå®ƒä»¬ç‹¬ç«‹å‡ºæ¥</mark>ï¼Œä¸è¦å’Œé‚£äº›ä¸éœ€è¦å˜åŒ–çš„ä»£ç æ··åœ¨ä¸€èµ·</li><li>2ï¼‰<mark>é’ˆå¯¹æ¥å£ç¼–ç¨‹</mark>ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹</li><li>3ï¼‰ä¸ºäº†äº¤äº’å¯¹è±¡ä¹‹é—´çš„<mark>æ¾è€¦åˆ</mark>è®¾è®¡è€ŒåŠªåŠ›</li></ul><h3 id="_4ã€uml-ç±»å›¾" tabindex="-1"><a class="header-anchor" href="#_4ã€uml-ç±»å›¾"><span>4ã€UML ç±»å›¾</span></a></h3><h4 id="uml-åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#uml-åŸºæœ¬ä»‹ç»"><span>UML åŸºæœ¬ä»‹ç»</span></a></h4><ul><li><p>1ï¼‰UMLâ€”-Unified modeling language UMLï¼ˆ<mark>ç»Ÿä¸€å»ºæ¨¡è¯­è¨€</mark>ï¼‰ï¼Œæ˜¯ä¸€ç§ç”¨äºè½¯ä»¶ç³»ç»Ÿåˆ†æå’Œè®¾è®¡çš„è¯­è¨€å·¥å…·ï¼Œå®ƒç”¨äºå¸®åŠ©è½¯ä»¶å¼€å‘äººå‘˜è¿›è¡Œæ€è€ƒå’Œè®°å½•æ€è·¯çš„ç»“æœ</p></li><li><p>2ï¼‰UML æœ¬èº«æ˜¯ä¸€å¥—ç¬¦å·çš„è§„å®šï¼Œå°±åƒæ•°å­¦ç¬¦å·å’ŒåŒ–å­¦ç¬¦å·ä¸€æ ·ï¼Œè¿™äº›ç¬¦å·ç”¨äºæè¿°è½¯ä»¶æ¨¡å‹ä¸­çš„å„ä¸ªå…ƒç´ å’Œä»–ä»¬ä¹‹é—´çš„å…³ç³»ï¼Œæ¯”å¦‚ç±»ã€æ¥å£ã€å®ç°ã€æ³›åŒ–ã€ä¾èµ–ã€ç»„åˆã€èšåˆç­‰</p></li></ul><p><img src="'+E+'" alt="image-20211010170115892"></p><ul><li>3ï¼‰ä½¿ç”¨ UML æ¥å»ºæ¨¡ï¼Œå¸¸ç”¨çš„å·¥å…·æœ‰ Rational Roseï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›æ’ä»¶æ¥å»ºæ¨¡</li></ul><p><img src="'+x+`" alt="image-20211010165611560"></p><h4 id="uml-å›¾" tabindex="-1"><a class="header-anchor" href="#uml-å›¾"><span>UML å›¾</span></a></h4><p>ç”» UML å›¾ä¸å†™æ–‡ç« å·®ä¸å¤šï¼Œéƒ½æ˜¯æŠŠè‡ªå·±çš„æ€æƒ³æè¿°ç»™åˆ«äººçœ‹ï¼Œå…³é”®åœ¨äºæ€è·¯å’Œæ¡ç†ï¼ŒUMLå›¾åˆ†ç±»ï¼š</p><ul><li>1ï¼‰<mark>ç”¨ä¾‹å›¾</mark>ï¼ˆuse caseï¼‰</li><li>2ï¼‰<mark>é™æ€ç»“æ„å›¾ï¼š<strong>ç±»å›¾</strong>ã€å¯¹è±¡å›¾ã€åŒ…å›¾ã€ç»„ä»¶å›¾ã€éƒ¨ç½²å›¾</mark></li><li>3ï¼‰<mark>åŠ¨æ€è¡Œä¸ºå›¾ï¼šäº¤äº’å›¾ï¼ˆæ—¶åºå›¾ä¸åä½œå›¾ï¼‰ã€çŠ¶æ€å›¾ã€æ´»åŠ¨å›¾</mark></li></ul><p><strong>è¯´æ˜</strong></p><ul><li>1ï¼‰ç±»å›¾æ˜¯æè¿°ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»çš„ï¼Œæ˜¯ UML å›¾ä¸­æœ€æ ¸å¿ƒçš„</li><li>2ï¼‰åœ¨è®²è§£è®¾è®¡æ¨¡å¼æ—¶ï¼Œæˆ‘ä»¬å¿…ç„¶ä¼šä½¿ç”¨ç±»å›¾ï¼Œä¸ºäº†è®©å­¦å‘˜ä»¬èƒ½å¤ŸæŠŠè®¾è®¡æ¨¡å¼å­¦åˆ°ä½ï¼Œéœ€è¦å…ˆç»™å¤§å®¶è®²è§£ç±»å›¾</li><li>3ï¼‰æ¸©é¦¨æç¤ºï¼šå¦‚æœå·²ç»æŒæ¡ UML ç±»å›¾çš„å­¦å‘˜ï¼Œå¯ä»¥ç›´æ¥å¬è®¾è®¡æ¨¡å¼çš„ç« èŠ‚</li></ul><h4 id="uml-ç±»å›¾" tabindex="-1"><a class="header-anchor" href="#uml-ç±»å›¾"><span>UML ç±»å›¾</span></a></h4><ul><li>1ï¼‰ç”¨äºæè¿°ç³»ç»Ÿä¸­çš„ç±»ï¼ˆå¯¹è±¡ï¼‰æœ¬èº«çš„ç»„æˆå’Œç±»ï¼ˆå¯¹è±¡ï¼‰ä¹‹é—´çš„å„ç§é™æ€å…³ç³»</li><li>2ï¼‰ç±»ä¹‹é—´çš„å…³ç³»ï¼š<mark>ä¾èµ–ã€æ³›åŒ–ï¼ˆç»§æ‰¿ï¼‰ã€å®ç°ã€å…³è”ã€èšåˆä¸ç»„åˆ</mark></li><li>3ï¼‰ç±»å›¾ç®€å•ä¸¾ä¾‹</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+B+`" alt="image-20211010171055294"></p><h4 id="_4-1ã€ç±»å›¾â€”â€”ä¾èµ–-dependence" tabindex="-1"><a class="header-anchor" href="#_4-1ã€ç±»å›¾â€”â€”ä¾èµ–-dependence"><span>4.1ã€ç±»å›¾â€”â€”ä¾èµ–ï¼ˆdependenceï¼‰</span></a></h4><p><mark>åªè¦æ˜¯åœ¨ç±»ä¸­ç”¨åˆ°äº†å¯¹æ–¹ï¼Œé‚£ä¹ˆä»–ä»¬ä¹‹é—´å°±å­˜åœ¨ä¾èµ–å…³ç³»</mark>ã€‚å¦‚æœæ²¡æœ‰å¯¹æ–¹ï¼Œè¿ç¼–è¯‘éƒ½é€šè¿‡ä¸äº†</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonServiceBean</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ç±»çš„æˆå‘˜å±æ€§</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">PersonDao</span> personDao<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// æ–¹æ³•æ¥æ”¶çš„å‚æ•°ç±»å‹</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Person</span> person<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// æ–¹æ³•çš„è¿”å›ç±»å‹</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">IDCard</span> <span class="token function">getIDCard</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> personid<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// æ–¹æ³•ä¸­ä½¿ç”¨åˆ°</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">modify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Department</span> department <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+A+`" alt="Package dependence"></p><p><strong>å°ç»“</strong></p><ul><li>1ï¼‰ç±»ä¸­ç”¨åˆ°äº†å¯¹æ–¹</li><li>2ï¼‰ç±»çš„æˆå‘˜å±æ€§</li><li>3ï¼‰æ–¹æ³•çš„è¿”å›ç±»å‹</li><li>4ï¼‰æ–¹æ³•æ¥æ”¶çš„å‚æ•°ç±»å‹</li><li>5ï¼‰æ–¹æ³•ä¸­ä½¿ç”¨åˆ°</li></ul><h4 id="_4-2ã€ç±»å›¾â€”â€”æ³›åŒ–-generalization" tabindex="-1"><a class="header-anchor" href="#_4-2ã€ç±»å›¾â€”â€”æ³›åŒ–-generalization"><span>4.2ã€ç±»å›¾â€”â€”æ³›åŒ–ï¼ˆGeneralizationï¼‰</span></a></h4><p><mark>æ³›åŒ–å…³ç³»å®é™…ä¸Šå°±æ˜¯ç»§æ‰¿å…³ç³»</mark>ï¼Œå®ƒæ˜¯ä¾èµ–å…³ç³»çš„ç‰¹ä¾‹</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">DaoSupport</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Object</span> entity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Object</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonServiceBean</span> <span class="token keyword">extends</span> <span class="token class-name">DaoSupport</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+S+`" alt="Package generalization"></p><p><strong>å°ç»“</strong></p><ul><li>1ï¼‰æ³›åŒ–å…³ç³»å®é™…ä¸Šå°±æ˜¯ç»§æ‰¿å…³ç³»</li><li>2ï¼‰å¦‚æœ A ç±»ç»§æ‰¿äº† B ç±»ï¼Œæˆ‘ä»¬å°±è¯´ A å’Œ B å­˜åœ¨æ³›åŒ–å…³ç³»</li></ul><h4 id="_4-3ã€ç±»å›¾â€”â€”å®ç°-implementation" tabindex="-1"><a class="header-anchor" href="#_4-3ã€ç±»å›¾â€”â€”å®ç°-implementation"><span>4.3ã€ç±»å›¾â€”â€”å®ç°ï¼ˆImplementationï¼‰</span></a></h4><p><mark>å®ç°å…³ç³»å®é™…ä¸Šå°±æ˜¯ A ç±»å®ç° B ç±»</mark>ï¼Œå®ƒæ˜¯ä¾èµ–å…³ç³»çš„ç‰¹ä¾‹</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PersonService</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonServiceBean</span> <span class="token keyword">implements</span> <span class="token class-name">PersonService</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;delete...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+C+'" alt="Package implementation"></p><h4 id="_4-4ã€ç±»å›¾â€”â€”å…³è”-association" tabindex="-1"><a class="header-anchor" href="#_4-4ã€ç±»å›¾â€”â€”å…³è”-association"><span>4.4ã€ç±»å›¾â€”â€”å…³è”ï¼ˆAssociationï¼‰</span></a></h4><p><mark>å…³è”å…³ç³»å®é™…ä¸Šå°±æ˜¯ç±»ä¸ç±»ä¹‹é—´çš„è”ç³»</mark>ï¼Œå®ƒæ˜¯ä¾èµ–å…³ç³»çš„ç‰¹ä¾‹</p><ul><li><mark>å…³è”å…·æœ‰å¯¼èˆªæ€§</mark>ï¼šå³åŒå‘å…³ç³»æˆ–å•å‘å…³ç³»</li><li><mark>å…³ç³»å…·æœ‰å¤šé‡æ€§</mark>ï¼šå¦‚â€œ1â€ï¼ˆè¡¨ç¤ºæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªï¼‰ï¼Œâ€œ0...â€ï¼ˆè¡¨ç¤º0ä¸ªæˆ–è€…å¤šä¸ªï¼‰ï¼Œâ€œ0ï¼Œ1â€ï¼ˆè¡¨ç¤º0ä¸ªæˆ–è€…ä¸€ä¸ªï¼‰ï¼Œâ€œn...mâ€ï¼ˆè¡¨ç¤ºnåˆ°mä¸ªéƒ½å¯ä»¥ï¼‰ï¼Œâ€œm...*â€ï¼ˆè¡¨ç¤ºè‡³å°‘mä¸ªï¼‰</li></ul><p><img src="'+q+`" alt="image-20211011211125957"></p><h5 id="å•å‘ä¸€å¯¹ä¸€å…³ç³»" tabindex="-1"><a class="header-anchor" href="#å•å‘ä¸€å¯¹ä¸€å…³ç³»"><span>å•å‘ä¸€å¯¹ä¸€å…³ç³»</span></a></h5><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">IDCard</span> card<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IDCard</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+j+`" alt="Package unidirectional121"></p><h5 id="åŒå‘ä¸€å¯¹ä¸€å…³ç³»" tabindex="-1"><a class="header-anchor" href="#åŒå‘ä¸€å¯¹ä¸€å…³ç³»"><span>åŒå‘ä¸€å¯¹ä¸€å…³ç³»</span></a></h5><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">IDCard</span> card<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IDCard</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">Person</span> person<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+_+'" alt="Package bidirectional121"></p><h4 id="_4-5ã€ç±»å›¾â€”â€”èšåˆ-aggregation" tabindex="-1"><a class="header-anchor" href="#_4-5ã€ç±»å›¾â€”â€”èšåˆ-aggregation"><span>4.5ã€ç±»å›¾â€”â€”èšåˆï¼ˆAggregationï¼‰</span></a></h4><p><mark>èšåˆå…³ç³»è¡¨ç¤ºçš„æ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œæ•´ä½“ä¸éƒ¨åˆ†å¯ä»¥åˆ†å¼€</mark>ã€‚èšåˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ç‰¹ä¾‹ï¼Œæ‰€ä»¥å®ƒå…·æœ‰å…³è”çš„å¯¼èˆªæ€§ä¸å¤šé‡æ€§</p><p>å¦‚ï¼šä¸€å°ç”µè„‘ç”±é”®ç›˜ï¼ˆkeyboardï¼‰ã€æ˜¾ç¤ºå™¨ï¼ˆmonitorï¼‰ï¼Œé¼ æ ‡ç­‰ç»„æˆï¼›ç»„æˆç”µè„‘çš„å„ä¸ªé…ä»¶æ˜¯å¯ä»¥ä»ç”µè„‘ä¸Šåˆ†ç¦»å‡ºæ¥çš„ï¼Œä½¿ç”¨å¸¦ç©ºå¿ƒè±å½¢çš„å®çº¿æ¥è¡¨ç¤ºï¼š</p><p><img src="'+D+`" alt="image-20211011211749247"></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Monitor</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Computer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Mouse</span> mouse<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Monitor</span> monitor<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMouse</span><span class="token punctuation">(</span><span class="token class-name">Mouse</span> mouse<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>mouse <span class="token operator">=</span> mouse<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMonitor</span><span class="token punctuation">(</span><span class="token class-name">Monitor</span> monitor<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>monitor <span class="token operator">=</span> monitor<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+O+`" alt="Package aggregation"></p><h4 id="_4-6ã€ç±»å›¾â€”â€”ç»„åˆ-composition" tabindex="-1"><a class="header-anchor" href="#_4-6ã€ç±»å›¾â€”â€”ç»„åˆ-composition"><span>4.6ã€ç±»å›¾â€”â€”ç»„åˆï¼ˆCompositionï¼‰</span></a></h4><p><mark>ç»„åˆå…³ç³»ä¹Ÿæ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä½†æ˜¯æ•´ä½“ä¸éƒ¨åˆ†ä¸å¯ä»¥åˆ†å¼€</mark></p><p>å¦‚æœæˆ‘ä»¬è®¤ä¸º Mouseã€Monitor å’Œ Computer æ˜¯ä¸å¯åˆ†ç¦»çš„ï¼Œåˆ™å‡çº§ä¸ºç»„åˆå…³ç³»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Monitor</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Computer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Mouse</span> mouse <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Monitor</span> monitor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Monitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+P+`" alt="composition"></p><p>å†çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼Œåœ¨ç¨‹åºä¸­æˆ‘ä»¬å®šä¹‰å®ä½“ï¼šPerson ä¸ IDCardã€Headï¼Œé‚£ä¹ˆ Head å’Œ Person å°±æ˜¯ç»„åˆï¼ŒIDCard å’Œ Person å°±æ˜¯èšåˆ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IDCard</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Head</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">IDCard</span> card<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Head</span> head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Head</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+I+`" alt="image-20211011215441995"></p><p>ä½†æ˜¯å¦‚æœåœ¨ç¨‹åºä¸­ï¼ŒPerson å®ä½“ä¸­å®šä¹‰äº†å¯¹ IDCard è¿›è¡Œçº§è”åˆ é™¤ï¼Œå³åˆ é™¤ Person æ—¶è¿åŒ IDCard ä¸€èµ·åˆ é™¤ï¼Œé‚£ä¹ˆ IDCard å’Œ Person å°±æ˜¯ç»„åˆäº†</p><h3 id="_5ã€è®¾è®¡æ¨¡å¼æ¦‚è¿°å’Œåˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_5ã€è®¾è®¡æ¨¡å¼æ¦‚è¿°å’Œåˆ†ç±»"><span>5ã€è®¾è®¡æ¨¡å¼æ¦‚è¿°å’Œåˆ†ç±»</span></a></h3><h4 id="_5-1ã€è®¾è®¡æ¨¡å¼å±‚æ¬¡" tabindex="-1"><a class="header-anchor" href="#_5-1ã€è®¾è®¡æ¨¡å¼å±‚æ¬¡"><span>5.1ã€è®¾è®¡æ¨¡å¼å±‚æ¬¡</span></a></h4><ul><li>1ï¼‰ç¬¬1å±‚ï¼šåˆšå¼€å§‹å­¦ç¼–ç¨‹ä¸ä¹…ï¼Œå¬è¯´è¿‡ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼</li><li>2ï¼‰ç¬¬2å±‚ï¼šæœ‰å¾ˆé•¿æ—¶é—´çš„ç¼–ç¨‹ç»éªŒï¼Œè‡ªå·±å†™äº†å¾ˆå¤šä»£ç ï¼Œå…¶ä¸­ç”¨åˆ°äº†è®¾è®¡æ¨¡å¼ï¼Œä½†æ˜¯è‡ªå·±å´ä¸çŸ¥é“</li><li>3ï¼‰ç¬¬3å±‚ï¼šå­¦ä¹ è¿‡äº†è®¾è®¡æ¨¡å¼ï¼Œå‘ç°è‡ªå·±å·²ç»åœ¨ä½¿ç”¨äº†ï¼Œå¹¶ä¸”å‘ç°äº†ä¸€äº›æ–°çš„æ¨¡å¼æŒºå¥½ç”¨çš„</li><li>4ï¼‰ç¬¬4å±‚ï¼šé˜…è¯»äº†å¾ˆå¤šåˆ«äººå†™çš„æºç å’Œæ¡†æ¶ï¼Œåœ¨å…¶ä¸­çœ‹åˆ°åˆ«äººè®¾è®¡æ¨¡å¼ï¼Œå¹¶ä¸”èƒ½å¤Ÿé¢†ä¼šè®¾è®¡æ¨¡å¼çš„ç²¾å¦™å’Œå¸¦æ¥çš„å¥½å¤„</li><li>5ï¼‰ç¬¬5å±‚ï¼šä»£ç å†™ç€å†™ç€ï¼Œè‡ªå·±éƒ½æ²¡æœ‰æ„è¯†åˆ°ä½¿ç”¨äº†è®¾è®¡æ¨¡å¼ï¼Œå¹¶ä¸”ç†Ÿç»ƒçš„å†™äº†å‡ºæ¥</li></ul><h4 id="_5-2ã€è®¾è®¡æ¨¡å¼ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_5-2ã€è®¾è®¡æ¨¡å¼ä»‹ç»"><span>5.2ã€è®¾è®¡æ¨¡å¼ä»‹ç»</span></a></h4><ul><li>1ï¼‰è®¾è®¡æ¨¡å¼æ˜¯ç¨‹åºå‘˜åœ¨é¢å¯¹åŒç±»è½¯ä»¶å·¥ç¨‹è®¾è®¡é—®é¢˜æ‰€æ€»ç»“å‡ºæ¥çš„æœ‰ç”¨çš„ç»éªŒã€‚<mark>æ¨¡å¼ä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯æŸç±»é—®é¢˜çš„é€šç”¨è§£å†³æ–¹æ¡ˆ</mark>ï¼Œè®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰ä»£è¡¨äº†<mark>æœ€ä½³å®è·µ</mark>ã€‚è¿™äº›è§£å†³æ–¹æ¡ˆæ˜¯ä¼—å¤šè½¯ä»¶å¼€å‘äººå‘˜ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„</li><li>2ï¼‰è®¾è®¡æ¨¡å¼çš„æœ¬è´¨<mark>æé«˜è½¯ä»¶çš„ç»´æŠ¤æ€§ã€é€šç”¨æ€§å’Œæ‰©å±•æ€§ï¼Œå¹¶é™ä½è½¯ä»¶çš„å¤æ‚åº¦</mark></li><li>3ï¼‰ã€Šè®¾è®¡æ¨¡å¼ã€‹æ˜¯ç»å…¸çš„ä¹¦ï¼Œä½œè€…æ˜¯ Erich Gammaã€Richard Helmã€Ralph Johnson å’Œ John Vlissides Designï¼ˆä¿—ç§°â€œå››äººç»„GOFâ€ï¼‰</li><li>4ï¼‰è®¾è®¡æ¨¡å¼å¹¶ä¸å±€é™äºæŸç§è¯­è¨€ï¼ŒJavaã€PHPã€C++ éƒ½æœ‰è®¾è®¡æ¨¡å¼</li></ul><h4 id="_5-3ã€è®¾è®¡æ¨¡å¼ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_5-3ã€è®¾è®¡æ¨¡å¼ç±»å‹"><span>5.3ã€è®¾è®¡æ¨¡å¼ç±»å‹</span></a></h4><p>è®¾è®¡æ¨¡å¼åˆ†ä¸ºè‡³ç§ç±»å‹ï¼Œå…± 23 ç§</p><ul><li>1ï¼‰<strong>åˆ›å»ºå‹æ¨¡å¼</strong>ï¼š<mark>å•ä¾‹æ¨¡å¼</mark>ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ã€<mark>å·¥å‚æ¨¡å¼</mark></li><li>2ï¼‰<strong>ç»“æ„å‹æ¨¡å¼</strong>ï¼šé€‚é…å™¨æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€<mark>è£…é¥°æ¨¡å¼</mark>ã€ç»„åˆæ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€<mark>ä»£ç†æ¨¡å¼</mark></li><li>3ï¼‰<strong>è¡Œä¸ºå‹æ¨¡å¼</strong>ï¼šæ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€<mark>è§‚å¯Ÿè€…æ¨¡å¼</mark>ã€ä¸­ä»‹è€…æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter æ¨¡å¼ï¼‰ã€çŠ¶æ€æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€èŒè´£é“¾æ¨¡å¼ï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰</li></ul><p>æ³¨æ„ï¼šä¸åŒçš„ä¹¦ç±ä¸Šå¯¹åˆ†ç±»å’Œåç§°ç•¥æœ‰å·®åˆ«</p><h2 id="ã€1ã€‘å•ä¾‹æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€1ã€‘å•ä¾‹æ¨¡å¼"><span>ã€1ã€‘å•ä¾‹æ¨¡å¼</span></a></h2><h3 id="_1ã€ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_1ã€ä»‹ç»"><span>1ã€ä»‹ç»</span></a></h3><p>æ‰€è°“ç±»çš„å•ä¾‹è®¾è®¡æ¨¡å¼ï¼Œå°±æ˜¯é‡‡å–ä¸€å®šçš„æ–¹æ³•ä¿è¯åœ¨æ•´ä¸ªçš„è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œå¯¹æŸä¸ªç±»<mark>åªèƒ½å­˜åœ¨ä¸€ä¸ªå¯¹è±¡å®ä¾‹</mark>ï¼Œå¹¶ä¸”è¯¥ç±»åªæä¾›ä¸€ä¸ªå–å¾—å…¶å¯¹è±¡å®ä¾‹çš„æ–¹æ³•ï¼ˆé™æ€æ–¹æ³•ï¼‰</p><p>æ¯”å¦‚ Hibernate çš„ SessionFactoryï¼Œå®ƒå……å½“æ•°æ®å­˜å‚¨æºçš„ä»£ç†ï¼Œå¹¶è´Ÿè´£åˆ›å»º Session å¯¹è±¡ã€‚SessionFactory å¹¶ä¸æ˜¯è½»é‡çº§çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªé¡¹ç›®é€šå¸¸åªéœ€è¦ä¸€ä¸ª SessionFactory å°±å¤Ÿï¼Œè¿™æ˜¯å°±ä¼šä½¿ç”¨åˆ°å•ä¾‹æ¨¡å¼</p><h3 id="_2ã€å…«ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_2ã€å…«ç§æ–¹å¼"><span>2ã€å…«ç§æ–¹å¼</span></a></h3><ul><li>1ï¼‰<mark>é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰</mark></li><li>2ï¼‰<mark>é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰</mark></li><li>3ï¼‰<mark>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰</mark></li><li>4ï¼‰<mark>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰</mark></li><li>5ï¼‰<mark>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰</mark></li><li>6ï¼‰<mark>åŒé‡æ£€æŸ¥</mark></li><li>7ï¼‰<mark>é™æ€å†…éƒ¨ç±»</mark></li><li>8ï¼‰<mark>æšä¸¾</mark></li></ul><h4 id="_2-1ã€é¥¿æ±‰å¼-é™æ€å¸¸é‡" tabindex="-1"><a class="header-anchor" href="#_2-1ã€é¥¿æ±‰å¼-é™æ€å¸¸é‡"><span>2.1ã€é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰</span></a></h4><ul><li>1ï¼‰æ„é€ å™¨ç§æœ‰åŒ–ï¼ˆé˜²æ­¢å¤–éƒ¨ newï¼‰</li><li>2ï¼‰ç±»çš„å†…éƒ¨åˆ›å»ºå¯¹è±¡</li><li>3ï¼‰å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³• getInstance</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1ã€æ„é€ å™¨ç§æœ‰åŒ–</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 2ã€ç±»çš„å†…éƒ¨åˆ›å»ºå¯¹è±¡</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Singleton</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 3ã€å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> instance<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰ä¼˜ç‚¹ï¼šè¿™ç§å†™æ³•æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åœ¨ç±»è£…è½½çš„æ—¶å€™å°±å®Œæˆå®ä¾‹åŒ–ã€‚<mark>é¿å…äº†çº¿ç¨‹åŒæ­¥é—®é¢˜</mark></li><li>2ï¼‰ç¼ºç‚¹ï¼šåœ¨ç±»è£…è½½çš„æ—¶å€™å°±å®Œæˆå®ä¾‹åŒ–ï¼Œ<mark>æ²¡æœ‰è¾¾åˆ° Lazy Loading çš„æ•ˆæœ</mark>ã€‚å¦‚æœä»å§‹è‡³ç»ˆä»æœªä½¿ç”¨è¿‡è¿™ä¸ªå®ä¾‹ï¼Œåˆ™ä¼š<mark>é€ æˆå†…å­˜çš„æµªè´¹</mark></li><li>3ï¼‰è¿™ç§æ–¹å¼åŸºäº classloder æœºåˆ¶é¿å…äº†å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜ã€‚ä¸è¿‡ï¼Œinstance åœ¨ç±»è£…è½½æ—¶å°±å®ä¾‹åŒ–ï¼Œåœ¨å•ä¾‹æ¨¡å¼ä¸­å¤§å¤šæ•°éƒ½æ˜¯è°ƒç”¨getlnstance æ–¹æ³•ï¼Œä½†æ˜¯å¯¼è‡´ç±»è£…è½½çš„åŸå› æœ‰å¾ˆå¤šç§ï¼Œå› æ­¤ä¸èƒ½ç¡®å®šæœ‰å…¶ä»–çš„æ–¹å¼ï¼ˆæˆ–è€…å…¶ä»–çš„é™æ€æ–¹æ³•ï¼‰å¯¼è‡´ç±»è£…è½½ï¼Œè¿™æ—¶å€™åˆå§‹åŒ– instance å°±æ²¡æœ‰è¾¾åˆ° Lazy loading çš„æ•ˆæœ</li><li>4ï¼‰ç»“è®ºï¼šè¿™ç§å•ä¾‹æ¨¡å¼å¯ç”¨ï¼Œå¯èƒ½é€ æˆå†…å­˜æµªè´¹</li></ul><h4 id="_2-2ã€é¥¿æ±‰å¼-é™æ€ä»£ç å—" tabindex="-1"><a class="header-anchor" href="#_2-2ã€é¥¿æ±‰å¼-é™æ€ä»£ç å—"><span>2.2ã€é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰</span></a></h4><ul><li>1ï¼‰æ„é€ å™¨ç§æœ‰åŒ–</li><li>2ï¼‰ç±»çš„å†…éƒ¨å£°æ˜å¯¹è±¡</li><li>3ï¼‰åœ¨é™æ€ä»£ç å—ä¸­åˆ›å»ºå¯¹è±¡</li><li>4ï¼‰å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1ã€æ„é€ å™¨ç§æœ‰åŒ–</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 2ã€ç±»çš„å†…éƒ¨å£°æ˜å¯¹è±¡</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 3ã€åœ¨é™æ€ä»£ç å—ä¸­åˆ›å»ºå¯¹è±¡</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token punctuation">{</span></span>
<span class="line">        instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 4ã€å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> instance<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰è¿™ç§æ–¹å¼å’Œä¸Šé¢çš„æ–¹å¼å…¶å®ç±»ä¼¼ï¼Œåªä¸è¿‡å°†ç±»å®ä¾‹åŒ–çš„è¿‡ç¨‹æ”¾åœ¨äº†é™æ€ä»£ç å—ä¸­ï¼Œä¹Ÿæ˜¯åœ¨ç±»è£…è½½çš„æ—¶å€™ï¼Œå°±æ‰§è¡Œé™æ€ä»£ç å—ä¸­çš„ä»£ç ï¼Œåˆå§‹åŒ–ç±»çš„å®ä¾‹ã€‚ä¼˜ç¼ºç‚¹å’Œä¸Šé¢æ˜¯ä¸€æ ·çš„ã€‚</li><li>2ï¼‰ç»“è®ºï¼šè¿™ç§å•ä¾‹æ¨¡å¼å¯ç”¨ï¼Œä½†æ˜¯å¯èƒ½é€ æˆå†…å­˜æµªè´¹</li></ul><h4 id="_2-3ã€æ‡’æ±‰å¼-çº¿ç¨‹ä¸å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#_2-3ã€æ‡’æ±‰å¼-çº¿ç¨‹ä¸å®‰å…¨"><span>2.3ã€æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰</span></a></h4><ul><li>1ï¼‰æ„é€ å™¨ç§æœ‰åŒ–</li><li>2ï¼‰ç±»çš„å†…éƒ¨åˆ›å»ºå¯¹è±¡</li><li>3ï¼‰å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ï¼Œå½“ä½¿ç”¨åˆ°è¯¥æ–¹æ³•æ—¶ï¼Œæ‰å»åˆ›å»º instance</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// 1ã€æ„é€ å™¨ç§æœ‰åŒ–</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 2ã€ç±»çš„å†…éƒ¨å£°æ˜å¯¹è±¡</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 3ã€å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ï¼Œå½“ä½¿ç”¨åˆ°è¯¥æ–¹æ³•æ—¶ï¼Œæ‰å»åˆ›å»º instance</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> instance<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰<mark>èµ·åˆ°äº† Lazy Loading çš„æ•ˆæœï¼Œä½†æ˜¯åªèƒ½åœ¨å•çº¿ç¨‹ä¸‹ä½¿ç”¨</mark></li><li>2ï¼‰å¦‚æœåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œä¸€ä¸ªçº¿ç¨‹è¿›å…¥äº†åˆ¤æ–­è¯­å¥å—ï¼Œè¿˜æœªæ¥å¾—åŠå¾€ä¸‹æ‰§è¡Œï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿé€šè¿‡äº†è¿™ä¸ªåˆ¤æ–­è¯­å¥ï¼Œè¿™æ—¶ä¾¿ä¼šäº§ç”Ÿå¤šä¸ªå®ä¾‹</li><li>3ï¼‰ç»“è®ºï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸è¦ä½¿ç”¨è¿™ç§æ–¹å¼</li></ul><h4 id="_2-4ã€æ‡’æ±‰å¼-çº¿ç¨‹å®‰å…¨-åŒæ­¥æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_2-4ã€æ‡’æ±‰å¼-çº¿ç¨‹å®‰å…¨-åŒæ­¥æ–¹æ³•"><span>2.4ã€æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰</span></a></h4><ul><li>1ï¼‰æ„é€ å™¨ç§æœ‰åŒ–</li><li>2ï¼‰ç±»çš„å†…éƒ¨åˆ›å»ºå¯¹è±¡</li><li>3ï¼‰å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ï¼ŒåŠ å…¥åŒæ­¥å¤„ç†çš„ä»£ç ï¼Œè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1ã€æ„é€ å™¨ç§æœ‰åŒ–</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 2ã€ç±»çš„å†…éƒ¨å£°æ˜å¯¹è±¡</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 3ã€å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ï¼ŒåŠ å…¥åŒæ­¥å¤„ç†çš„ä»£ç ï¼Œè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> instance<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰<mark>è§£å†³äº†çº¿ç¨‹ä¸å®‰å…¨é—®é¢˜</mark></li><li>2ï¼‰<mark>æ•ˆç‡å¤ªä½</mark>äº†ï¼Œæ¯ä¸ªçº¿ç¨‹åœ¨æƒ³è·å¾—ç±»çš„å®ä¾‹æ—¶å€™ï¼Œæ‰§è¡Œ<code>getlnstance()</code>æ–¹æ³•éƒ½è¦è¿›è¡ŒåŒæ­¥ã€‚è€Œå…¶å®è¿™ä¸ªæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡å®ä¾‹åŒ–ä»£ç å°±å¤Ÿäº†ï¼Œåé¢çš„æƒ³è·å¾—è¯¥ç±»å®ä¾‹ï¼Œç›´æ¥<code>return</code>å°±è¡Œäº†ã€‚æ–¹æ³•è¿›è¡ŒåŒæ­¥æ•ˆç‡å¤ªä½</li><li>3ï¼‰ç»“è®ºï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸æ¨èä½¿ç”¨è¿™ç§æ–¹å¼</li></ul><h4 id="_2-5ã€æ‡’æ±‰å¼-çº¿ç¨‹ä¸å®‰å…¨-åŒæ­¥ä»£ç å—" tabindex="-1"><a class="header-anchor" href="#_2-5ã€æ‡’æ±‰å¼-çº¿ç¨‹ä¸å®‰å…¨-åŒæ­¥ä»£ç å—"><span>2.5ã€æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰</span></a></h4><ul><li>1ï¼‰æ„é€ å™¨ç§æœ‰åŒ–</li><li>2ï¼‰ç±»çš„å†…éƒ¨åˆ›å»ºå¯¹è±¡</li><li>3ï¼‰å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ï¼ŒåŠ å…¥åŒæ­¥å¤„ç†çš„ä»£ç å—</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1ã€æ„é€ å™¨ç§æœ‰åŒ–</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 2ã€ç±»çš„å†…éƒ¨å£°æ˜å¯¹è±¡</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 3ã€å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ï¼ŒåŠ å…¥åŒæ­¥å¤„ç†çš„ä»£ç ï¼Œè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> instance<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰è¿™ç§æ–¹å¼ï¼Œæœ¬æ„æ˜¯æƒ³å¯¹ç¬¬å››ç§å®ç°æ–¹å¼çš„æ”¹è¿›ï¼Œå› ä¸ºå‰é¢åŒæ­¥æ–¹æ³•æ•ˆç‡å¤ªä½ï¼Œæ”¹ä¸ºåŒæ­¥äº§ç”Ÿå®ä¾‹åŒ–çš„çš„ä»£ç å—</li><li>2ï¼‰ä½†æ˜¯è¿™ç§åŒæ­¥å¹¶<mark>ä¸èƒ½èµ·åˆ°çº¿ç¨‹åŒæ­¥çš„ä½œç”¨</mark>ã€‚è·Ÿç¬¬3ç§å®ç°æ–¹å¼é‡åˆ°çš„æƒ…å½¢ä¸€è‡´ï¼Œå‡å¦‚ä¸€ä¸ªçº¿ç¨‹è¿›å…¥äº†åˆ¤æ–­è¯­å¥å—ï¼Œè¿˜æœªæ¥å¾—åŠå¾€ä¸‹æ‰§è¡Œï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿé€šè¿‡äº†è¿™ä¸ªåˆ¤æ–­è¯­å¥ï¼Œè¿™æ—¶ä¾¿ä¼šäº§ç”Ÿå¤šä¸ªå®ä¾‹</li><li>3ï¼‰ç»“è®ºï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹å¼</li></ul><h4 id="_2-6ã€åŒé‡æ£€æŸ¥" tabindex="-1"><a class="header-anchor" href="#_2-6ã€åŒé‡æ£€æŸ¥"><span>2.6ã€åŒé‡æ£€æŸ¥</span></a></h4><ul><li>1ï¼‰æ„é€ å™¨ç§æœ‰åŒ–</li><li>2ï¼‰ç±»çš„å†…éƒ¨åˆ›å»ºå¯¹è±¡ï¼ŒåŒæ—¶ç”¨<code>volatile</code>å…³é”®å­—ä¿®é¥°ä¿®é¥°</li><li>3ï¼‰å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ï¼ŒåŠ å…¥åŒæ­¥å¤„ç†çš„ä»£ç å—ï¼Œå¹¶è¿›è¡ŒåŒé‡åˆ¤æ–­ï¼Œè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1ã€æ„é€ å™¨ç§æœ‰åŒ–</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 2ã€ç±»çš„å†…éƒ¨å£°æ˜å¯¹è±¡ï¼ŒåŒæ—¶ç”¨\`volatile\`å…³é”®å­—ä¿®é¥°ä¿®é¥°</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">volatile</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 3ã€å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•ï¼ŒåŠ å…¥åŒæ­¥å¤„ç†çš„ä»£ç å—ï¼Œå¹¶è¿›è¡ŒåŒé‡åˆ¤æ–­ï¼Œè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> instance<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰Double-Check æ¦‚å¿µæ˜¯å¤šçº¿ç¨‹å¼€å‘ä¸­å¸¸ä½¿ç”¨åˆ°çš„ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä¸¤æ¬¡æ£€æŸ¥ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨äº†</li><li>2ï¼‰è¿™æ ·å®ä¾‹åŒ–ä»£ç åªç”¨æ‰§è¡Œä¸€æ¬¡ï¼Œåé¢å†æ¬¡è®¿é—®æ—¶ç›´æ¥ return å®ä¾‹åŒ–å¯¹è±¡ï¼Œä¹Ÿé¿å…çš„åå¤è¿›è¡Œæ–¹æ³•åŒæ­¥</li><li>3ï¼‰<mark>çº¿ç¨‹å®‰å…¨ï¼›å»¶è¿ŸåŠ è½½ï¼›æ•ˆç‡è¾ƒé«˜</mark></li><li>4ï¼‰ç»“è®ºï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ¨èä½¿ç”¨è¿™ç§å•ä¾‹è®¾è®¡æ¨¡å¼</li></ul><h4 id="_2-7ã€é™æ€å†…éƒ¨ç±»" tabindex="-1"><a class="header-anchor" href="#_2-7ã€é™æ€å†…éƒ¨ç±»"><span>2.7ã€é™æ€å†…éƒ¨ç±»</span></a></h4><ul><li>1ï¼‰æ„é€ å™¨ç§æœ‰åŒ–</li><li>2ï¼‰å®šä¹‰ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼Œå†…éƒ¨å®šä¹‰å½“å‰ç±»çš„é™æ€å±æ€§</li><li>3ï¼‰å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1ã€æ„é€ å™¨ç§æœ‰åŒ–</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 2ã€å®šä¹‰ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼Œå†…éƒ¨å®šä¹‰å½“å‰ç±»çš„é™æ€å±æ€§</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">SingletonInstance</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Singleton</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 3ã€å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">SingletonInstance</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰è¿™ç§æ–¹å¼é‡‡ç”¨äº†ç±»è£…è½½çš„æœºåˆ¶ï¼Œæ¥ä¿è¯åˆå§‹åŒ–å®ä¾‹æ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹</li><li>2ï¼‰é™æ€å†…éƒ¨ç±»æ–¹å¼åœ¨ Singleton ç±»è¢«è£…è½½æ—¶å¹¶ä¸ä¼šç«‹å³å®ä¾‹åŒ–ï¼Œè€Œæ˜¯åœ¨éœ€è¦å®ä¾‹åŒ–æ—¶ï¼Œè°ƒç”¨<code>getlnstance</code>æ–¹æ³•ï¼Œæ‰ä¼šè£…è½½Singletonlnstance ç±»ï¼Œä»è€Œå®Œæˆ Singleton çš„å®ä¾‹åŒ–</li><li>3ï¼‰ç±»çš„é™æ€å±æ€§åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½ç±»çš„æ—¶å€™åˆå§‹åŒ–ï¼ŒJVMå¸®åŠ©æˆ‘ä»¬ä¿è¯äº†çº¿ç¨‹çš„å®‰å…¨æ€§ï¼Œåœ¨ç±»è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåˆ«çš„çº¿ç¨‹æ˜¯æ— æ³•è¿›å…¥çš„</li><li>4ï¼‰ä¼˜ç‚¹ï¼š<mark>é¿å…äº†çº¿ç¨‹ä¸å®‰å…¨</mark>ï¼Œåˆ©ç”¨é™æ€å†…éƒ¨ç±»ç‰¹ç‚¹å®ç°<mark>å»¶è¿ŸåŠ è½½ï¼Œæ•ˆç‡é«˜</mark></li><li>5ï¼‰ç»“è®ºï¼šæ¨èä½¿ç”¨</li></ul><h4 id="_2-8ã€æšä¸¾" tabindex="-1"><a class="header-anchor" href="#_2-8ã€æšä¸¾"><span>2.8ã€æšä¸¾</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token constant">INSTANCE</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰è¿™å€ŸåŠ© JDK1.5 ä¸­æ·»åŠ çš„æšä¸¾æ¥å®ç°å•ä¾‹æ¨¡å¼ã€‚ä¸ä»…èƒ½<mark>é¿å…å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè€Œä¸”è¿˜èƒ½é˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡</mark></li><li>2ï¼‰è¿™ç§æ–¹å¼æ˜¯ Effective Java ä½œè€… Josh Bloch æå€¡çš„æ–¹å¼</li><li>3ï¼‰ç»“è®ºï¼šæ¨èä½¿ç”¨</li></ul><h3 id="_3ã€jdk-æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_3ã€jdk-æºç åˆ†æ"><span>3ã€JDK æºç åˆ†æ</span></a></h3><p>JDKä¸­ java.lang.Runtime å°±æ˜¯ç»å…¸çš„å•ä¾‹æ¨¡å¼</p><p><img src="`+F+'" alt="image-20211012225547978"></p><h3 id="_4ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_4ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚è¯´æ˜"><span>4ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚è¯´æ˜</span></a></h3><ul><li>1ï¼‰å•ä¾‹æ¨¡å¼ä¿è¯äº†ç³»ç»Ÿå†…å­˜ä¸­è¯¥ç±»åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒèŠ‚çœäº†ç³»ç»Ÿèµ„æºï¼Œå¯¹äºä¸€äº›éœ€è¦é¢‘ç¹åˆ›å»ºé”€æ¯çš„å¯¹è±¡ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼å¯ä»¥æé«˜ç³»ç»Ÿæ€§èƒ½</li><li>2ï¼‰å½“æƒ³å®ä¾‹åŒ–ä¸€ä¸ªå•ä¾‹ç±»çš„æ—¶å€™ï¼Œå¿…é¡»è¦è®°ä½ä½¿ç”¨ç›¸åº”çš„è·å–å¯¹è±¡çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ new</li><li>3ï¼‰å•ä¾‹æ¨¡å¼ä½¿ç”¨çš„åœºæ™¯ï¼š<mark>éœ€è¦é¢‘ç¹çš„è¿›è¡Œåˆ›å»ºå’Œé”€æ¯çš„å¯¹è±¡</mark>ã€<mark>åˆ›å»ºå¯¹è±¡æ—¶è€—æ—¶è¿‡å¤šæˆ–è€—è´¹èµ„æºè¿‡å¤šä½†åˆç»å¸¸ç”¨åˆ°çš„å¯¹è±¡</mark>ï¼ˆå³ï¼šé‡é‡çº§å¯¹è±¡ï¼‰ã€<mark>å·¥å…·ç±»å¯¹è±¡</mark>ã€<mark>é¢‘ç¹è®¿é—®æ•°æ®åº“æˆ–æ–‡ä»¶çš„å¯¹è±¡</mark>ï¼ˆæ¯”å¦‚æ•°æ®æºã€session å·¥å‚ç­‰ï¼‰</li></ul><h3 id="_5ã€å°ç»“" tabindex="-1"><a class="header-anchor" href="#_5ã€å°ç»“"><span>5ã€å°ç»“</span></a></h3><p>è™½ç„¶ä¸Šè¿°æåˆ°çš„æ¦‚å¿µä¸­ï¼Œå°†<mark>åŒé‡æ£€æŸ¥ã€é™æ€å†…éƒ¨ç±»ã€æšä¸¾</mark>ä¸‰ç§æ–¹å¼çš„å•ä¾‹æ¨¡å¼å•ç‹¬åˆ—ä¸¾å‡ºæ¥è¯´æ˜ï¼Œä½†ä¸ªäººè§‰å¾—æœ¬è´¨ä¹Ÿå¯ä»¥å½’ç±»åˆ°é¥¿æ±‰å¼å’Œæ‡’æ±‰å¼ä¸­ï¼›å¦å¤–ï¼ŒåŒæ­¥ä»£ç å—è™½ç„¶ä¸Šè¿°ä¸­å½’ç±»åˆ°çº¿ç¨‹å®‰å…¨ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</p><p>æ€»ç»“å¦‚ä¸‹</p><ul><li>|â€”â€”é¥¿æ±‰å¼ï¼šé™æ€å¸¸é‡ã€é™æ€ä»£ç å—ã€æšä¸¾ï¼ˆæœ¬è´¨å°±æ˜¯é™æ€å¸¸é‡ï¼‰</li><li>|â€”â€”æ‡’æ±‰å¼ <ul><li>|â€”â€”çº¿ç¨‹ä¸å®‰å…¨ï¼šä¸€æ¬¡æ£€æŸ¥ã€åŒæ­¥ä»£ç å—</li><li>|â€”â€”çº¿ç¨‹å®‰å…¨ï¼šåŒæ­¥æ–¹æ³•ã€åŒé‡æ£€æŸ¥ã€é™æ€å†…éƒ¨ç±»</li></ul></li></ul><table><thead><tr><th style="text-align:center;">åˆ†ç±»</th><th style="text-align:left;">æ–¹å¼</th><th style="text-align:center;">æ‡’åŠ è½½</th><th style="text-align:center;">çº¿ç¨‹å®‰å…¨</th><th style="text-align:center;">æ•ˆç‡</th><th style="text-align:center;">å†…å­˜</th><th style="text-align:center;">æ¨èæŒ‡æ•°ï¼ˆä»…ä¾›å‚è€ƒï¼‰</th></tr></thead><tbody><tr><td style="text-align:center;">é¥¿æ±‰å¼</td><td style="text-align:left;">é™æ€å˜é‡</td><td style="text-align:center;">âŒ</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âŒ</td><td style="text-align:center;">â­â­</td></tr><tr><td style="text-align:center;">~</td><td style="text-align:left;">é™æ€ä»£ç å—</td><td style="text-align:center;">âŒ</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âŒ</td><td style="text-align:center;">â­â­</td></tr><tr><td style="text-align:center;">~</td><td style="text-align:left;">æšä¸¾</td><td style="text-align:center;">âŒ</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âŒ</td><td style="text-align:center;">â­â­â­</td></tr><tr><td style="text-align:center;">æ‡’æ±‰å¼</td><td style="text-align:left;">çº¿ç¨‹ä¸å®‰å…¨</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âŒ</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">â­</td></tr><tr><td style="text-align:center;">~</td><td style="text-align:left;">åŒæ­¥ä»£ç å—</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âŒ</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">ä¸è¦ä½¿ç”¨</td></tr><tr><td style="text-align:center;">~</td><td style="text-align:left;">åŒæ­¥æ–¹æ³•</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âŒ</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">â­</td></tr><tr><td style="text-align:center;">~</td><td style="text-align:left;">åŒé‡æ£€æŸ¥</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">â­â­â­</td></tr><tr><td style="text-align:center;">~</td><td style="text-align:left;">é™æ€å†…éƒ¨ç±»</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">âœ”ï¸</td><td style="text-align:center;">â­â­â­</td></tr></tbody></table><h2 id="ã€2ã€‘å·¥å‚æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€2ã€‘å·¥å‚æ¨¡å¼"><span>ã€2ã€‘å·¥å‚æ¨¡å¼</span></a></h2><p><strong>çœ‹ä¸€ä¸ªå…·ä½“çš„éœ€æ±‚</strong></p><p>çœ‹ä¸€ä¸ªæŠ«è¨çš„é¡¹ç›®ï¼šè¦ä¾¿äºæŠ«è¨ç§ç±»çš„æ‰©å±•ï¼Œè¦ä¾¿äºç»´æŠ¤</p><ul><li>1ï¼‰æŠ«è¨çš„ç§ç±»å¾ˆå¤šï¼ˆæ¯”å¦‚ GreekPizzã€CheesePizz ç­‰ï¼‰</li><li>2ï¼‰æŠ«è¨çš„åˆ¶ä½œæœ‰ prepareã€bakeã€cutã€box</li><li>3ï¼‰å®ŒæˆæŠ«è¨åº—è®¢è´­åŠŸèƒ½</li></ul><p><strong>ä¼ ç»Ÿæ–¹å¼</strong></p><p><strong>UML ç±»å›¾</strong></p><p><img src="'+M+`" alt="image-20211013212910916"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; baking...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; cutting...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; boxing...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//å¸Œè…Šé£å‘³æŠ«è¨</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GreekPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;GreekPizza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; preparing...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¥¶é…ªæŠ«è¨</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CheesePizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;CheesePizza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; preparing...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderPizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">OrderPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> orderType<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">do</span> <span class="token punctuation">{</span></span>
<span class="line">            orderType <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;cheese&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>orderType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;greek&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>orderType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GreekPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¾“å…¥ç±»å‹é”™è¯¯ï¼Œç¨‹åºé€€å‡º&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            pizza<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            pizza<span class="token punctuation">.</span><span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            pizza<span class="token punctuation">.</span><span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            pizza<span class="token punctuation">.</span><span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·è¾“å…¥æŠ«è¨ç±»å‹ï¼š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">BufferedReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼ ç»Ÿæ–¹å¼ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰ä¼˜ç‚¹æ˜¯æ¯”è¾ƒå¥½ç†è§£ï¼Œç®€å•æ˜“æ“ä½œ</li><li>2ï¼‰ç¼ºç‚¹æ˜¯è¿åäº†è®¾è®¡æ¨¡å¼çš„ OCP åŸåˆ™ï¼Œå³å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚å³å½“æˆ‘ä»¬ç»™ç±»å¢åŠ æ–°èƒ½çš„æ—¶å€™ï¼Œå°½é‡ä¸ä¿®æ”¹ä»£ç ï¼Œæˆ–è€…å°½å¯èƒ½å°‘ä¿®æ”¹ä»£ç </li><li>3ï¼‰æ¯”å¦‚æˆ‘ä»¬è¿™æ—¶è¦æ–°å¢åŠ ä¸€ä¸ªPizzaçš„ç§ç±»ï¼ˆCheeseæŠ€è¨ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦åšå¦‚ä¸‹ä¿®æ”¹</li></ul><p><img src="`+z+`" alt="image-20211013212910916"></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// èƒ¡æ¤’æŠ«è¨</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PepperPizza</span> <span class="token keyword">extends</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;PepperPizza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; preparing...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderPizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">OrderPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;pepper&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>orderType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PepperPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> </span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ”¹è¿›çš„æ€è·¯åˆ†æ</strong></p><ul><li>åˆ†æï¼šä¿®æ”¹ä»£ç å¯ä»¥æ¥å—ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨å…¶å®ƒçš„åœ°æ–¹ä¹Ÿæœ‰åˆ›å»º Pizza çš„ä»£ç ï¼Œå°±æ„å‘³ç€ä¹Ÿéœ€è¦ä¿®æ”¹ã€‚è€Œåˆ›å»ºPizzaçš„ä»£ç ï¼Œå¾€å¾€æœ‰å¤šå¤„</li><li>æ€è·¯ï¼šæŠŠåˆ›å»º Pizza å¯¹è±¡å°è£…åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬æœ‰æ–°çš„ Pizza ç§ç±»æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹è¯¥ç±»å°±å¯ï¼Œå…¶å®ƒæœ‰åˆ›å»ºåˆ° Pizza å¯¹è±¡çš„ä»£ç å°±ä¸éœ€è¦ä¿®æ”¹äº† ==&gt; ç®€å•å·¥å‚æ¨¡å¼</li></ul><h3 id="_1ã€ç®€å•å·¥å‚æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_1ã€ç®€å•å·¥å‚æ¨¡å¼"><span>1ã€ç®€å•å·¥å‚æ¨¡å¼</span></a></h3><ul><li>1ï¼‰ç®€å•å·¥å‚æ¨¡å¼æ˜¯å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œæ˜¯å·¥å‚æ¨¡å¼çš„ä¸€ç§ã€‚<mark>ç®€å•å·¥å‚æ¨¡å¼æ˜¯ç”±ä¸€ä¸ªå·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªä¸€ç§äº§å“ç±»çš„å®ä¾‹</mark>ã€‚ç®€å•å·¥å‚æ¨¡å¼æ˜¯å·¥å‚æ¨¡å¼å®¶æ—ä¸­æœ€ç®€å•å®ç”¨çš„æ¨¡å¼</li><li>2ï¼‰ç®€å•å·¥å‚æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„ç±»ï¼Œç”±è¿™ä¸ªç±»æ¥<mark>å°è£…å®ä¾‹åŒ–å¯¹è±¡çš„è¡Œä¸º</mark>ï¼ˆä»£ç ï¼‰</li><li>3ï¼‰åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œå½“æˆ‘ä»¬ä¼šç”¨åˆ°å¤§é‡çš„åˆ›å»ºæŸç§ã€æŸç±»æˆ–è€…æŸæ‰¹å¯¹è±¡æ—¶ï¼Œå°±ä¼šä½¿ç”¨åˆ°å·¥å‚æ¨¡å¼</li></ul><p><strong>UML ç±»å›¾</strong></p><p><img src="`+V+`" alt=""></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PizzaFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">switch</span> <span class="token punctuation">(</span>orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;cheese&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;greek&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GreekPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;pepper&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PepperPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> pizza<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderPizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">PizzaFactory</span> pizzaFactory<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">OrderPizza</span><span class="token punctuation">(</span><span class="token class-name">PizzaFactory</span> pizzaFactory<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>pizzaFactory <span class="token operator">=</span> pizzaFactory<span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">do</span> <span class="token punctuation">{</span></span>
<span class="line">            pizza <span class="token operator">=</span> pizzaFactory<span class="token punctuation">.</span><span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>pizza <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to Order Pizza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                pizza<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                pizza<span class="token punctuation">.</span><span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                pizza<span class="token punctuation">.</span><span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                pizza<span class="token punctuation">.</span><span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€é™æ€å·¥å‚æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_2ã€é™æ€å·¥å‚æ¨¡å¼"><span>2ã€é™æ€å·¥å‚æ¨¡å¼</span></a></h3><p>é™æ€å·¥å‚æ¨¡å¼ä¹Ÿæ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„ä¸€ç§ï¼Œåªæ˜¯å°†å·¥å‚æ–¹æ³•æ”¹ä¸ºé™æ€æ–¹æ³•</p><p><strong>UML ç±»å›¾</strong></p><p><img src="`+T+`" alt="image-20211013221239242"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PizzaFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderPizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">OrderPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Pizza</span> pizza<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">do</span> <span class="token punctuation">{</span></span>
<span class="line">            pizza <span class="token operator">=</span> <span class="token class-name">PizzaFactory</span><span class="token punctuation">.</span><span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">// ...</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€å·¥å‚æ–¹æ³•æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_3ã€å·¥å‚æ–¹æ³•æ¨¡å¼"><span>3ã€å·¥å‚æ–¹æ³•æ¨¡å¼</span></a></h3><p>å·¥å‚æ–¹æ³•æ¨¡å¼è®¾è®¡æ–¹æ¡ˆï¼šå°†æŠ«è¨é¡¹ç›®çš„å®ä¾‹åŒ–åŠŸèƒ½æŠ½è±¡æˆæŠ½è±¡æ–¹æ³•ï¼Œåœ¨ä¸åŒçš„å£å‘³ç‚¹é¤å­ç±»ä¸­å…·ä½“å®ç°</p><p>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æŠ½è±¡æ–¹æ³•ï¼Œç”±å­ç±»å†³å®šè¦å®ä¾‹åŒ–çš„ç±»ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼å°†<mark>å¯¹è±¡çš„å®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»</mark></p><p><strong>çœ‹ä¸€ä¸ªæ–°çš„éœ€æ±‚</strong></p><p>æŠ«è¨é¡¹ç›®æ–°çš„éœ€æ±‚ï¼šå®¢æˆ·åœ¨ç‚¹æŠ«è¨æ—¶ï¼Œå¯ä»¥ç‚¹ä¸åŒå£å‘³çš„æŠ«è¨ï¼Œæ¯”å¦‚åŒ—äº¬çš„å¥¶é…ª Pizzaã€åŒ—äº¬çš„èƒ¡æ¤’ Pizza æˆ–è€…æ˜¯ä¼¦æ•¦çš„å¥¶é…ª Pizzaã€ä¼¦æ•¦çš„èƒ¡æ¤’ Pizza</p><p>æ€è·¯1ï¼šä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼ï¼Œåˆ›å»ºä¸åŒçš„ç®€å•å·¥å‚ç±»ï¼Œæ¯”å¦‚ BJPizzaFactoryã€LDPizzaFactory ç­‰ç­‰ã€‚ä»å½“å‰è¿™ä¸ªæ¡ˆä¾‹æ¥è¯´ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯è€ƒè™‘åˆ°é¡¹ç›®çš„è§„æ¨¡ï¼Œä»¥åŠè½¯ä»¶çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å¹¶ä¸æ˜¯ç‰¹åˆ«å¥½</p><p>æ€è·¯2ï¼šä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼</p><p><strong>UML ç±»å›¾</strong></p><p><img src="`+R+`" alt=""></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">OrderPizza</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">orderPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">do</span> <span class="token punctuation">{</span></span>
<span class="line">            pizza <span class="token operator">=</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>pizza <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to Order Pizza&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                pizza<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                pizza<span class="token punctuation">.</span><span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                pizza<span class="token punctuation">.</span><span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                pizza<span class="token punctuation">.</span><span class="token function">box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderType<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">     </span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LDOrderPizza</span> <span class="token keyword">extends</span> <span class="token class-name">OrderPizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">switch</span> <span class="token punctuation">(</span>orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;cheese&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LDCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;pepper&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LDPepperPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> pizza<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BJOrderPizza</span> <span class="token keyword">extends</span> <span class="token class-name">OrderPizza</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">switch</span> <span class="token punctuation">(</span>orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;cheese&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BJCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;pepper&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BJPepperPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> pizza<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€æŠ½è±¡å·¥å‚æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_4ã€æŠ½è±¡å·¥å‚æ¨¡å¼"><span>4ã€æŠ½è±¡å·¥å‚æ¨¡å¼</span></a></h3><ul><li>1ï¼‰æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ä¸ª interface ç”¨äºåˆ›å»ºç›¸å…³æˆ–æœ‰ä¾èµ–å…³ç³»çš„å¯¹è±¡ç°‡ï¼Œè€Œæ— éœ€æŒ‡æ˜å…·ä½“çš„ç±»</li><li>2ï¼‰æŠ½è±¡å·¥å‚æ¨¡å¼å¯ä»¥<mark>å°†ç®€å•å·¥å‚æ¨¡å¼å’Œå·¥å‚æ–¹æ³•æ¨¡å¼è¿›è¡Œæ•´åˆ</mark></li><li>3ï¼‰ä»è®¾è®¡å±‚é¢çœ‹ï¼Œ<mark>æŠ½è±¡å·¥å‚æ¨¡å¼å°±æ˜¯å¯¹ç®€å•å·¥å‚æ¨¡å¼çš„æ”¹è¿›ï¼ˆæˆ–è€…ç§°ä¸ºè¿›ä¸€æ­¥çš„æŠ½è±¡ï¼‰</mark></li><li>4ï¼‰å°†å·¥å‚æŠ½è±¡æˆä¸¤å±‚ï¼ŒAbsFactoryï¼ˆæŠ½è±¡å·¥å‚ï¼‰å’Œå…·ä½“å®ç°çš„å·¥å‚å­ç±»ã€‚ç¨‹åºå‘˜å¯ä»¥æ ¹æ®åˆ›å»ºå¯¹è±¡ç±»å‹ä½¿ç”¨å¯¹åº”çš„å·¥å‚å­ç±»ã€‚è¿™æ ·å°†å•ä¸ªçš„ç®€å•å·¥å‚ç±»å˜æˆäº†å·¥å‚ç°‡ï¼Œæ›´åˆ©äºä»£ç çš„ç»´æŠ¤å’Œæ‰©å±•</li></ul><p><strong>UML ç±»å›¾</strong></p><p><img src="`+H+`" alt="image-20211015204527615"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AbsPizzaFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderType<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BJPizzaFactory</span> <span class="token keyword">implements</span> <span class="token class-name">AbsPizzaFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">switch</span> <span class="token punctuation">(</span>orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;cheese&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BJCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                </span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;pepper&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BJPepperPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> pizza<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LDPizzaFactory</span> <span class="token keyword">implements</span> <span class="token class-name">AbsPizzaFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Pizza</span> <span class="token function">createPizza</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Pizza</span> pizza <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">switch</span> <span class="token punctuation">(</span>orderType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;cheese&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LDCheesePizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">case</span> <span class="token string">&quot;pepper&quot;</span><span class="token operator">:</span></span>
<span class="line">                pizza <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LDPepperPizza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> pizza<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€jdk-æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_5ã€jdk-æºç åˆ†æ"><span>5ã€JDK æºç åˆ†æ</span></a></h3><p>JDK ä¸­çš„ Calendar ç±»ä¸­ï¼Œå°±ä½¿ç”¨äº†ç®€å•å·¥å‚æ¨¡å¼</p><p><img src="`+L+'" alt="image-20211015205449459"></p><h3 id="_6ã€å°ç»“" tabindex="-1"><a class="header-anchor" href="#_6ã€å°ç»“"><span>6ã€å°ç»“</span></a></h3><ul><li>1ï¼‰å·¥å‚æ¨¡å¼çš„æ„ä¹‰ï¼šå°†å®ä¾‹åŒ–å¯¹è±¡çš„ä»£ç æå–å‡ºæ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªç±»ä¸­ç»Ÿä¸€ç®¡ç†å’Œç»´æŠ¤ï¼Œè¾¾åˆ°å’Œä¸»é¡¹ç›®çš„<mark>ä¾èµ–å…³ç³»çš„è§£è€¦</mark>ã€‚ä»è€Œæé«˜é¡¹ç›®çš„æ‰©å±•å’Œç»´æŠ¤æ€§</li><li>2ï¼‰ä¸‰ç§å·¥å‚æ¨¡å¼ï¼šç®€å•å·¥å‚æ¨¡å¼ï¼ˆé™æ€å·¥å‚æ–¹æ³•ä¹Ÿæ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„ä¸€ç§ï¼‰ã€å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼</li><li>3ï¼‰è®¾è®¡æ¨¡å¼çš„<mark>ä¾èµ–æŠ½è±¡</mark>åŸåˆ™ <ul><li>åˆ›å»ºå¯¹è±¡å®ä¾‹æ—¶ï¼Œä¸è¦ç›´æ¥ new ç±»ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ª new ç±»çš„åŠ¨ä½œæ”¾åœ¨ä¸€ä¸ªå·¥å‚çš„æ–¹æ³•ä¸­å¹¶è¿”å›ã€‚æœ‰çš„ä¹¦ä¸Šè¯´ï¼Œå˜é‡ä¸è¦ç›´æ¥æŒæœ‰å…·ä½“ç±»çš„å¼•ç”¨</li><li>ä¸è¦è®©ç±»ç»§æ‰¿å…·ä½“ç±»ï¼Œè€Œæ˜¯ç»§æ‰¿æŠ½è±¡ç±»æˆ–è€…æ˜¯å®ç° interfaceï¼ˆæ¥å£ï¼‰</li><li>ä¸è¦è¦†ç›–åŸºç±»ä¸­å·²ç»å®ç°çš„æ–¹æ³•</li></ul></li></ul><h2 id="ã€3ã€‘å·¥å‚æ¨¡å¼è¿›é˜¶" tabindex="-1"><a class="header-anchor" href="#ã€3ã€‘å·¥å‚æ¨¡å¼è¿›é˜¶"><span>ã€3ã€‘å·¥å‚æ¨¡å¼è¿›é˜¶</span></a></h2><h3 id="_1ã€å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_1ã€å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«"><span>1ã€å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«</span></a></h3><p>è¿™é‡Œä¸ºä»€ä¹ˆåªä»‹ç»å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆä¸æŠŠç®€å•å·¥å‚æ¨¡å¼ã€é™æ€å·¥å‚æ¨¡å¼ä¹Ÿæ”¾åœ¨ä¸€èµ·æ¯”è¾ƒå‘¢ï¼Ÿ</p><ul><li>é¦–å…ˆï¼Œé™æ€å·¥å‚æ¨¡å¼ä¹Ÿæ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„ä¸€ç§ï¼Œä»…ä»…æ˜¯æ–¹æ³•è¢«å®šä¹‰æˆé™æ€æ–¹æ³•ä¸å¦ä»¥åŠä½¿ç”¨æ—¶æ˜¯å¦ç›´æ¥é€šè¿‡ç±»è°ƒç”¨æ–¹æ³•çš„åŒºåˆ«</li><li>å…¶æ¬¡ï¼Œç®€å•å·¥å‚æ¨¡å¼è¿‡äºç®€å•ï¼Œç›¸å¯¹æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œä¸ªäººè§‰å¾—æ²¡å¿…è¦å†æ‹¿å‡ºæ¥ä¸ç¨å¤æ‚çš„å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼è¿›è¡Œæ¯”è¾ƒè®²è§£</li><li>å¦å¤–ï¼Œç®€å•å·¥å‚æ¨¡å¼ä¸ç¬¦åˆ<code>å•ä¸€èŒè´£åŸåˆ™</code>ï¼Œä¸€åº¦æ€€ç–‘æ˜¯å¦åº”è¯¥æ”¾åœ¨è®¾è®¡æ¨¡å¼ä¸­è¿›è¡Œè®²è§£</li><li>æœ€åï¼Œå› ä¸ºå¾ˆå¤šè®²è§£ 23 ç§è®¾è®¡æ¨¡å¼çš„æ•™ç¨‹ä¸­å¹¶æ²¡æœ‰åŒ…æ‹¬<code>ç®€å•å·¥å‚æ¨¡å¼</code>ï¼Œè€Œåªæœ‰<code>å·¥å‚æ–¹æ³•æ¨¡å¼</code>å’Œ<code>æŠ½è±¡å·¥å‚æ¨¡å¼</code></li></ul><p>æ— è®ºæ€æ ·ï¼Œè¿™é‡Œåªè®²å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ« ğŸ˜†</p><p>è¦æƒ³ææ¸…æ¥šå·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼Œé¦–å…ˆéœ€è¦äº†è§£ä¸€ä¸ªæ¦‚å¿µï¼š<mark><u><em><strong>äº§å“æ—ï¼ï¼ï¼</strong></em></u></mark></p><p>é¦–å…ˆçœ‹ä¸‹ï¼Œå„å¤§æœç´¢å¼•æ“å¯¹è¿™ä¸€æ¦‚å¿µçš„ç›¸å…³è¯ é‡Šï¼ˆè¿™é‡Œå‰”é™¤äº†å…¶ä»–ç›¸å…³æ€§è¾ƒå¼±æˆ–æ— å…³çš„è§£é‡Šï¼Œåªè´´å‡ºç›¸å…³æ€§è¾ƒå¼ºçš„å†…å®¹ï¼‰</p><blockquote><p>ç™¾åº¦ç™¾ç§‘/æœç‹—ç™¾ç§‘/360æœç´¢ï¼šäº§å“åˆ†æ—,ä¹Ÿå«æˆç»„æŠ€æœ¯.ä¸€ä¸ªå…¬å¸çš„äº§å“ä»å¸‚åœºçš„è§’åº¦æ¥çœ‹,ä¹Ÿè®¸æˆåƒä¸Šä¸‡,ä½†æ˜¯,å¦‚æœä»æµç¨‹çš„è§’åº¦å‡ºå‘,ä¸€ èˆ¬éƒ½èƒ½è¢«åˆ†ä¸ºå‡ å¤§ç±»,åˆ†ç±»çš„ä¾æ®ä¸€èˆ¬æ˜¯å…³é”®çš„æœºå™¨è®¾å¤‡,è¿™æ ·çš„ç±»åˆ«,å°±æ˜¯äº§å“æ—.ä»¥å…³é”®è®¾å¤‡ä¸ºä¾æ®,å¯¹ç”Ÿäº§æµç¨‹è¿›è¡Œåˆ†ç±»çš„è¿‡ç¨‹å°±æ˜¯äº§å“åˆ†æ—</p></blockquote><p><img src="'+N+'" alt="img"></p><p>ä¸è¦ç°å¿ƒï¼Œå®˜æ–¹çš„ä¸è¡Œï¼Œæ‰¾æ‰¾æŠ€æœ¯è´´</p><blockquote><p>ä¸åŒäº§å“ç­‰çº§ç»“æ„çš„ä¸€ç»„äº§å“ç»„æˆäº§å“æ—[^1]</p><p>äº§å“æ—æ˜¯æŒ‡ç”±åŒä¸€ä¸ªå·¥å‚ç”Ÿäº§çš„ï¼Œä½äºä¸åŒäº§å“ç­‰çº§ç»“æ„ä¸­çš„ä¸€ç»„äº§å“[^2]</p></blockquote><p>åˆ°è¿™é‡Œï¼Œæ¦‚å¿µå·²ç»å¾ˆæ¸…æ¥šäº†ï¼š<mark>ä¸åŒäº§å“ç­‰çº§ç»“æ„çš„ä¸€ç»„äº§å“</mark></p><p>é‚£ä»€ä¹ˆåˆæ˜¯äº§å“ç­‰çº§ç»“æ„å‘¢ï¼Ÿ<mark>äº§å“ç­‰çº§ç»“æ„å³äº§å“çš„ç»§æ‰¿ç»“æ„</mark></p><p><code>äº§å“æ—</code>ä¸<code>äº§å“ç­‰çº§ç»“æ„</code>çš„å…³ç³»å›¾å¦‚ä¸‹</p><p>å›¾ä¸€[^1]</p><p><img src="'+W+'" alt="img"></p><p>å›¾äºŒ[^2]</p><p><img src="'+U+'" alt="img"></p><p>å›¾ä¸‰[^3]</p><p><img src="'+J+`" alt="ç”µå™¨å·¥å‚çš„äº§å“ç­‰çº§ä¸äº§å“æ—"></p><p>æœ‰äº†å¯¹ä¸Šè¿°æ¦‚å¿µçš„å½¢è±¡ç†è§£ï¼Œå€Ÿé‰´<a href="https://blog.csdn.net/wyxhd2008/article/details/5597975" target="_blank" rel="noopener noreferrer">æŠ½è±¡å·¥å‚æ¨¡å¼-ä¸-å·¥å‚æ–¹æ³•æ¨¡å¼åŒºåˆ«_wyxhd2008çš„ä¸“æ -CSDNåšå®¢_å·¥å‚æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«</a>ï¼Œæ€»ç»“å†…å®¹å¦‚ä¸‹è¡¨æ ¼ï¼Œä»…ä¾›å‚è€ƒ</p><table><thead><tr><th style="text-align:left;"></th><th style="text-align:left;">å·¥å‚æ–¹æ³•æ¨¡å¼</th><th style="text-align:left;">æŠ½è±¡å·¥å‚æ¨¡å¼</th></tr></thead><tbody><tr><td style="text-align:left;">ä¸åŒç‚¹</td><td style="text-align:left;">ä¸€ä¸ªäº§å“ç­‰çº§ç»“æ„ï¼Œäº§å“åˆ†ç±»å•ä¸€</td><td style="text-align:left;">å¤šä¸ªäº§å“ç­‰çº§ç»“æ„ï¼Œäº§å“åˆ†ç±»å¤šæ ·</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">ä¸€ä¸ªæŠ½è±¡å·¥å‚åªç”Ÿäº§ä¸€ä¸ªæŠ½è±¡äº§å“</td><td style="text-align:left;">ä¸€ä¸ªæŠ½è±¡å·¥å‚å¯ç”Ÿäº§å¤šä¸ªæŠ½è±¡äº§å“</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">ä¸€ä¸ªå…·ä½“å·¥å‚åªç”Ÿäº§ä¸€ä¸ªå…·ä½“äº§å“</td><td style="text-align:left;">ä¸€ä¸ªå…·ä½“å·¥å‚å¯ç”Ÿäº§å¤šä¸ªå…·ä½“äº§å“</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">ä¸åŒçš„å·¥å‚å®ä¾‹åˆ›å»ºä¸åŒçš„äº§å“å®ä¾‹</td><td style="text-align:left;">ä¸åŒçš„å·¥å‚å®ä¾‹åˆ›å»ºä¸åŒçš„äº§å“æ—å®ä¾‹</td></tr><tr><td style="text-align:left;">ç›¸åŒç‚¹</td><td style="text-align:left;">ä¸€ä¸ªæŠ½è±¡å·¥å‚å¯æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“å·¥å‚</td><td style="text-align:left;">~</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">ä¸€ä¸ªæŠ½è±¡äº§å“å¯æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“äº§å“</td><td style="text-align:left;">~</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">éƒ½æ˜¯åˆ›å»ºå‹æ¨¡å¼ï¼Œå…³å¿ƒçš„éƒ½æ˜¯å¦‚ä½•åˆ›å»ºå¯¹è±¡</td><td style="text-align:left;">~</td></tr></tbody></table><p>ä¸è¿‡è¯´äº†é‚£ä¹ˆå¤šï¼Œåˆ°åº•ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œä»€ä¹ˆæ—¶å€™åˆè¯¥ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼å‘¢ï¼Ÿ</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€äº›å®é™…ä¾‹å­ï¼Œæ¥å¾ªåºæ¸è¿›åœ°ç†è§£æŠ½è±¡å·¥å‚æ¨¡å¼å’Œå·¥å‚æ–¹æ³•æ¨¡å¼çš„ä½¿ç”¨åœºæ™¯</p><h3 id="_2ã€è€å¾ç§èœ" tabindex="-1"><a class="header-anchor" href="#_2ã€è€å¾ç§èœ"><span>2ã€è€å¾ç§èœ</span></a></h3><h4 id="v1-0ã€è€å¾çš„èœåœ°" tabindex="-1"><a class="header-anchor" href="#v1-0ã€è€å¾çš„èœåœ°"><span>v1.0ã€è€å¾çš„èœåœ°</span></a></h4><p>æœ€åˆï¼Œè€å¾æœ‰ä¸€å—èœåœ°ï¼Œç®€å•ç§äº†ç‚¹å¤§ç™½èœã€é»„ç“œå’Œè¾£æ¤’</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// å¤§ç™½èœ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChineseCabbage</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// é»„ç“œ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cucumber</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// é’æ¤’</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GreenPeper</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯ï¼Œè€å¾ä¹Ÿå‘ç°ä¸€äº›ä¸è¶³ï¼šå®¹æ˜“å—åˆ°ç—…è™«å®³çš„ä¾µæ‰°ã€å¤©å†·å®¹æ˜“å†»åã€å¤§é£å¤§é›¨è‚¥æ–™å®¹æ˜“æµå¤±ç­‰</p><h4 id="v2-0ã€è€å¾çš„èœæ£šå­" tabindex="-1"><a class="header-anchor" href="#v2-0ã€è€å¾çš„èœæ£šå­"><span>v2.0ã€è€å¾çš„èœæ£šå­</span></a></h4><p>åæ¥ï¼Œè€å¾èµšäº†ç‚¹é’±ï¼Œæ­äº†ä¸€ä¸ªèœæ£šå­ï¼Œä¸“é—¨ç§æ¤è¿™äº›è”¬èœ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Vegetable</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// å¤§ç™½èœ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChineseCabbage</span> <span class="token keyword">implements</span> <span class="token class-name">Vegetable</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// é»„ç“œ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cucumber</span> <span class="token keyword">implements</span> <span class="token class-name">Vegetable</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// é’æ¤’</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GreenPeper</span> <span class="token keyword">implements</span> <span class="token class-name">Vegetable</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">VegetableType</span> <span class="token punctuation">{</span></span>
<span class="line">    å¤§ç™½èœ<span class="token punctuation">,</span> é»„ç“œ<span class="token punctuation">,</span> é’æ¤’</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VegetableShed</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Vegetable</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Vegetable</span> vegetable <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">VegetableType</span><span class="token punctuation">.</span>å¤§ç™½èœ<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            vegetable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChineseCabbage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">VegetableType</span><span class="token punctuation">.</span>é»„ç“œ<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            vegetable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cucumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">VegetableType</span><span class="token punctuation">.</span>é’æ¤’<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            vegetable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GreenPeper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> vegetable<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è€å¾çš„ç²¾å¿ƒæ ½åŸ¹ä¸‹ï¼Œç§æ¤å‡ºæ¥çš„è”¬èœä¸ä»…å…é™¤äº†ç—…è™«å®³çš„ä¾µæ‰°ï¼Œå¤©å†·ä¹Ÿä¸å¾ˆå°‘å†»åäº†ï¼Œè€Œä¸”è¿˜å‡å°‘äº†æ–½è‚¥çš„ç”¨é‡ï¼Œäº§é‡ä¹Ÿå¤§å¤§å¢åŠ äº†</p><p>æ²¡è¿‡å¤šä¹…ï¼Œè€å¾åˆç§äº†æ–°çš„èœå“ï¼šèåœå’Œèƒ¡èåœ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// èåœ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Radish</span> <span class="token keyword">implements</span> <span class="token class-name">Vegetable</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// èƒ¡èåœ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Carrot</span> <span class="token keyword">implements</span> <span class="token class-name">Vegetable</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">VegetableType</span> <span class="token punctuation">{</span></span>
<span class="line">    å¤§ç™½èœ<span class="token punctuation">,</span> é»„ç“œ<span class="token punctuation">,</span> é’æ¤’<span class="token punctuation">,</span> èåœ<span class="token punctuation">,</span> èƒ¡èåœ</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VegetableShed</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Vegetable</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Vegetable</span> vegetable <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">VegetableType</span><span class="token punctuation">.</span>å¤§ç™½èœ<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            vegetable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChineseCabbage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">VegetableType</span><span class="token punctuation">.</span>é»„ç“œ<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            vegetable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cucumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">VegetableType</span><span class="token punctuation">.</span>é’æ¤’<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            vegetable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GreenPeper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">VegetableType</span><span class="token punctuation">.</span>èåœ<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            vegetable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Radish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">VegetableType</span><span class="token punctuation">.</span>èƒ¡èåœ<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            vegetable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Carrot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> vegetable<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸è¿‡éšç€è”¬èœäº§é‡è¶Šæ¥è¶Šå¤šï¼Œä¸€ä¸ªèœæ£šå­å·²ç»æ”¾ä¸ä¸‹äº†</p><h4 id="v3-0ã€è€å¾çš„èœå›­å­" tabindex="-1"><a class="header-anchor" href="#v3-0ã€è€å¾çš„èœå›­å­"><span>v3.0ã€è€å¾çš„èœå›­å­</span></a></h4><p>äºæ˜¯ï¼Œè€å¾æäº†ä¸ªå¤§èœå›­å­ï¼Œç„¶åç»™æ¯ç§è”¬èœéƒ½æ­å»ºäº†ä¸“é—¨çš„èœæ£šå­</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// è”¬èœæ£šå­</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">VegetableShed</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Vegetable</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// å¤§ç™½èœæ£šå­</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChineseCabbageShed</span> <span class="token keyword">implements</span> <span class="token class-name">VegetableShed</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ChineseCabbage</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ChineseCabbage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// é»„ç“œæ£šå­</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CucumberShed</span> <span class="token keyword">implements</span> <span class="token class-name">VegetableShed</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Cucumber</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Cucumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// é’æ¤’æ£šå­</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GreenPeperShed</span> <span class="token keyword">implements</span> <span class="token class-name">VegetableShed</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">GreenPeper</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">GreenPeper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// èåœæ£šå­</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RadishShed</span> <span class="token keyword">implements</span> <span class="token class-name">VegetableShed</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Radish</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Radish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// èƒ¡èåœæ£šå­</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CarrotShed</span> <span class="token keyword">implements</span> <span class="token class-name">VegetableShed</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Carrot</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Carrot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ²¡è¿‡å¤šä¹…ï¼Œè€å¾åˆæäº†ç‚¹å†¬ç“œå’Œå—ç“œ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// å†¬ç“œ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Waxgourd</span> <span class="token keyword">implements</span> <span class="token class-name">Vegetable</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// å—ç“œ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pumpkin</span> <span class="token keyword">implements</span> <span class="token class-name">Vegetable</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// å†¬ç“œæ£šå­</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WaxgourdShed</span> <span class="token keyword">implements</span> <span class="token class-name">VegetableShed</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Waxgourd</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Waxgourd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// å—ç“œæ£šå­</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PumpkinShed</span> <span class="token keyword">implements</span> <span class="token class-name">VegetableShed</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Pumpkin</span> <span class="token function">plantVegetable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Pumpkin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€å°å¾åšæ‰‹æœº" tabindex="-1"><a class="header-anchor" href="#_3ã€å°å¾åšæ‰‹æœº"><span>3ã€å°å¾åšæ‰‹æœº</span></a></h3><p>èµ·åˆï¼Œå°å¾æœ‰äº†è¿™ä¸ªæƒ³æ³•ï¼Œäºæ˜¯ä¾¿åˆ¶å®šäº†ä¸€å¥—æ ‡å‡†</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// ç”µæ± </span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Battery</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// æ‘„åƒå¤´</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Camera</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// èŠ¯ç‰‡</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Chip</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// å±å¹•</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Screen</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// æ‰‹æœºç»„ä»¶å·¥å‚</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">PhoneComponentFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Chip</span> <span class="token function">productChip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Camera</span> <span class="token function">productCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Screen</span> <span class="token function">productScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Battery</span> <span class="token function">productBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åæ¥ï¼Œå°å¾å¯¹æ‰‹æœºçš„å„ä¸ªç»„ä»¶æ·±å…¥äº†è§£ä¸€ç•ªåï¼Œé‡‡è´­äº†ä¸€æ‰¹æ‰‹æœºç»„ä»¶ï¼Œå¹¶å‡†å¤‡ç”Ÿäº§ä¸€å¥—æ‰‹æœºï¼Œå‹å·å®šä¸º X1</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// é•é“¬ç”µæ± </span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NickelCadmiumBattery</span> <span class="token keyword">implements</span> <span class="token class-name">Battery</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// å•æ‘„æ‘„åƒå¤´</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleCamera</span> <span class="token keyword">implements</span> <span class="token class-name">Camera</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// éº’éºŸèŠ¯ç‰‡</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KylinChip</span> <span class="token keyword">implements</span> <span class="token class-name">Chip</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// OLEDå±</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OledScreen</span> <span class="token keyword">implements</span> <span class="token class-name">Screen</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// X1 æ‰‹æœºç»„ä»¶å·¥å‚</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">X1PhoneComponentFactory</span> <span class="token keyword">extends</span> <span class="token class-name">PhoneComponentFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Chip</span> <span class="token function">productChip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">KylinChip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Camera</span> <span class="token function">productCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SingleCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Screen</span> <span class="token function">productScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OledScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Battery</span> <span class="token function">productBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NickelCadmiumBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ²¡æƒ³åˆ°ï¼Œç¬¬ä¸€æ¬¡åšæ‰‹æœºå°±å¾ˆé¡ºåˆ©ï¼Œå°å¾å†³å¿ƒåšä¸€å¥—æ›´å¥½çš„å‡ºæ¥ï¼Œäºæ˜¯åˆé‡‡è´­äº†ä¸€å¥—æ‰‹æœºç»„ä»¶ï¼Œå¹¶ç”Ÿäº§äº† X2 æ‰‹æœº</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// é”‚ç¦»å­ç”µæ± </span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LithiumIonBattery</span> <span class="token keyword">implements</span> <span class="token class-name">Battery</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// åŒæ‘„æ‘„åƒå¤´</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DuoCamera</span> <span class="token keyword">implements</span> <span class="token class-name">Camera</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// éªé¾™èŠ¯ç‰‡</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SnapdragonChip</span> <span class="token keyword">implements</span> <span class="token class-name">Chip</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// IPSå±</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IpsScreen</span> <span class="token keyword">implements</span> <span class="token class-name">Screen</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// X2 æ‰‹æœºç»„ä»¶å·¥å‚</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">X2PhoneComponentFactory</span> <span class="token keyword">extends</span> <span class="token class-name">PhoneComponentFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Chip</span> <span class="token function">productChip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SnapdragonChip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Camera</span> <span class="token function">productCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DuoCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Screen</span> <span class="token function">productScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">IpsScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Battery</span> <span class="token function">productBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">LithiumIonBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†å› ä¸ºæˆæœ¬å’Œå”®ä»·å¾ˆé«˜ï¼Œå°å¾æ²¡æœ‰å–å‡ºå¤šå°‘éƒ¨ã€‚äºæ˜¯å°å¾ä¾¿å¤šæ¬¡è¿›è¡Œç»„ä»¶æ­é…çš„è°ƒæ•´ï¼Œæœ€ç»ˆå°å¾æ‰¾åˆ°äº†æ€§ä»·æ¯”æœ€é«˜çš„æ­é…æ–¹å¼ï¼Œåšå‡ºäº† X3ï¼Œé”€é‡é¥é¥é¢†å…ˆ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">X3PhoneComponentFactory</span> <span class="token keyword">extends</span> <span class="token class-name">PhoneComponentFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Chip</span> <span class="token function">productChip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">KylinChip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Camera</span> <span class="token function">productCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SingleCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Screen</span> <span class="token function">productScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">IpsScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Battery</span> <span class="token function">productBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">LithiumIonBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_4ã€æ€»ç»“"><span>4ã€æ€»ç»“</span></a></h3><p>é€šè¿‡ä¸Šè¿°ä¾‹å­ï¼Œå¸®åŠ©æˆ‘ä»¬ä½“ä¼šåˆ°ä¸¤è€…å„è‡ªé€‚ç”¨çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸éš¾å‘ç°å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼ä¹‹é—´çš„åŒºåˆ«</p><ul><li>ç”Ÿäº§çš„äº§å“ç§ç±»åªæœ‰ä¸€ç§ï¼Œä½†æ˜¯è¯¥äº§å“ç§ç±»ä¼šä¸æ–­åœ°æ‰©å±•æ–°çš„å…·ä½“äº§å“ï¼ŒåŒæ—¶éœ€è¦æ·»åŠ å¯¹åº”çš„å…·ä½“å·¥å‚ï¼Œè¿™æ—¶ä½¿ç”¨<mark>å·¥å‚æ–¹æ³•æ¨¡å¼</mark>æ›´å¥½</li><li>ç”Ÿäº§çš„äº§å“ç§ç±»ä¼šæœ‰å¤šç§ï¼Œç§ç±»åŸºæœ¬å›ºå®šä¸‹æ¥äº†ï¼Œä¸ä¼šè½»æ˜“æ›´æ”¹æˆ–æ·»åŠ ï¼Œä½†æ˜¯æ¯ä¸ªç§ç±»çš„å…·ä½“äº§å“ä¼šä¸æ–­æ‰©å±•ï¼Œå¹¶åœ¨å…·ä½“å·¥å‚ä¸­å½¢æˆæ–°çš„ç»„åˆï¼Œè¿™æ—¶ä½¿ç”¨<mark>æŠ½è±¡å·¥å‚æ¨¡å¼</mark>æ›´å¥½</li></ul><p>è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå¯¹ä¸Šè¿°ç§èœå’Œåšæ‰‹æœºä½¿ç”¨çš„å·¥å‚æ¨¡å¼è¿›è¡Œäº¤æ¢ï¼Œå³ç§èœä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ã€åšæ‰‹æœºä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼åˆä¼šæ€æ ·ï¼Ÿ</p><p>ä¸ä»…ä¸åˆé€‚ï¼Œåè€Œå¯èƒ½ä½¿å¾—é—®é¢˜å˜å¾—æ›´åŠ å¤æ‚åŒ–äº†ï¼Œæœ‰å¯èƒ½å¾—ä¸å¿å¤±ï¼Œæ‰€ä»¥é€‰å¯¹è®¾è®¡æ¨¡å¼ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ä¸€é—¨å­¦é—®</p><h3 id="_5ã€å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_5ã€å¼•ç”¨"><span>5ã€å¼•ç”¨</span></a></h3><p>[^1]:<a href="https://www.jianshu.com/p/f1e837cab952" target="_blank" rel="noopener noreferrer">äº§å“æ—å’Œäº§å“ç­‰çº§ç»“æ„ - ç®€ä¹¦ (jianshu.com)</a> [^2]:<a href="https://blog.csdn.net/lovelion/article/details/9319323" target="_blank" rel="noopener noreferrer">å·¥å‚ä¸‰å…„å¼Ÿä¹‹æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆäºŒï¼‰_åˆ˜ä¼ŸæŠ€æœ¯åšå®¢-CSDNåšå®¢</a></p><p>[^3]: <a href="http://c.biancheng.net/view/1351.html" target="_blank" rel="noopener noreferrer">æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆè¯¦è§£ç‰ˆï¼‰ (biancheng.net)</a></p><h2 id="ã€4ã€‘åŸå‹æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€4ã€‘åŸå‹æ¨¡å¼"><span>ã€4ã€‘åŸå‹æ¨¡å¼</span></a></h2><h3 id="_1ã€å…‹éš†ç¾Šé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1ã€å…‹éš†ç¾Šé—®é¢˜"><span>1ã€å…‹éš†ç¾Šé—®é¢˜</span></a></h3><p>ç°åœ¨æœ‰ä¸€åªç¾Šï¼Œå§“åä¸º Tomï¼Œå¹´é¾„ä¸º 1ï¼Œé¢œè‰²ä¸ºç™½è‰²ï¼Œè¯·ç¼–å†™ç¨‹åºåˆ›å»ºå’Œ Tom ç¾Šå±æ€§å®Œå…¨ç›¸åŒçš„ 10 åªç¾Š</p><p><strong>ä¼ ç»Ÿæ–¹æ³•</strong></p><p><img src="`+K+`" alt="image-20211015215334929"></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sheep</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Sheep</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> age<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">Sheep</span> sheep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sheep</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;ç™½è‰²&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sheep<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼ ç»Ÿæ–¹æ³•ä¼˜ç¼ºç‚¹</strong></p><ul><li>1ï¼‰ä¼˜ç‚¹æ˜¯æ¯”è¾ƒå¥½ç†è§£ï¼Œç®€å•æ˜“æ“ä½œ</li><li>2ï¼‰åœ¨åˆ›å»ºæ–°çš„å¯¹è±¡æ—¶ï¼Œæ€»æ˜¯éœ€è¦é‡æ–°è·å–åŸå§‹å¯¹è±¡çš„å±æ€§ï¼Œå¦‚æœåˆ›å»ºçš„å¯¹è±¡æ¯”è¾ƒå¤æ‚æ—¶ï¼Œæ•ˆç‡è¾ƒä½</li><li>3ï¼‰æ€»æ˜¯éœ€è¦é‡æ–°åˆå§‹åŒ–å¯¹è±¡ï¼Œè€Œä¸æ˜¯åŠ¨æ€åœ°è·å¾—å¯¹è±¡è¿è¡Œæ—¶çš„çŠ¶æ€ï¼Œä¸å¤Ÿçµæ´»</li></ul><p><strong>æ”¹è¿›çš„æ€è·¯åˆ†æ</strong></p><p>Java ä¸­ Object ç±»æ˜¯æ‰€æœ‰ç±»çš„æ ¹ç±»ï¼ŒObject ç±»æä¾›äº†ä¸€ä¸ª clone æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥å°†ä¸€ä¸ª Java å¯¹è±¡å¤åˆ¶ä¸€ä»½ï¼Œä½†æ˜¯éœ€è¦å®ç° clone çš„ Java ç±»å¿…é¡»è¦å®ç°ä¸€ä¸ªæ¥å£ Cloneableï¼Œè¯¥æ¥å£è¡¨ç¤ºè¯¥ç±»èƒ½å¤Ÿå¤åˆ¶ä¸”å…·æœ‰å¤åˆ¶çš„èƒ½åŠ› ==&gt; åŸå‹æ¨¡å¼</p><h3 id="_2ã€åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€åŸºæœ¬ä»‹ç»"><span>2ã€åŸºæœ¬ä»‹ç»</span></a></h3><ul><li><p>1ï¼‰åŸå‹æ¨¡å¼ï¼ˆPrototype æ¨¡å¼ï¼‰æ˜¯æŒ‡ï¼š<mark>ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡ç§ç±»ï¼Œå¹¶é€šè¿‡æ‹·è´åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡</mark></p></li><li><p>2ï¼‰åŸå‹æ¨¡å¼æ˜¯ä¸€ç§<mark>åˆ›å»ºå‹è®¾è®¡æ¨¡å¼</mark>ï¼Œå…è®¸ä¸€ä¸ªå¯¹è±¡å†åˆ›å»ºå¦å¤–ä¸€ä¸ªå¯å®šåˆ¶çš„å¯¹è±¡ï¼Œæ— éœ€çŸ¥é“å¦‚ä½•åˆ›å»ºçš„ç»†èŠ‚</p></li><li><p>3ï¼‰å·¥ä½œåŸç†æ˜¯ï¼šé€šè¿‡å°†ä¸€ä¸ªåŸå‹å¯¹è±¡ä¼ ç»™é‚£ä¸ªè¦å‘åŠ¨åˆ›å»ºçš„å¯¹è±¡ï¼Œè¿™ä¸ªè¦å‘åŠ¨åˆ›å»ºçš„å¯¹è±¡é€šè¿‡è¯·æ±‚åŸå‹å¯¹è±¡æ‹·è´å®ƒä»¬è‡ªå·±æ¥å®æ–½åˆ›å»ºï¼Œå³<code>å¯¹è±¡.clone()</code></p></li><li><p>4ï¼‰å½¢è±¡çš„ç†è§£ï¼šå­™å¤§åœ£æ‹”å‡ºçŒ´æ¯›ï¼Œå˜å‡ºå…¶å®ƒå­™å¤§åœ£</p><p><img src="`+G+'" alt="image-20211015213847067"></p></li></ul><h3 id="_3ã€åŸç†ç»“æ„å›¾-uml-ç±»å›¾" tabindex="-1"><a class="header-anchor" href="#_3ã€åŸç†ç»“æ„å›¾-uml-ç±»å›¾"><span>3ã€åŸç†ç»“æ„å›¾ï¼ˆUML ç±»å›¾ï¼‰</span></a></h3><p><img src="'+X+'" alt="image-20211015214042060"></p><p><strong>åŸç†ç»“æ„å›¾è¯´æ˜</strong></p><ul><li>1ï¼‰<code>Prototype</code>ï¼šåŸå‹ç±»ï¼Œå£°æ˜ä¸€ä¸ªå…‹éš†è‡ªå·±çš„æ¥å£</li><li>2ï¼‰<code>ConcretePrototype</code>ï¼šå…·ä½“çš„åŸå‹ç±»ï¼Œå®ç°ä¸€ä¸ªå…‹éš†è‡ªå·±çš„æ“ä½œ</li><li>3ï¼‰<code>Client</code>ï¼šè®©ä¸€ä¸ªåŸå‹å¯¹è±¡å…‹éš†è‡ªå·±ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ˆå±æ€§ç›¸åŒï¼‰</li></ul><h3 id="_4ã€åŸå‹æ¨¡å¼è§£å†³å…‹éš†ç¾Šé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4ã€åŸå‹æ¨¡å¼è§£å†³å…‹éš†ç¾Šé—®é¢˜"><span>4ã€åŸå‹æ¨¡å¼è§£å†³å…‹éš†ç¾Šé—®é¢˜</span></a></h3><p>ä½¿ç”¨åŸå‹æ¨¡å¼æ”¹è¿›ä¼ ç»Ÿæ–¹å¼å¼ï¼Œè®©ç¨‹åºå…·æœ‰æ›´é«˜çš„æ•ˆç‡å’Œæ‰©å±•æ€§</p><p><strong>UML ç±»å›¾</strong></p><p><img src="'+Q+`" alt="image-20211015215241868"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sheep</span> <span class="token keyword">implements</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> color<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Sheep</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">,</span> <span class="token class-name">String</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> age<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> color<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">String</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;Sheep{&quot;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;name=&#39;&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, age=&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, color=&#39;&quot;</span> <span class="token operator">+</span> color <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Sheep</span> sheep <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            sheep <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Sheep</span><span class="token punctuation">)</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> sheep<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Sheep</span> sheep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sheep</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;ç™½è‰²&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">Sheep</span> sheep1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Sheep</span><span class="token punctuation">)</span> sheep<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sheep1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€jdk-æºç åˆ†æ-1" tabindex="-1"><a class="header-anchor" href="#_5ã€jdk-æºç åˆ†æ-1"><span>5ã€JDK æºç åˆ†æ</span></a></h3><p>Spring æ¡†æ¶ä¸­ï¼Œåˆ›å»º<code>ApplicationContext</code>æ—¶ï¼Œä½¿ç”¨çš„<code>getBean</code>æ–¹æ³•ä¸­ä½¿ç”¨åˆ°äº†åŸå‹æ¨¡å¼</p><p><img src="`+Z+`" alt="image-20211016112521113"></p><h3 id="_6ã€æµ…æ‹·è´å’Œæ·±æ‹·è´" tabindex="-1"><a class="header-anchor" href="#_6ã€æµ…æ‹·è´å’Œæ·±æ‹·è´"><span>6ã€æµ…æ‹·è´å’Œæ·±æ‹·è´</span></a></h3><h4 id="æµ…æ‹·è´åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#æµ…æ‹·è´åŸºæœ¬ä»‹ç»"><span>æµ…æ‹·è´åŸºæœ¬ä»‹ç»</span></a></h4><ul><li>1ï¼‰å¯¹äºæ•°æ®ç±»å‹æ˜¯<mark>åŸºæœ¬æ•°æ®ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œæµ…æ‹·è´ä¼šç›´æ¥è¿›è¡Œå€¼ä¼ é€’</mark>ï¼Œä¹Ÿå°±æ˜¯å°†è¯¥å±æ€§å€¼å¤åˆ¶ä¸€ä»½ç»™æ–°çš„å¯¹è±¡</li><li>2ï¼‰å¯¹äºæ•°æ®ç±»å‹æ˜¯<mark>å¼•ç”¨æ•°æ®ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œæ¯”å¦‚è¯´æˆå‘˜å˜é‡æ˜¯æŸä¸ªæ•°ç»„ã€æŸä¸ªç±»çš„å¯¹è±¡ç­‰ï¼Œé‚£ä¹ˆæµ…æ‹·è´ä¼šè¿›è¡Œå¼•ç”¨ä¼ é€’</mark>ï¼Œä¹Ÿå°±æ˜¯åªæ˜¯å°†è¯¥æˆå‘˜å˜é‡çš„å¼•ç”¨å€¼ï¼ˆå†…å­˜åœ°å€ï¼‰å¤åˆ¶ä¸€ä»½ç»™æ–°çš„å¯¹è±¡ã€‚å› ä¸ºå®é™…ä¸Šä¸¤ä¸ªå¯¹è±¡çš„è¯¥æˆå‘˜å˜é‡éƒ½æŒ‡å‘åŒä¸€ä¸ªå®ä¾‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ä¿®æ”¹è¯¥æˆå‘˜å˜é‡ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„è¯¥æˆå‘˜å˜é‡å€¼</li><li>3ï¼‰å‰é¢æˆ‘ä»¬å…‹éš†ç¾Šå°±æ˜¯æµ…æ‹·è´</li><li>4ï¼‰æµ…æ‹·è´æ˜¯<mark>ä½¿ç”¨é»˜è®¤çš„ clone æ–¹æ³•</mark>æ¥å®ç°ï¼š<code>sheep=(Sheep)super.clone();</code></li></ul><h4 id="æ·±æ‹·è´åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#æ·±æ‹·è´åŸºæœ¬ä»‹ç»"><span>æ·±æ‹·è´åŸºæœ¬ä»‹ç»</span></a></h4><ul><li>1ï¼‰<mark>å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰åŸºæœ¬æ•°æ®ç±»å‹çš„æˆå‘˜å˜é‡å€¼</mark></li><li>2ï¼‰<mark>ä¸ºæ‰€æœ‰å¼•ç”¨æ•°æ®ç±»å‹çš„æˆå‘˜å˜é‡ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œå¹¶å¤åˆ¶æ¯ä¸ªå¼•ç”¨æ•°æ®ç±»å‹æˆå‘˜å˜é‡æ‰€å¼•ç”¨çš„å¯¹è±¡ï¼Œç›´åˆ°è¯¥å¯¹è±¡å¯è¾¾çš„æ‰€æœ‰å¯¹è±¡</mark>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è±¡è¿›è¡Œæ·±æ‹·è´è¦å¯¹æ•´ä¸ªå¯¹è±¡è¿›è¡Œæ‹·è´</li><li>3ï¼‰æ·±æ‹·è´å®ç°æ–¹å¼ 1ï¼š<mark>é‡å†™ clone æ–¹æ³•æ¥å®ç°æ·±æ‹·è´</mark></li><li>4ï¼‰æ·±æ‹·è´å®ç°æ–¹å¼ 2ï¼š<mark>é€šè¿‡å¯¹è±¡åºåˆ—åŒ–å®ç°æ·±æ‹·è´</mark></li></ul><p><strong>æ·±æ‹·è´æ–¹å¼ 1</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeepClonableTarget</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> cloneName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> cloneClass<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DeepClonableTarget</span><span class="token punctuation">(</span><span class="token class-name">String</span> cloneName<span class="token punctuation">,</span> <span class="token class-name">String</span> cloneClass<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>cloneName <span class="token operator">=</span> cloneName<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>cloneClass <span class="token operator">=</span> cloneClass<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCloneName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> cloneName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCloneName</span><span class="token punctuation">(</span><span class="token class-name">String</span> cloneName<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>cloneName <span class="token operator">=</span> cloneName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCloneClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> cloneClass<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCloneClass</span><span class="token punctuation">(</span><span class="token class-name">String</span> cloneClass<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>cloneClass <span class="token operator">=</span> cloneClass<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CloneNotSupportedException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeepPrototype</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">DeepClonableTarget</span> deepClonableTarget<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DeepPrototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DeepClonableTarget</span> <span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> deepClonableTarget<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDeepClonableTarget</span><span class="token punctuation">(</span><span class="token class-name">DeepClonableTarget</span> deepClonableTarget<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>deepClonableTarget <span class="token operator">=</span> deepClonableTarget<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CloneNotSupportedException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">//åŸºæœ¬æ•°æ®ç±»å‹æ‹·è´</span></span>
<span class="line">        <span class="token class-name">Object</span> object <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//å¼•ç”¨ç±»å‹æ‹·è´</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> deepPrototype <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DeepPrototype</span><span class="token punctuation">)</span> object<span class="token punctuation">;</span></span>
<span class="line">        deepPrototype<span class="token punctuation">.</span>deepClonableTarget <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DeepClonableTarget</span><span class="token punctuation">)</span> deepClonableTarget<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> object<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeepTest</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CloneNotSupportedException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeepPrototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        prototype<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;å®‹æ±Ÿ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        prototype<span class="token punctuation">.</span><span class="token function">setDeepClonableTarget</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DeepClonableTarget</span><span class="token punctuation">(</span><span class="token string">&quot;åŠæ—¶é›¨&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;åŠæ—¶é›¨çš„ç±»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DeepPrototype</span><span class="token punctuation">)</span> prototype<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DeepPrototype</span><span class="token punctuation">)</span> prototype<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DeepPrototype</span><span class="token punctuation">)</span> prototype<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DeepPrototype</span><span class="token punctuation">)</span> prototype<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone5 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DeepPrototype</span><span class="token punctuation">)</span> prototype<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>prototype<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> prototype<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 1554874502</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone1<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 1846274136</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone2<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 1639705018</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone3<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone3<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 1627674070</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone4<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone4<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 1360875712</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone5<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone5<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 1625635731</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ·±æ‹·è´æ–¹å¼ 2</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeepClonableTarget</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> cloneName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> cloneClass<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DeepClonableTarget</span><span class="token punctuation">(</span><span class="token class-name">String</span> cloneName<span class="token punctuation">,</span> <span class="token class-name">String</span> cloneClass<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>cloneName <span class="token operator">=</span> cloneName<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>cloneClass <span class="token operator">=</span> cloneClass<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCloneName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> cloneName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCloneName</span><span class="token punctuation">(</span><span class="token class-name">String</span> cloneName<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>cloneName <span class="token operator">=</span> cloneName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCloneClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> cloneClass<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCloneClass</span><span class="token punctuation">(</span><span class="token class-name">String</span> cloneClass<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>cloneClass <span class="token operator">=</span> cloneClass<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeepPrototype</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">DeepClonableTarget</span> deepClonableTarget<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DeepPrototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DeepClonableTarget</span> <span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> deepClonableTarget<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDeepClonableTarget</span><span class="token punctuation">(</span><span class="token class-name">DeepClonableTarget</span> deepClonableTarget<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>deepClonableTarget <span class="token operator">=</span> deepClonableTarget<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DeepPrototype</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">ByteArrayOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">ByteArrayInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">ObjectInputStream</span> ois <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// åºåˆ—åŒ–</span></span>
<span class="line">            bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span>bos<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">// ååºåˆ—åŒ–</span></span>
<span class="line">            bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">(</span>bos<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span>bis<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">DeepPrototype</span><span class="token punctuation">)</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>ois <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    ois<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>bis <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>oos <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>bos <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeepTest</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CloneNotSupportedException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeepPrototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        prototype<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;å®‹æ±Ÿ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        prototype<span class="token punctuation">.</span><span class="token function">setDeepClonableTarget</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DeepClonableTarget</span><span class="token punctuation">(</span><span class="token string">&quot;åŠæ—¶é›¨&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;åŠæ—¶é›¨çš„ç±»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone1 <span class="token operator">=</span> prototype<span class="token punctuation">.</span><span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone2 <span class="token operator">=</span> prototype<span class="token punctuation">.</span><span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone3 <span class="token operator">=</span> prototype<span class="token punctuation">.</span><span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone4 <span class="token operator">=</span> prototype<span class="token punctuation">.</span><span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">DeepPrototype</span> clone5 <span class="token operator">=</span> prototype<span class="token punctuation">.</span><span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>prototype<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> prototype<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 644117698</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone1<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 317574433</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone2<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 885284298</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone3<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone3<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 1389133897</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone4<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone4<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 1534030866</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone5<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> clone5<span class="token punctuation">.</span><span class="token function">getDeepClonableTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‹æ±Ÿ, 664223387</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ–¹å¼ 1 å’Œæ–¹å¼ 2 å¯¹æ¯”</strong></p><ul><li>åœ¨å¯¹è±¡å¼•ç”¨ç±»å‹çš„æˆå‘˜å±æ€§è¾ƒå°‘æ—¶ï¼Œæ–¹å¼ 1 ç®€å•ï¼›åœ¨å¯¹è±¡å¼•ç”¨ç±»å‹çš„æˆå‘˜å±æ€§è¾ƒå¤šæ—¶ï¼Œæ–¹å¼ 2 ç®€å•</li><li>åœ¨å¯¹è±¡å¼•ç”¨ç±»å‹çš„æˆå‘˜å±æ€§ç»å¸¸å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ–¹å¼ 1 éœ€è¦åŒæ­¥ä¿®æ”¹ï¼Œæ–¹å¼ 2 ä¸ç”¨ä¿®æ”¹</li><li>æ¨èä½¿ç”¨æ–¹å¼ 2ï¼šè€¦åˆæ€§ä½ã€å¯ç»´æŠ¤æ€§å¼ºã€æ‰©å±•æ€§é«˜</li></ul><h3 id="_7ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_7ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>7ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰<strong>ä¼˜ç‚¹</strong>ï¼šåˆ›å»ºæ–°çš„å¯¹è±¡æ¯”è¾ƒå¤æ‚æ—¶ï¼Œå¯ä»¥åˆ©ç”¨<mark>åŸå‹æ¨¡å¼ç®€åŒ–å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹</mark>ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿæé«˜æ•ˆç‡</li><li>2ï¼‰<strong>ä¼˜ç‚¹</strong>ï¼šä¸ç”¨é‡æ–°åˆå§‹åŒ–å¯¹è±¡ï¼Œè€Œæ˜¯<mark>åŠ¨æ€åœ°è·å¾—å¯¹è±¡è¿è¡Œæ—¶çš„çŠ¶æ€</mark></li><li>3ï¼‰<strong>ä¼˜ç‚¹</strong>ï¼š<mark>å¦‚æœåŸå§‹å¯¹è±¡å‘ç”Ÿå˜åŒ–ï¼ˆå¢åŠ æˆ–è€…å‡å°‘å±æ€§ï¼‰ï¼Œå…¶å®ƒå…‹éš†å¯¹è±¡çš„ä¹Ÿä¼šå‘ç”Ÿç›¸åº”çš„å˜åŒ–ï¼Œæ— éœ€ä¿®æ”¹ä»£ç </mark></li><li>4ï¼‰<strong>ç¼ºç‚¹</strong>ï¼šåœ¨å®ç°æ·±å…‹éš†çš„æ—¶å€™<mark>å¯èƒ½éœ€è¦æ¯”è¾ƒå¤æ‚çš„ä»£ç </mark></li><li>5ï¼‰<strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦ä¸ºæ¯ä¸€ä¸ªç±»é…å¤‡ä¸€ä¸ªå…‹éš†æ–¹æ³•ï¼Œè¿™å¯¹å…¨æ–°çš„ç±»æ¥è¯´ä¸æ˜¯å¾ˆéš¾ï¼Œä½†å¯¹å·²æœ‰çš„ç±»è¿›è¡Œæ”¹é€ æ—¶ï¼Œéœ€è¦ä¿®æ”¹å…¶æºä»£ç ï¼Œè¿èƒŒäº†OCP åŸåˆ™ï¼Œè¿™ç‚¹è¯·åŒå­¦ä»¬æ³¨æ„</li></ul><h2 id="ã€5ã€‘å»ºé€ è€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€5ã€‘å»ºé€ è€…æ¨¡å¼"><span>ã€5ã€‘å»ºé€ è€…æ¨¡å¼</span></a></h2><h3 id="_1ã€ç›–æˆ¿é¡¹ç›®éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_1ã€ç›–æˆ¿é¡¹ç›®éœ€æ±‚"><span>1ã€ç›–æˆ¿é¡¹ç›®éœ€æ±‚</span></a></h3><ul><li>1ï¼‰éœ€è¦å»ºæˆ¿å­ï¼šè¿™ä¸€è¿‡ç¨‹ä¸ºæ‰“æ¡©ã€ç Œå¢™ã€å°é¡¶</li><li>2ï¼‰æˆ¿å­æœ‰å„ç§å„æ ·çš„ï¼Œæ¯”å¦‚æ™®é€šæˆ¿ï¼Œé«˜æ¥¼ï¼Œåˆ«å¢…ï¼Œå„ç§æˆ¿å­çš„è¿‡ç¨‹è™½ç„¶ä¸€æ ·ï¼Œä½†æ˜¯è¦æ±‚ä¸è¦ç›¸åŒçš„</li><li>3ï¼‰è¯·ç¼–å†™ç¨‹åºï¼Œå®Œæˆéœ€æ±‚</li></ul><p><strong>ä¼ ç»Ÿæ–¹å¼</strong></p><p><img src="`+Y+`" alt="image-20211016135817291"></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbsHouse</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NormalRoom</span> <span class="token keyword">extends</span> <span class="token class-name">AbsHouse</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ™®é€šæˆ¿æ‰“æ¡©...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ™®é€šæˆ¿ç Œå¢™...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ™®é€šæˆ¿å°é¡¶...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HighRise</span> <span class="token keyword">extends</span> <span class="token class-name">AbsHouse</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é«˜æ¥¼æ‰“æ¡©...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é«˜æ¥¼ç Œå¢™...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é«˜æ¥¼å°é¡¶...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Villa</span> <span class="token keyword">extends</span> <span class="token class-name">AbsHouse</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ«å¢…æ‰“æ¡©...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ«å¢…ç Œå¢™...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ«å¢…å°é¡¶...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰ä¼˜ç‚¹æ˜¯æ¯”è¾ƒå¥½ç†è§£ï¼Œç®€å•æ˜“æ“ä½œ</li><li>2ï¼‰è®¾è®¡çš„ç¨‹åºç»“æ„ï¼Œè¿‡äºç®€å•ï¼Œ<mark>æ²¡æœ‰è®¾è®¡ç¼“å­˜å±‚å¯¹è±¡ï¼Œç¨‹åºçš„æ‰©å±•å’Œç»´æŠ¤ä¸å¥½</mark>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ç§è®¾è®¡æ–¹æ¡ˆæŠŠäº§å“ï¼ˆå³ï¼šæˆ¿å­ï¼‰å’Œåˆ›å»ºäº§å“çš„è¿‡ç¨‹ï¼ˆå³ï¼šå»ºæˆ¿å­æµç¨‹ï¼‰å°è£…åœ¨ä¸€èµ·ï¼Œè€¦åˆæ€§å¢å¼ºäº†</li><li>3ï¼‰è§£å†³æ–¹æ¡ˆï¼š<mark>å°†äº§å“å’Œäº§å“å»ºé€ è¿‡ç¨‹è§£è€¦ ==&gt; å»ºé€ è€…æ¨¡å¼</mark></li></ul><h3 id="_2ã€åŸºæœ¬ä»‹ç»-1" tabindex="-1"><a class="header-anchor" href="#_2ã€åŸºæœ¬ä»‹ç»-1"><span>2ã€åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰<mark>å»ºé€ è€…æ¨¡å¼</mark>ï¼ˆBuilder Patternï¼‰åˆå«<mark>ç”Ÿæˆå™¨æ¨¡å¼</mark>ï¼Œæ˜¯ä¸€ç§å¯¹è±¡æ„å»ºæ¨¡å¼ã€‚å®ƒå¯ä»¥å°†å¤æ‚å¯¹è±¡çš„å»ºé€ è¿‡ç¨‹æŠ½è±¡å‡ºæ¥ï¼ˆæŠ½è±¡ç±»åˆ«ï¼‰ï¼Œä½¿è¿™ä¸ªæŠ½è±¡è¿‡ç¨‹çš„ä¸åŒå®ç°æ–¹æ³•å¯ä»¥æ„é€ å‡ºä¸åŒè¡¨ç°ï¼ˆå±æ€§ï¼‰çš„å¯¹è±¡</li><li>2ï¼‰å»ºé€ è€…æ¨¡å¼æ˜¯ä¸€æ­¥ä¸€æ­¥åˆ›å»ºä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ï¼Œå®ƒå…è®¸ç”¨æˆ·åªé€šè¿‡æŒ‡å®šå¤æ‚å¯¹è±¡çš„ç±»å‹å’Œå†…å®¹å°±å¯ä»¥æ„å»ºå®ƒä»¬ï¼Œç”¨æˆ·ä¸éœ€è¦çŸ¥é“å†…éƒ¨çš„å…·ä½“æ„å»ºç»†èŠ‚</li></ul><p><img src="`+$+'" alt="image-20211016140232641"></p><h3 id="_3ã€å»ºé€ è€…æ¨¡å¼çš„å››ä¸ªè§’è‰²" tabindex="-1"><a class="header-anchor" href="#_3ã€å»ºé€ è€…æ¨¡å¼çš„å››ä¸ªè§’è‰²"><span>3ã€å»ºé€ è€…æ¨¡å¼çš„å››ä¸ªè§’è‰²</span></a></h3><ul><li>1ï¼‰<mark>Productï¼ˆäº§å“è§’è‰²ï¼‰ï¼šä¸€ä¸ªå…·ä½“çš„äº§å“å¯¹è±¡</mark></li><li>2ï¼‰<mark>Builderï¼ˆæŠ½è±¡å»ºé€ è€…ï¼‰ï¼šå¯å»ºä¸€ä¸ª Product å¯¹è±¡çš„å„ä¸ªéƒ¨ä»¶æŒ‡å®šçš„æ¥å£ / æŠ½è±¡ç±»</mark></li><li>3ï¼‰<mark>ConcreteBuilderï¼ˆå…·ä½“å»ºé€ è€…ï¼‰ï¼šå®ç°æ¥å£ï¼Œæ„å»ºå’Œè£…é…å„ä¸ªéƒ¨ä»¶</mark></li><li>4ï¼‰<mark>Directorï¼ˆæŒ‡æŒ¥è€…ï¼‰ï¼šæ„å»ºä¸€ä¸ªä½¿ç”¨ Builder æ¥å£çš„å¯¹è±¡</mark>ã€‚å®ƒä¸»è¦æ˜¯ç”¨äºåˆ›å»ºä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ã€‚å®ƒä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ <ul><li>ä¸€æ˜¯<mark>éš”ç¦»äº†å®¢æˆ·ä¸å¯¹è±¡çš„ç”Ÿäº§è¿‡ç¨‹</mark></li><li>äºŒæ˜¯<mark>è´Ÿè´£æ§åˆ¶äº§å“å¯¹è±¡çš„ç”Ÿäº§è¿‡ç¨‹</mark></li></ul></li></ul><h3 id="_4ã€å»ºé€ è€…æ¨¡å¼åŸç†ç±»å›¾" tabindex="-1"><a class="header-anchor" href="#_4ã€å»ºé€ è€…æ¨¡å¼åŸç†ç±»å›¾"><span>4ã€å»ºé€ è€…æ¨¡å¼åŸç†ç±»å›¾</span></a></h3><p><img src="'+nn+'" alt="image-20211016141000338"></p><h3 id="_5ã€å»ºé€ è€…æ¨¡å¼è§£å†³ç›–æˆ¿éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_5ã€å»ºé€ è€…æ¨¡å¼è§£å†³ç›–æˆ¿éœ€æ±‚"><span>5ã€å»ºé€ è€…æ¨¡å¼è§£å†³ç›–æˆ¿éœ€æ±‚</span></a></h3><p>éœ€è¦å»ºæˆ¿å­ï¼šè¿™ä¸€è¿‡ç¨‹ä¸ºæ‰“æ¡©ã€ç Œå¢™ã€å°é¡¶ã€‚ä¸ç®¡æ˜¯æ™®é€šæˆ¿å­ä¹Ÿå¥½ï¼Œåˆ«å¢…ä¹Ÿå¥½éƒ½éœ€è¦ç»å†è¿™äº›è¿‡ç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰æ¥å®Œæˆ</p><p><strong>UML ç±»å›¾</strong></p><p><img src="'+sn+`" alt="image-20211016142956537"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">House</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> pile<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> wall<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> roof<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> pile<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPile</span><span class="token punctuation">(</span><span class="token class-name">String</span> pile<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>pile <span class="token operator">=</span> pile<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getWall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> wall<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setWall</span><span class="token punctuation">(</span><span class="token class-name">String</span> wall<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>wall <span class="token operator">=</span> wall<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getRoof</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> roof<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRoof</span><span class="token punctuation">(</span><span class="token class-name">String</span> roof<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>roof <span class="token operator">=</span> roof<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">HouseBuilder</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">House</span> house <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">House</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">House</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> house<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NormalRoomBuilder</span> <span class="token keyword">extends</span> <span class="token class-name">HouseBuilder</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ™®é€šæˆ¿æ‰“æ¡©...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ™®é€šæˆ¿ç Œå¢™...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ™®é€šæˆ¿å°é¡¶...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HighRiseBuilder</span> <span class="token keyword">extends</span> <span class="token class-name">HouseBuilder</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é«˜æ¥¼æ‰“æ¡©...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é«˜æ¥¼ç Œå¢™...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é«˜æ¥¼å°é¡¶...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VillaBuilder</span> <span class="token keyword">extends</span> <span class="token class-name">HouseBuilder</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ«å¢…æ‰“æ¡©...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ«å¢…ç Œå¢™...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ«å¢…å°é¡¶...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HouseDirector</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">HouseBuilder</span> houseBuilder<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">HouseDirector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setHouseBuilder</span><span class="token punctuation">(</span><span class="token class-name">HouseBuilder</span> houseBuilder<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>houseBuilder <span class="token operator">=</span> houseBuilder<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">House</span> <span class="token function">buildHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        houseBuilder<span class="token punctuation">.</span><span class="token function">piling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        houseBuilder<span class="token punctuation">.</span><span class="token function">walling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        houseBuilder<span class="token punctuation">.</span><span class="token function">capping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> houseBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BuilderTest</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">HouseDirector</span> houseDirector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HouseDirector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">House</span> house<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        houseDirector<span class="token punctuation">.</span><span class="token function">setHouseBuilder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">NormalRoomBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        house <span class="token operator">=</span> houseDirector<span class="token punctuation">.</span><span class="token function">buildHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        houseDirector<span class="token punctuation">.</span><span class="token function">setHouseBuilder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HighRiseBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        house <span class="token operator">=</span> houseDirector<span class="token punctuation">.</span><span class="token function">buildHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        houseDirector<span class="token punctuation">.</span><span class="token function">setHouseBuilder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VillaBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        house <span class="token operator">=</span> houseDirector<span class="token punctuation">.</span><span class="token function">buildHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6ã€jdk-æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_6ã€jdk-æºç åˆ†æ"><span>6ã€JDK æºç åˆ†æ</span></a></h3><p>java.lang.StringBuilder ä¸­çš„å»ºé€ è€…æ¨¡å¼</p><p><img src="`+an+'" alt="image-20211016144102204"></p><p><img src="'+pn+'" alt="image-20211016144830033"></p><p><img src="'+en+'" alt="image-20211016144812174"></p><p><img src="'+tn+'" alt="image-20211016144738060"></p><p>è§’è‰²åˆ†æ</p><ul><li><code>Appendable</code>æ¥å£å®šä¹‰äº†å¤šä¸ª<code>append</code>æ–¹æ³•ï¼ˆæŠ½è±¡æ–¹æ³•ï¼‰ï¼Œå³<code>Appendable</code>ä¸ºæŠ½è±¡å»ºé€ è€…ï¼Œå®šä¹‰äº†æŠ½è±¡æ–¹æ³•</li><li><code>AbstractStringBuilder</code>å®ç°äº†<code>Appendable</code>æ¥å£æ–¹æ³•ï¼Œè¿™é‡Œçš„<code>AbstractStringBuilder</code>å·²ç»æ˜¯å»ºé€ è€…ï¼Œåªæ˜¯ä¸èƒ½å®ä¾‹åŒ–</li><li><code>StringBuilder</code>æ—¢å……å½“äº†æŒ‡æŒ¥è€…è§’è‰²ï¼Œåˆå……å½“äº†å…·ä½“çš„å»ºé€ è€…ï¼Œå»ºé€ æ–¹æ³•çš„å®ç°æ˜¯ç”±<code>AbstractStringBuilder</code>å®Œæˆï¼Œ<code>StringBuilder</code>ç»§æ‰¿äº†<code>AbstractStringBuilder</code></li></ul><h3 id="_7ã€æ³¨æ„äº‹é¡¹åŠç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_7ã€æ³¨æ„äº‹é¡¹åŠç»†èŠ‚"><span>7ã€æ³¨æ„äº‹é¡¹åŠç»†èŠ‚</span></a></h3><ul><li>1ï¼‰å®¢æˆ·ç«¯ï¼ˆä½¿ç”¨ç¨‹åºï¼‰<mark>ä¸å¿…çŸ¥é“äº§å“å†…éƒ¨ç»„æˆçš„ç»†èŠ‚ï¼Œå°†äº§å“æœ¬èº«ä¸äº§å“çš„åˆ›å»ºè¿‡ç¨‹è§£è€¦</mark>ï¼Œä½¿å¾—ç›¸åŒçš„åˆ›å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„äº§å“å¯¹è±¡</li><li>2ï¼‰<mark>æ¯ä¸€ä¸ªå…·ä½“å»ºé€ è€…éƒ½ç›¸å¯¹ç‹¬ç«‹ï¼Œè€Œä¸å…¶ä»–çš„å…·ä½“å»ºé€ è€…æ— å…³</mark>ï¼Œå› æ­¤å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ›¿æ¢å…·ä½“å»ºé€ è€…æˆ–å¢åŠ æ–°çš„å…·ä½“å»ºé€ è€…ï¼Œç”¨æˆ·ä½¿ç”¨ä¸åŒçš„å…·ä½“å»ºé€ è€…å³å¯å¾—åˆ°ä¸åŒçš„äº§å“å¯¹è±¡ 3ï¼‰<mark>å¯ä»¥æ›´åŠ ç²¾ç»†åœ°æ§åˆ¶äº§å“çš„åˆ›å»ºè¿‡ç¨‹</mark>ã€‚å°†å¤æ‚äº§å“çš„åˆ›å»ºæ­¥éª¤åˆ†è§£åœ¨ä¸åŒçš„æ–¹æ³•ä¸­ï¼Œä½¿å¾—åˆ›å»ºè¿‡ç¨‹æ›´åŠ æ¸…æ™°ï¼Œä¹Ÿæ›´æ–¹ä¾¿ä½¿ç”¨ç¨‹åºæ¥æ§åˆ¶åˆ›å»ºè¿‡ç¨‹</li><li>4ï¼‰<mark>å¢åŠ æ–°çš„å…·ä½“å»ºé€ è€…æ— é¡»ä¿®æ”¹åŸæœ‰ç±»åº“çš„ä»£ç </mark>ï¼ŒæŒ‡æŒ¥è€…ç±»é’ˆå¯¹æŠ½è±¡å»ºé€ è€…ç±»ç¼–ç¨‹ï¼Œç³»ç»Ÿæ‰©å±•æ–¹ä¾¿ï¼Œç¬¦åˆ<mark>â€œå¼€é—­åŸåˆ™â€</mark></li><li>5ï¼‰<mark>å»ºé€ è€…æ¨¡å¼æ‰€åˆ›å»ºçš„äº§å“ä¸€èˆ¬å…·æœ‰è¾ƒå¤šçš„å…±åŒç‚¹ï¼Œå…¶ç»„æˆéƒ¨åˆ†ç›¸ä¼¼</mark>ï¼Œå¦‚æœäº§å“ä¹‹é—´çš„å·®å¼‚æ€§å¾ˆå¤§ï¼Œåˆ™ä¸é€‚åˆä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œå› æ­¤å…¶ä½¿ç”¨èŒƒå›´å—åˆ°ä¸€å®šçš„é™åˆ¶</li><li>6ï¼‰å¦‚æœäº§å“çš„å†…éƒ¨å˜åŒ–å¤æ‚ï¼Œå¯èƒ½ä¼šå¯¼è‡´éœ€è¦å®šä¹‰å¾ˆå¤šå…·ä½“å»ºé€ è€…ç±»æ¥å®ç°è¿™ç§å˜åŒ–ï¼Œå¯¼è‡´ç³»ç»Ÿå˜å¾—å¾ˆåºå¤§ã€‚å› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¦è€ƒè™‘æ˜¯å¦é€‰æ‹©å»ºé€ è€…æ¨¡å¼</li></ul><h3 id="_8ã€æŠ½è±¡å·¥å‚æ¨¡å¼-vs-å»ºé€ è€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_8ã€æŠ½è±¡å·¥å‚æ¨¡å¼-vs-å»ºé€ è€…æ¨¡å¼"><span>8ã€æŠ½è±¡å·¥å‚æ¨¡å¼ VS å»ºé€ è€…æ¨¡å¼</span></a></h3><p>æŠ½è±¡å·¥å‚æ¨¡å¼å®ç°å¯¹äº§å“å®¶æ—çš„åˆ›å»ºï¼Œä¸€ä¸ªäº§å“å®¶æ—æ˜¯è¿™æ ·çš„ä¸€ç³»åˆ—äº§å“ï¼šå…·æœ‰ä¸åŒåˆ†ç±»ç»´åº¦çš„äº§å“ç»„åˆï¼Œé‡‡ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ä¸éœ€è¦å…³å¿ƒæ„å»ºè¿‡ç¨‹ï¼Œåªå…³å¿ƒä»€ä¹ˆäº§å“ç”±ä»€ä¹ˆå·¥å‚ç”Ÿäº§å³å¯ã€‚</p><p>è€Œå»ºé€ è€…æ¨¡å¼åˆ™æ˜¯è¦æ±‚æŒ‰ç…§æŒ‡å®šçš„è“å›¾å»ºé€ äº§å“ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æ˜¯é€šè¿‡ç»„è£…é›¶é…ä»¶è€Œäº§ç”Ÿä¸€ä¸ªæ–°äº§å“</p><h2 id="ã€6ã€‘é€‚é…å™¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€6ã€‘é€‚é…å™¨æ¨¡å¼"><span>ã€6ã€‘é€‚é…å™¨æ¨¡å¼</span></a></h2><p><strong>æ³°å›½æ—…æ¸¸ä½¿ç”¨æ’åº§é—®é¢˜</strong></p><p>ç°å®ç”Ÿæ´»ä¸­çš„é€‚é…å™¨ä¾‹å­</p><p>æ³°å›½æ’åº§ç”¨çš„æ˜¯ä¸¤å­”çš„ï¼ˆæ¬§æ ‡ï¼‰ï¼Œå¯ä»¥ä¹°ä¸ªå¤šåŠŸèƒ½è½¬æ¢æ’å¤´ï¼ˆé€‚é…å™¨ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨äº†</p><p><img src="'+ln+'" alt="image-20211018194134795"></p><h3 id="_1ã€åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_1ã€åŸºæœ¬ä»‹ç»"><span>1ã€åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰å°†æŸä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£è¡¨ç¤ºï¼Œä¸»çš„ç›®çš„æ˜¯<mark>å…¼å®¹æ€§</mark>ï¼Œè®©åŸæœ¬å› æ¥å£ä¸åŒ¹é…ä¸èƒ½ä¸€èµ·å·¥ä½œçš„ä¸¤ä¸ªç±»å¯ä»¥ååŒå·¥ä½œã€‚å…¶åˆ«åä¸ºåŒ…è£…å™¨ï¼ˆWrapperï¼‰</li><li>2ï¼‰é€‚é…å™¨æ¨¡å¼å±äº<mark>ç»“æ„å‹æ¨¡å¼</mark></li><li>3ï¼‰ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼š<mark>ç±»é€‚é…å™¨æ¨¡å¼ã€å¯¹è±¡é€‚é…å™¨æ¨¡å¼ã€æ¥å£é€‚é…å™¨æ¨¡å¼</mark></li></ul><h3 id="_2ã€å·¥ä½œåŸç†" tabindex="-1"><a class="header-anchor" href="#_2ã€å·¥ä½œåŸç†"><span>2ã€å·¥ä½œåŸç†</span></a></h3><ul><li>1ï¼‰é€‚é…å™¨æ¨¡å¼ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå¦ä¸€ç§æ¥å£ï¼Œè®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥<mark>å…¼å®¹</mark></li><li>2ï¼‰ä»ç”¨æˆ·çš„è§’åº¦çœ‹ä¸åˆ°è¢«é€‚é…è€…ï¼Œæ˜¯<mark>è§£è€¦</mark>çš„</li><li>3ï¼‰ç”¨æˆ·è°ƒç”¨é€‚é…å™¨è½¬åŒ–å‡ºæ¥çš„ç›®æ ‡æ¥å£æ–¹æ³•ï¼Œé€‚é…å™¨å†è°ƒç”¨è¢«é€‚é…è€…çš„ç›¸å…³æ¥å£æ–¹æ³•</li><li>4ï¼‰ç”¨æˆ·æ”¶åˆ°åé¦ˆç»“æœï¼Œæ„Ÿè§‰åªæ˜¯å’Œç›®æ ‡æ¥å£äº¤äº’ï¼Œå¦‚å›¾</li></ul><p><img src="'+cn+'" alt="image-20211018195141624"></p><h3 id="_3ã€ç±»é€‚é…å™¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_3ã€ç±»é€‚é…å™¨æ¨¡å¼"><span>3ã€ç±»é€‚é…å™¨æ¨¡å¼</span></a></h3><p><strong>æ¡ˆä¾‹</strong></p><p>åŸºæœ¬ä»‹ç»ï¼šAdapter ç±»ï¼Œé€šè¿‡ç»§æ‰¿ src ç±»ï¼Œå®ç° dst ç±»æ¥å£ï¼Œå®Œæˆ src -&gt; dst çš„é€‚é…</p><p>ä»¥ç”Ÿæ´»ä¸­å……ç”µå™¨çš„ä¾‹å­æ¥è®²è§£é€‚é…å™¨ï¼Œå……ç”µå™¨æœ¬èº«ç›¸å½“äº Adapterï¼Œ220V äº¤æµç”µç›¸å½“äº srcï¼ˆå³è¢«é€‚é…è€…ï¼‰ï¼Œæˆ‘ä»¬çš„ dstï¼ˆå³ç›®æ ‡ï¼‰æ˜¯ 5V ç›´æµç”µ</p><p><img src="'+on+'" alt="image-20211018195850891"></p><p><strong>UML ç±»å›¾</strong></p><p><img src="'+un+`" alt="image-20211018202103110"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// è¢«é€‚é…çš„ç±»</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Voltage220V</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">output220V</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">int</span> src <span class="token operator">=</span> <span class="token number">220</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”µå‹=&quot;</span> <span class="token operator">+</span> src <span class="token operator">+</span> <span class="token string">&quot;ä¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> src<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// é€‚é…æ¥å£</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IVoltage5V</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Integer</span> <span class="token function">output5V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// é€‚é…å™¨</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VoltageAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">Voltage220V</span> <span class="token keyword">implements</span> <span class="token class-name">IVoltage5V</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">output5V</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">int</span> src <span class="token operator">=</span> <span class="token function">output220V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">int</span> dst <span class="token operator">=</span> src <span class="token operator">/</span> <span class="token number">44</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”µå‹=&quot;</span> <span class="token operator">+</span> dst <span class="token operator">+</span> <span class="token string">&quot;ä¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> dst<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä½¿ç”¨é€‚é…å™¨æ–¹æ³•</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Phone</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">charing</span><span class="token punctuation">(</span><span class="token class-name">IVoltage5V</span> iVoltage5V<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>iVoltage5V<span class="token punctuation">.</span><span class="token function">output5V</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”µå‹=5ä¼ï¼Œæ­£åœ¨å……ç”µ~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”µå‹!=5ä¼ï¼Œæ— æ³•å……ç”µ~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å®¢æˆ·ç«¯</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Phone</span> phone <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Phone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        phone<span class="token punctuation">.</span><span class="token function">charing</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VoltageAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</strong></p><ul><li>1ï¼‰Java æ˜¯<mark>å•ç»§æ‰¿æœºåˆ¶</mark>ï¼Œæ‰€ä»¥ç±»é€‚é…å™¨éœ€è¦ç»§æ‰¿ src ç±»è¿™ä¸€ç‚¹ç®—æ˜¯ä¸€ä¸ªç¼ºç‚¹ï¼Œå› ä¸ºè¿™è¦æ±‚ dst å¿…é¡»æ˜¯æ¥å£ï¼Œæœ‰ä¸€å®š<mark>å±€é™æ€§</mark></li><li>2ï¼‰src ç±»çš„æ–¹æ³•åœ¨ Adapter ä¸­éƒ½ä¼šæš´éœ²å‡ºæ¥ï¼Œä¹Ÿ<mark>å¢åŠ äº†ä½¿ç”¨çš„æˆæœ¬</mark></li><li>3ï¼‰ç”±äºå…¶ç»§æ‰¿äº† src ç±»ï¼Œæ‰€ä»¥å®ƒå¯ä»¥æ ¹æ®éœ€æ±‚é‡å†™ src ç±»çš„æ–¹æ³•ï¼Œä½¿å¾— Adapter çš„<mark>çµæ´»æ€§å¢å¼º</mark>äº†</li></ul><h3 id="_4ã€å¯¹è±¡é€‚é…å™¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_4ã€å¯¹è±¡é€‚é…å™¨æ¨¡å¼"><span>4ã€å¯¹è±¡é€‚é…å™¨æ¨¡å¼</span></a></h3><ul><li>1ï¼‰åŸºæœ¬æ€è·¯å’Œç±»çš„é€‚é…å™¨æ¨¡å¼ç›¸åŒï¼Œåªæ˜¯å°† Adapter ç±»ä½œä¿®æ”¹ï¼Œä¸æ˜¯ç»§æ‰¿ src ç±»ï¼Œè€Œæ˜¯æŒæœ‰ src ç±»çš„å®ä¾‹ï¼Œä»¥è§£å†³å…¼å®¹æ€§çš„é—®é¢˜ã€‚å³ï¼šæŒæœ‰ src ç±»ï¼Œå®ç° dst ç±»æ¥å£ï¼Œå®Œæˆ src-&gt;dst çš„é€‚é…</li><li>2ï¼‰æ ¹æ®â€œåˆæˆå¤ç”¨åŸåˆ™â€ï¼Œåœ¨ç³»ç»Ÿä¸­å°½é‡ä½¿ç”¨å…³è”å…³ç³»æ¥æ›¿ä»£ç»§æ‰¿å…³ç³»</li><li>3ï¼‰<mark>å¯¹è±¡é€‚é…å™¨æ¨¡å¼æ˜¯é€‚é…å™¨æ¨¡å¼å¸¸ç”¨çš„ä¸€ç§</mark></li></ul><p>ä»¥ç”Ÿæ´»ä¸­å……ç”µå™¨çš„ä¾‹å­æ¥è®²è§£é€‚é…å™¨ï¼Œå……ç”µå™¨æœ¬èº«ç›¸å½“äº Adapterï¼Œ220V äº¤æµç”µç›¸å½“äº srcï¼ˆå³è¢«é€‚é…è€…ï¼‰ï¼Œæˆ‘ä»¬çš„ dstï¼ˆå³ç›®æ ‡ï¼‰æ˜¯ 5V ç›´æµç”µï¼Œä½¿ç”¨å¯¹è±¡é€‚é…å™¨æ¨¡å¼å®Œæˆ</p><p><strong>UML ç±»å›¾</strong></p><p><img src="`+kn+`" alt="image-20211018203522489"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>åªéœ€ä¿®æ”¹ Adapter ç±»å³å¯</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VoltageAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">IVoltage5V</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Voltage220V</span> voltage220V<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">VoltageAdapter</span><span class="token punctuation">(</span><span class="token class-name">Voltage220V</span> voltage220V<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>voltage220V <span class="token operator">=</span> voltage220V<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">output5V</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>voltage220V <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">int</span> src <span class="token operator">=</span> voltage220V<span class="token punctuation">.</span><span class="token function">output220V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">int</span> dst <span class="token operator">=</span> src <span class="token operator">/</span> <span class="token number">44</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”µå‹=&quot;</span> <span class="token operator">+</span> dst <span class="token operator">+</span> <span class="token string">&quot;ä¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> dst<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Phone</span> phone <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Phone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        phone<span class="token punctuation">.</span><span class="token function">charing</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VoltageAdapter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Voltage220V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</strong></p><ul><li>1ï¼‰<mark>å¯¹è±¡é€‚é…å™¨å’Œç±»é€‚é…å™¨å…¶å®ç®—æ˜¯åŒä¸€ç§æ€æƒ³ï¼Œåªä¸è¿‡å®ç°æ–¹å¼ä¸åŒ</mark>ã€‚æ ¹æ®åˆæˆå¤ç”¨åŸåˆ™ï¼Œä½¿ç”¨ç»„åˆæ›¿ä»£ç»§æ‰¿ï¼Œæ‰€ä»¥å®ƒè§£å†³äº†ç±»é€‚é…å™¨å¿…é¡»ç»§æ‰¿ src çš„å±€é™æ€§é—®é¢˜ï¼Œä¹Ÿä¸å†è¦æ±‚ dst å¿…é¡»æ˜¯æ¥å£</li><li>2ï¼‰<mark>ä½¿ç”¨æˆæœ¬æ›´ä½ï¼Œæ›´çµæ´»</mark></li></ul><h3 id="_5ã€æ¥å£é€‚é…å™¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_5ã€æ¥å£é€‚é…å™¨æ¨¡å¼"><span>5ã€æ¥å£é€‚é…å™¨æ¨¡å¼</span></a></h3><ul><li>1ï¼‰ä¸€äº›ä¹¦ç±ç§°ä¸ºï¼š<mark>é€‚é…å™¨æ¨¡å¼æˆ–ç¼ºçœé€‚é…å™¨æ¨¡å¼ï¼ˆDefault Adapter Patternï¼‰</mark></li><li>2ï¼‰å½“ä¸éœ€è¦å…¨éƒ¨å®ç°æ¥å£æä¾›çš„æ–¹æ³•æ—¶ï¼Œå¯å…ˆè®¾è®¡ä¸€ä¸ªæŠ½è±¡ç±»å®ç°æ¥å£ï¼Œå¹¶ä¸ºè¯¥æ¥å£ä¸­æ¯ä¸ªæ–¹æ³•æä¾›ä¸€ä¸ªé»˜è®¤å®ç°ï¼ˆç©ºæ–¹æ³•ï¼‰ï¼Œé‚£ä¹ˆè¯¥æŠ½è±¡ç±»çš„å­ç±»å¯æœ‰é€‰æ‹©åœ°è¦†ç›–çˆ¶ç±»çš„æŸäº›æ–¹æ³•æ¥å®ç°éœ€æ±‚</li><li>3ï¼‰é€‚ç”¨äºä¸€ä¸ªæ¥å£ä¸æƒ³ä½¿ç”¨å…¶æ‰€æœ‰çš„æ–¹æ³•çš„æƒ…å†µ</li></ul><p><strong>å®ä¾‹</strong></p><p>1ï¼‰Android ä¸­çš„å±æ€§åŠ¨ç”» ValueAnimator ç±»å¯ä»¥é€šè¿‡ addListenerï¼ˆAnimatorListener listenerï¼‰æ–¹æ³•æ·»åŠ ç›‘å¬å™¨ï¼Œé‚£ä¹ˆå¸¸è§„å†™æ³•å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">ValueAnimator</span> valueAnimator <span class="token operator">=</span> <span class="token class-name">ValueAnimator</span><span class="token punctuation">.</span><span class="token function">ofInt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">valueAnimator<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Animator<span class="token punctuation">.</span>AnimatorListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimatorStart</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimatorEnd</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimatorCancel</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimatorRepeat</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">valueAnimator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¼‰æœ‰æ—¶å€™æˆ‘ä»¬ä¸æƒ³å®ç° Animator.AnimatorListener æ¥å£çš„å…¨éƒ¨æ–¹æ³•ï¼Œæˆ‘ä»¬åªæƒ³ç›‘å¬ onAnimationStartï¼Œå†™æ³•å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">ValueAnimator</span> valueAnimator <span class="token operator">=</span> <span class="token class-name">ValueAnimator</span><span class="token punctuation">.</span><span class="token function">ofInt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">valueAnimator<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AnimatorListenerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimatorStart</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// XXXXå…·ä½“å®ç°</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">valueAnimator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰AnimatorListenerAdapter ç±»å°±æ˜¯ä¸€ä¸ªæ¥å£é€‚é…å™¨ï¼Œå®ƒç©ºå®ç°äº† Animator.AnimatorListener ç±»ï¼ˆsrcï¼‰çš„æ‰€æœ‰æ–¹æ³•</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AnimatorListenerAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">Animator<span class="token punctuation">.</span>AnimatorListener</span><span class="token punctuation">,</span> <span class="token class-name">Animator<span class="token punctuation">.</span>AnimatorPauseListener</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationCancel</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationEnd</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationRepeat</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationStart</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationPause</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationResume</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4ï¼‰AnimatorListener æ˜¯ä¸€ä¸ªæ¥å£</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">interface</span> <span class="token class-name">AnimatorListener</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">onAnimationStart</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">onAnimationEnd</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">onAnimationCancel</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">onAnimationRepeat</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5ï¼‰ç¨‹åºé‡Œçš„åŒ¿åå†…éƒ¨ç±»å°±æ˜¯ Listener å…·ä½“å®ç°ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">new</span> <span class="token class-name">AnimatorListenerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationStart</span><span class="token punctuation">(</span><span class="token class-name">Animator</span> animation<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// xxxxå…·ä½“å®ç°</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨æˆ‘ä»¬æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ï¼Œè‡ªå·±å»å®ç°ä¸€ä¸‹</p><p><strong>UML ç±»å›¾</strong></p><p><img src="`+rn+`" alt="image-20211018210248150"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Interface4</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">operation4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbsAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">Interface4</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">AbsAdapter</span> absAdapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbsAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è°ƒç”¨operation1æ–¹æ³•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">        absAdapter<span class="token punctuation">.</span><span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6ã€springmvc-æ¡†æ¶æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_6ã€springmvc-æ¡†æ¶æºç åˆ†æ"><span>6ã€SpringMVC æ¡†æ¶æºç åˆ†æ</span></a></h3><p>1ï¼‰SpringMVC ä¸­çš„ HandlerAdapterï¼Œå°±ä½¿ç”¨äº†é€‚é…å™¨æ¨¡å¼</p><p>2ï¼‰SpringMVC å¤„ç†è¯·æ±‚çš„æµç¨‹å›é¡¾</p><p><img src="`+dn+'" alt="image-20211018210609609"></p><p><img src="'+vn+'" alt="image-20211018210912269"></p><p>3ï¼‰ä½¿ç”¨ HandlerAdapter çš„åŸå› åˆ†æ</p><p>åœ¨ DispatcherServlet ä¸­ï¼Œæœ‰ä¸€ä¸ª doDispatch æ–¹æ³•ï¼Œå…¶ä¸­ä¾¿ä½¿ç”¨åˆ°äº† HandlerAdapter é€‚é…å™¨</p><p><img src="'+mn+'" alt="image-20211018212840166"></p><p>é€šè¿‡ request å¯ä»¥è·å¾—ä¸€ä¸ª Handlerï¼Œå†æ ¹æ®è¿™ä¸ª Handler è·å¾—ä¸åŒçš„ HandlerAdapter è¿›è¡Œå¤„ç†</p><p><img src="'+bn+'" alt="image-20211018212934518"></p><p>HandlerAdapter æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªé€‚é…å™¨æ¥å£ï¼Œå…·ä½“çš„é€‚é…å™¨å®ç°ç±»æœ‰å¤šç§ï¼Œå…¶ä¸­æœ‰æˆ‘ä»¬è¾ƒä¸ºç†Ÿæ‚‰çš„ HttpRequestHandlerAdapter å’Œ RequestMappingHandlerAdapter</p><p><img src="'+gn+'" alt="image-20211018213024886"></p><p>HandlerAdapter çš„å®ç°å­ç±»æ˜¯çš„æ¯ä¸€ç§ Controller æœ‰ä¸€ç§å¯¹åº”çš„é€‚é…å™¨å®ç°ç±»ï¼Œæ¯ç§ Controller æœ‰ä¸åŒçš„å®ç°æ–¹å¼</p><p>è¨€å½’æ­£ä¼ ï¼Œæ‹¿åˆ° HandlerAdapter é€‚é…å™¨ä¹‹åï¼Œä¾¿ä¼šè°ƒç”¨å…¶ä¸­çš„ handle æ–¹æ³•ï¼Œ æ­¤æ–¹æ³•ä¾¿æ˜¯å…·ä½“çš„é€‚é…å™¨å®ç°ç±»éœ€è¦å®ç°çš„æ–¹æ³•</p><p><img src="'+yn+'" alt="image-20211018213942824"></p><p>å¯ä»¥çœ‹åˆ°å¤„ç†å™¨çš„ç±»å‹ä¸åŒï¼Œæœ‰å¤šé‡å®ç°æ–¹å¼ï¼Œé‚£ä¹ˆè°ƒç”¨æ–¹å¼å°±ä¸æ˜¯ç¡®å®šçš„ã€‚å¦‚æœéœ€è¦ç›´æ¥è°ƒç”¨ Controller æ–¹æ³•ï¼Œéœ€è¦è°ƒç”¨çš„æ—¶å€™å°±å¾—ä¸æ–­ä½¿ç”¨<code>if-else</code>æ¥è¿›è¡Œåˆ¤æ–­æ˜¯å“ªä¸€ç§å­ç±»ç„¶åæ‰§è¡Œã€‚é‚£ä¹ˆå¦‚æœåé¢è¦æ‰©å±• Controllerï¼Œå°±å¾—ä¿®æ”¹åŸæ¥çš„ä»£ç ï¼Œè¿™æ ·è¿èƒŒäº† OCP åŸåˆ™</p><p>4ï¼‰ä¸ºäº†æ›´æ·±åˆ»åœ°ç†è§£å…¶ä¸­è¿ç”¨çš„æ¨¡å¼æ€æƒ³ï¼Œæˆ‘ä»¬è‡ªå·±åŠ¨æ‰‹å†™ SpringMVCï¼Œé€šè¿‡é€‚é…å™¨è®¾è®¡æ¨¡å¼è·å–åˆ°å¯¹åº”çš„ Controller çš„æºç </p><h3 id="_7ã€è‡ªå·±åŠ¨æ‰‹å†™-springmvc" tabindex="-1"><a class="header-anchor" href="#_7ã€è‡ªå·±åŠ¨æ‰‹å†™-springmvc"><span>7ã€è‡ªå·±åŠ¨æ‰‹å†™ SpringMVC</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+wn+`" alt="image-20211018221312147"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnnotationController</span> <span class="token keyword">implements</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doAnnotationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;annotation...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpController</span> <span class="token keyword">implements</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doHttpHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;http...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleController</span> <span class="token keyword">implements</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSimplerHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;simple...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//å®šä¹‰ä¸€ä¸ªAdapteræ¥å£</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">HandlerAdapter</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">boolean</span> <span class="token function">supports</span><span class="token punctuation">(</span><span class="token class-name">Object</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Object</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnnotationHandlerAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerAdapter</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">AnnotationController</span><span class="token punctuation">)</span> handler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doAnnotationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">supports</span><span class="token punctuation">(</span><span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">(</span>handler <span class="token keyword">instanceof</span> <span class="token class-name">AnnotationController</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpHandlerAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerAdapter</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">HttpController</span><span class="token punctuation">)</span> handler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doHttpHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">supports</span><span class="token punctuation">(</span><span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">(</span>handler <span class="token keyword">instanceof</span> <span class="token class-name">HttpController</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleHandlerAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerAdapter</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">SimpleController</span><span class="token punctuation">)</span> handler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doSimplerHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">supports</span><span class="token punctuation">(</span><span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">(</span>handler <span class="token keyword">instanceof</span> <span class="token class-name">SimpleController</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DispatchServlet</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HandlerAdapter</span><span class="token punctuation">&gt;</span></span> handlerAdapters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DispatchServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        handlerAdapters<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AnnotationHandlerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        handlerAdapters<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHandlerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        handlerAdapters<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleHandlerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// æ­¤å¤„æ¨¡æ‹Ÿ SpringMVC ä» request å– handler çš„å¯¹è±¡ï¼Œé€‚é…å™¨å¯ä»¥è·å–åˆ°å¸Œæœ›çš„ Controller</span></span>
<span class="line">        <span class="token comment">//HttpController controller = new HttpController();</span></span>
<span class="line">        <span class="token class-name">SimpleController</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//AnnotationController controller = new AnnotationController();</span></span>
<span class="line">        <span class="token comment">// å¾—åˆ°å¯¹åº”é€‚é…å™¨</span></span>
<span class="line">        <span class="token class-name">HandlerAdapter</span> adapter <span class="token operator">=</span> <span class="token function">getHandler</span><span class="token punctuation">(</span>controller<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//é€šè¿‡é€‚é…å™¨æ‰§è¡Œå¯¹åº”çš„controllerå¯¹åº”æ–¹æ³•</span></span>
<span class="line">        adapter<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span>controller<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">HandlerAdapter</span> <span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token class-name">Controller</span> controller<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">//éå†ï¼šæ ¹æ®å¾—åˆ°çš„controllerï¼ˆhandlerï¼‰ï¼Œè¿”å›å¯¹åº”é€‚é…å™¨</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">HandlerAdapter</span> adapter <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handlerAdapters<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>adapter<span class="token punctuation">.</span><span class="token function">supports</span><span class="token punctuation">(</span>controller<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">return</span> adapter<span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¯´æ˜</strong></p><ul><li>Spring å®šä¹‰äº†ä¸€ä¸ªé€‚é…æ¥å£ï¼Œä½¿å¾—æ¯ä¸€ç§ Controller æœ‰ä¸€ç§å¯¹åº”çš„é€‚é…å™¨å®ç°ç±»</li><li>é€‚é…å™¨ä»£æ›¿ Controller æ‰§è¡Œç›¸åº”çš„æ–¹æ³•</li><li>æ‰©å±• Controller æ—¶ï¼Œåªéœ€è¦å¢åŠ ä¸€ä¸ªé€‚é…å™¨ç±»å°±å®Œæˆäº† SpringMVC çš„æ‰©å±•äº†</li><li>è¿™å°±æ˜¯è®¾è®¡æ¨¡å¼çš„åŠ›é‡</li></ul><h3 id="_8ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_8ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>8ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰ä¸‰ç§å‘½åæ–¹å¼ï¼Œæ˜¯æ ¹æ® src æ˜¯ä»¥æ€æ ·çš„å½¢å¼ç»™åˆ° Adapterï¼ˆåœ¨Adapteré‡Œçš„å½¢å¼ï¼‰æ¥å‘½åçš„</li><li>2ï¼‰ä¸‰ç§é€‚é…å™¨æ¨¡å¼ <ul><li>ç±»é€‚é…å™¨ï¼šä»¥ç±»ç»™åˆ°ï¼Œåœ¨ Adapter é‡Œå°† src ä½œä¸ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿</li><li>å¯¹è±¡é€‚é…å™¨ï¼šä»¥å¯¹è±¡ç»™åˆ°ï¼Œåœ¨Adapter é‡Œå°† src ä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒæŒæœ‰</li><li>æ¥å£é€‚é…å™¨ï¼šä»¥æ¥å£ç»™åˆ°ï¼Œåœ¨ Adapter é‡Œå°† src ä½œä¸ºä¸€ä¸ªæ¥å£ï¼Œå®ç°</li></ul></li><li>3ï¼‰Adapter æ¨¡å¼æœ€å¤§çš„ä½œç”¨è¿˜æ˜¯å°†åŸæœ¬ä¸å…¼å®¹çš„æ¥å£èåˆåœ¨ä¸€èµ·å·¥ä½œ</li><li>4ï¼‰å®é™…å¼€å‘ä¸­ï¼Œå®ç°èµ·æ¥ä¸æ‹˜æ³¥äºæˆ‘ä»¬è®²è§£çš„ä¸‰ç§ç»å…¸å½¢å¼</li></ul><h2 id="ã€7ã€‘æ¡¥æ¥æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€7ã€‘æ¡¥æ¥æ¨¡å¼"><span>ã€7ã€‘æ¡¥æ¥æ¨¡å¼</span></a></h2><h3 id="_1ã€ä¼ ç»Ÿæ–¹å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1ã€ä¼ ç»Ÿæ–¹å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜"><span>1ã€ä¼ ç»Ÿæ–¹å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜</span></a></h3><p>ç°åœ¨å¯¹ä¸åŒæ‰‹æœºç±»å‹çš„ä¸åŒå“ç‰Œå®ç°æ“ä½œç¼–ç¨‹ï¼ˆæ¯”å¦‚ï¼šå¼€æœºã€å…³æœºã€ä¸Šç½‘ï¼Œæ‰“ç”µè¯ç­‰ï¼‰ï¼Œå¦‚å›¾ï¼š</p><p><img src="`+hn+'" alt="image-20211020192526079"></p><p><strong>UML ç±»å›¾</strong></p><p><img src="'+fn+'" alt="image-20211020192702004"></p><p><strong>é—®é¢˜åˆ†æ</strong></p><ol><li><strong>æ‰©å±•æ€§é—®é¢˜ï¼ˆç±»çˆ†ç‚¸ï¼‰</strong>ï¼šå¦‚æœæˆ‘ä»¬å†å¢åŠ æ‰‹æœºçš„æ ·å¼ï¼ˆæ—‹è½¬å¼ï¼‰ï¼Œå°±éœ€è¦å¢åŠ å„ä¸ªå“ç‰Œæ‰‹æœºçš„ç±»ï¼›åŒæ ·å¦‚æœæˆ‘ä»¬å¢åŠ ä¸€ä¸ªæ‰‹æœºå“ç‰Œï¼Œä¹Ÿè¦åœ¨å„ä¸ªæ‰‹æœºæ ·å¼ç±»ä¸‹å¢åŠ </li><li><strong>è¿åäº†å•ä¸€èŒè´£åŸåˆ™</strong>ï¼šå½“æˆ‘ä»¬å¢åŠ æ‰‹æœºæ ·å¼æ—¶ï¼Œè¦åŒæ—¶å¢åŠ æ‰€æœ‰å“ç‰Œçš„æ‰‹æœºï¼Œè¿™æ ·å¢åŠ äº†ä»£ç ç»´æŠ¤æˆæœ¬</li><li>è§£å†³æ–¹æ¡ˆâ€”â€”<strong>ä½¿ç”¨æ¡¥æ¥æ¨¡å¼</strong></li></ol><h3 id="_2ã€æ¡¥æ¥æ¨¡å¼åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€æ¡¥æ¥æ¨¡å¼åŸºæœ¬ä»‹ç»"><span>2ã€æ¡¥æ¥æ¨¡å¼åŸºæœ¬ä»‹ç»</span></a></h3><ol><li><strong>æ¡¥æ¥æ¨¡å¼ï¼ˆBridgeæ¨¡å¼ï¼‰ï¼š</strong><mark>ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼</mark>ï¼šå°†å®ç°ä¸æŠ½è±¡æ”¾åœ¨ä¸¤ä¸ªä¸åŒçš„ç±»å±‚æ¬¡ä¸­ï¼Œä½¿ä¸¤ä¸ªå±‚æ¬¡å¯ä»¥ç‹¬ç«‹æ”¹å˜</li><li>Bridgeæ¨¡å¼åŸºäº<mark>ç±»çš„æœ€å°è®¾è®¡åŸåˆ™</mark>ï¼Œé€šè¿‡ä½¿ç”¨å°è£…ã€èšåˆåŠç»§æ‰¿ç­‰è¡Œä¸ºè®©ä¸åŒçš„ç±»æ‰¿æ‹…ä¸åŒçš„èŒè´£</li><li>å®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯æŠŠ<mark>æŠ½è±¡ï¼ˆAbstractionï¼‰ä¸è¡Œä¸ºå®ç°ï¼ˆImplementationï¼‰åˆ†ç¦»å¼€æ¥</mark>ï¼Œä»è€Œå¯ä»¥ä¿æŒå„éƒ¨åˆ†çš„ç‹¬ç«‹æ€§ä»¥åŠåº”å¯¹ä»–ä»¬çš„åŠŸèƒ½æ‰©å±•</li></ol><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+En+'" alt="image-20211020193532371"></p><p><strong>åŸç†ç±»å›¾è¯´æ˜</strong></p><ul><li><strong>Client</strong>ï¼šæ¡¥æ¥æ¨¡å¼çš„è°ƒç”¨è€…</li><li><strong>Abstraction</strong>ï¼šAbstraction å……å½“æ¡¥æ¥ç±»ï¼Œç»´æŠ¤äº† Implementorï¼Œå³ ConcreteImplementorA / ConcreteImplementorB</li><li><strong>RefinedAbstraction</strong>ï¼šAbstraction æŠ½è±¡ç±»çš„å­ç±»</li><li><strong>Implementor</strong>ï¼šè¡Œä¸ºå®ç°ç±»çš„æ¥å£</li><li><strong>ConcreteImplementorA / ConcreteImplementorB</strong>ï¼šè¡Œä¸ºçš„å…·ä½“å®ç°ç±»</li><li>è¿™é‡Œçš„æŠ½è±¡ç±»å’Œæ¥å£æ˜¯èšåˆçš„å…³ç³»ï¼Œä¹Ÿæ˜¯è°ƒç”¨è€…å’Œè¢«è°ƒç”¨è€…çš„å…³ç³»</li></ul><h3 id="_3ã€æ¡¥æ¥æ¨¡å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_3ã€æ¡¥æ¥æ¨¡å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜"><span>3ã€æ¡¥æ¥æ¨¡å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+xn+`" alt="image-20211020202203186"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// è¡Œä¸ºæ¥å£â€”â€”å“ç‰Œæ¥å£</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Branch</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// è¡Œä¸ºå®ç°ç±»â€”â€”åä¸ºå“ç‰Œ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Huawei</span> <span class="token keyword">implements</span> <span class="token class-name">Branch</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åä¸ºæ‰‹æœºå¼€æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åä¸ºæ‰‹æœºæ‰“ç”µè¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åä¸ºæ‰‹æœºå…³æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// è¡Œä¸ºå®ç°ç±»â€”â€”å°ç±³å“ç‰Œ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Xiaomi</span> <span class="token keyword">implements</span> <span class="token class-name">Branch</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å°ç±³æ‰‹æœºå¼€æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å°ç±³æ‰‹æœºæ‰“ç”µè¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å°ç±³æ‰‹æœºå…³æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// è¡Œä¸ºå®ç°ç±»â€”â€”è‹¹æœå“ç‰Œ</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> iPhone <span class="token keyword">implements</span> <span class="token class-name">Branch</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è‹¹æœæ‰‹æœºå¼€æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è‹¹æœæ‰‹æœºæ‰“ç”µè¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è‹¹æœæ‰‹æœºå…³æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ¡¥æ¥ç±»â€”â€”æ‰‹æœºæŠ½è±¡ç±»</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Phone</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Branch</span> branch<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Phone</span><span class="token punctuation">(</span><span class="token class-name">Branch</span> branch<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>branch <span class="token operator">=</span> branch<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        branch<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        branch<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        branch<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// æ¡¥æ¥å­ç±»â€”â€”ç¿»ç›–å¼æ‰‹æœº</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FlipPhone</span> <span class="token keyword">extends</span> <span class="token class-name">Phone</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">FlipPhone</span><span class="token punctuation">(</span><span class="token class-name">Branch</span> branch<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>branch<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç¿»ç›–å¼æ‰‹æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// æ¡¥æ¥å­ç±»â€”â€”æ»‘ç›–å¼æ‰‹æœº</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SlidePhone</span> <span class="token keyword">extends</span> <span class="token class-name">Phone</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">SlidePhone</span><span class="token punctuation">(</span><span class="token class-name">Branch</span> branch<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>branch<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ»‘ç›–å¼æ‰‹æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// æ¡¥æ¥å­ç±»â€”â€”ç›´ç«‹å¼æ‰‹æœº</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UprightPhone</span> <span class="token keyword">extends</span> <span class="token class-name">Phone</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">UprightPhone</span><span class="token punctuation">(</span><span class="token class-name">Branch</span> branch<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>branch<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç›´ç«‹å¼æ‰‹æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€jdk-æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_4ã€jdk-æºç åˆ†æ"><span>4ã€JDK æºç åˆ†æ</span></a></h3><p>JDBC çš„ Driver æ¥å£ï¼šå¦‚æœä»æ¡¥æ¥æ¨¡å¼æ¥çœ‹ï¼ŒDriver å°±æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸‹é¢å¯ä»¥æœ‰ MySQL çš„ Driverã€Oracle çš„ Driverï¼Œè¿™äº›å°±å¯ä»¥å½“åšå®ç°æ¥å£ç±»</p><p><img src="`+Bn+'" alt="image-20211020203253562"></p><p><strong>Connection ç»§æ‰¿ä½“ç³»</strong></p><p><img src="'+An+`" alt="image-20211020205255371"></p><p><strong>Driveræºç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Driver</span> <span class="token keyword">extends</span> <span class="token class-name">NonRegisteringDriver</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span>Driver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span>DriverManager</span><span class="token punctuation">.</span><span class="token function">registerDriver</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Driver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> <span class="token class-name">E</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;Can&#39;t register driver!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Driver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// Required for Class.forName().newInstance()</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>DriverManager ç»“æ„</strong></p><p><img src="`+Sn+'" alt="image-20211020204343366"></p><p><strong>è¯´æ˜</strong></p><ul><li>MySQL æœ‰è‡ªå·±çš„ Connectionlmpl ç±»ï¼ŒåŒæ · Oracle ä¹Ÿæœ‰å¯¹åº”çš„å®ç°ç±»</li><li>Driver å’Œ Connection ä¹‹é—´æ˜¯é€šè¿‡ DriverManager ç±»è¿›è¡Œæ¡¥è¿æ¥çš„</li></ul><h3 id="_5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ol><li><mark>å®ç°äº†æŠ½è±¡å’Œå®ç°éƒ¨åˆ†çš„åˆ†ç¦»</mark>ï¼Œä»è€Œæå¤§çš„æä¾›äº†ç³»ç»Ÿçš„çµæ´»æ€§ï¼Œè®©æŠ½è±¡éƒ¨åˆ†å’Œå®ç°éƒ¨åˆ†ç‹¬ç«‹å¼€æ¥ã€‚è¿™æœ‰åŠ©äºç³»ç»Ÿè¿›è¡Œ<mark>åˆ†å±‚è®¾è®¡</mark>ï¼Œä»è€Œäº§ç”Ÿæ›´å¥½çš„<mark>ç»“æ„åŒ–ç³»ç»Ÿ</mark></li><li>å¯¹äºç³»ç»Ÿçš„é«˜å±‚éƒ¨åˆ†ï¼Œåªéœ€è¦çŸ¥é“æŠ½è±¡éƒ¨åˆ†å’Œå®ç°éƒ¨åˆ†çš„æ¥å£å°±å¯ä»¥äº†ï¼Œå…¶å®ƒçš„éƒ¨åˆ†ç”±å…·ä½“ä¸šåŠ¡æ¥å®Œæˆ</li><li>æ¡¥æ¥æ¨¡å¼æ›¿ä»£<mark>å¤šå±‚ç»§æ‰¿æ–¹æ¡ˆ</mark>ï¼Œå¯ä»¥å‡å°‘å­ç±»çš„ä¸ªæ•°ï¼Œé™ä½ç³»ç»Ÿçš„ç®¡ç†å’Œç»´æŠ¤æˆæœ¬</li><li>æ¡¥æ¥æ¨¡å¼çš„å¼•å…¥å¢åŠ äº†ç³»ç»Ÿçš„ç†è§£å’Œè®¾è®¡éš¾åº¦ï¼Œç”±äºèšåˆå…³è”å…³ç³»å»ºç«‹åœ¨æŠ½è±¡å±‚ï¼Œè¦æ±‚å¼€å‘è€…é’ˆ<mark>å¯¹æŠ½è±¡è¿›è¡Œè®¾è®¡å’Œç¼–ç¨‹</mark></li><li>æ¡¥æ¥æ¨¡å¼è¦æ±‚æ­£ç¡®è¯†åˆ«å‡ºç³»ç»Ÿä¸­ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œå› æ­¤å…¶ä½¿ç”¨èŒƒå›´æœ‰ä¸€å®šçš„åé™æ€§ï¼Œå³éœ€è¦æœ‰è¿™æ ·çš„åº”ç”¨åœºæ™¯</li></ol><h3 id="_6ã€æ¡¥æ¥æ¨¡å¼å…¶ä»–åº”ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#_6ã€æ¡¥æ¥æ¨¡å¼å…¶ä»–åº”ç”¨åœºæ™¯"><span>6ã€æ¡¥æ¥æ¨¡å¼å…¶ä»–åº”ç”¨åœºæ™¯</span></a></h3><p>å¯¹äºé‚£äº›ä¸å¸Œæœ›ä½¿ç”¨ç»§æ‰¿æˆ–å› ä¸ºå¤šå±‚æ¬¡ç»§æ‰¿å¯¼è‡´ç³»ç»Ÿç±»çš„ä¸ªæ•°æ€¥å‰§å¢åŠ çš„ç³»ç»Ÿï¼Œæ¡¥æ¥æ¨¡å¼å°¤ä¸ºé€‚ç”¨</p><p>å¸¸è§çš„åº”ç”¨åœºæ™¯</p><ol><li>JDBC é©±åŠ¨ç¨‹åº</li><li>é“¶è¡Œè½¬è´¦ç³»ç»Ÿ <ul><li>è½¬è´¦åˆ†ç±»ï¼šç½‘ä¸Šè½¬è´¦ã€æŸœå°è½¬è´¦ã€AMT è½¬è´¦</li><li>è½¬è´¦ç”¨æˆ·ç±»å‹ï¼šæ™®é€šç”¨æˆ·ã€é“¶å¡ç”¨æˆ·ã€é‡‘å¡ç”¨æˆ·</li></ul></li><li>æ¶ˆæ¯ç®¡ç† <ul><li>æ¶ˆæ¯ç±»å‹ï¼šå³æ—¶æ¶ˆæ¯ã€å»¶æ—¶æ¶ˆæ¯</li><li>æ¶ˆæ¯åˆ†ç±»ï¼šæ‰‹æœºçŸ­ä¿¡ã€é‚®ä»¶æ¶ˆæ¯ã€QQæ¶ˆæ¯â€¦</li></ul></li></ol><h2 id="ã€8ã€‘è£…é¥°è€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€8ã€‘è£…é¥°è€…æ¨¡å¼"><span>ã€8ã€‘è£…é¥°è€…æ¨¡å¼</span></a></h2><h3 id="_1ã€æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#_1ã€æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®"><span>1ã€æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®</span></a></h3><p>æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®ï¼ˆå’–å•¡é¦†ï¼‰ï¼š</p><ul><li>1ï¼‰å’–å•¡ç§ç±»/å•å“å’–å•¡ï¼šEspressoï¼ˆæ„å¤§åˆ©æµ“å’–ï¼‰ã€ShortBlackã€LongBlackï¼ˆç¾å¼å’–å•¡ï¼‰ã€Decafï¼ˆæ— å› å’–å•¡ï¼‰</li><li>2ï¼‰è°ƒæ–™ï¼šMikã€Soyï¼ˆè±†æµ†ï¼‰ã€Chocolate</li><li>3ï¼‰è¦æ±‚åœ¨æ‰©å±•æ–°çš„å’–å•¡ç§ç±»æ—¶ï¼Œå…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§ã€æ”¹åŠ¨æ–¹ä¾¿ã€ç»´æŠ¤æ–¹ä¾¿</li><li>4ï¼‰ä½¿ç”¨ OO çš„æ¥è®¡ç®—ä¸åŒç§ç±»å’–å•¡çš„è´¹ç”¨ï¼šå®¢æˆ·å¯ä»¥ç‚¹å•å“å’–å•¡ï¼Œä¹Ÿå¯ä»¥å•å“å’–å•¡+è°ƒæ–™ç»„åˆ</li></ul><h3 id="_2ã€æ–¹æ¡ˆ-1-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®-è¾ƒå·®çš„æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_2ã€æ–¹æ¡ˆ-1-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®-è¾ƒå·®çš„æ–¹æ¡ˆ"><span>2ã€æ–¹æ¡ˆ 1-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®ï¼ˆè¾ƒå·®çš„æ–¹æ¡ˆï¼‰</span></a></h3><p><img src="'+Cn+'" alt="image-20211023165815602"></p><p><strong>æ–¹æ¡ˆ 1-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰Drink æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œè¡¨ç¤ºé¥®æ–™</li><li>2ï¼‰description å°±æ˜¯å¯¹å’–å•¡çš„æè¿°ï¼Œæ¯”å¦‚å’–å•¡çš„åå­—</li><li>3ï¼‰cost æ–¹æ³•å°±æ˜¯è®¡ç®—è´¹ç”¨ï¼ŒDrink ç±»ä¸­åšæˆä¸€ä¸ªæŠ½è±¡æ–¹æ³•</li><li>4ï¼‰Decaf å°±æ˜¯å•å“å’–å•¡ï¼Œç»§æ‰¿ Drinkï¼Œå¹¶å®ç° cost</li><li>5ï¼‰Espresso &amp;&amp; Milk å°±æ˜¯å•å“å’–å•¡+è°ƒæ–™ï¼Œè¿™ä¸ªç»„åˆå¾ˆå¤š</li><li>6ï¼‰é—®é¢˜ï¼šè¿™æ ·è®¾è®¡ï¼Œä¼šæœ‰å¾ˆå¤šç±»ã€‚å½“æˆ‘ä»¬å¢åŠ ä¸€ä¸ªå•å“å’–å•¡ï¼Œæˆ–è€…ä¸€ä¸ªæ–°çš„è°ƒæ–™ï¼Œç±»çš„æ•°é‡å°±ä¼šå€å¢ï¼Œå‡ºç°ç±»çˆ†ç‚¸</li></ul><h3 id="_3ã€æ–¹æ¡ˆ-2-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®-å¥½ç‚¹çš„æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_3ã€æ–¹æ¡ˆ-2-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®-å¥½ç‚¹çš„æ–¹æ¡ˆ"><span>3ã€æ–¹æ¡ˆ 2-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®ï¼ˆå¥½ç‚¹çš„æ–¹æ¡ˆï¼‰</span></a></h3><p>å‰é¢åˆ†æåˆ°æ–¹æ¡ˆ 1 å› ä¸ºå’–å•¡å•å“+è°ƒæ–™ç»„åˆä¼šé€ æˆç±»çš„å€å¢ï¼Œå› æ­¤å¯ä»¥åšæ”¹è¿›ï¼Œå°†è°ƒæ–™å†…ç½®åˆ° Drink ç±»ï¼Œè¿™æ ·å°±ä¸ä¼šé€ æˆç±»æ•°é‡è¿‡å¤šã€‚ä»è€Œæé«˜é¡¹ç›®çš„ç»´æŠ¤æ€§ï¼ˆå¦‚å›¾ï¼‰</p><p><img src="'+qn+'" alt="image-20211023170550925"></p><p>è¯´æ˜ï¼šMilkã€Soyã€Chocolate å¯ä»¥è®¾è®¡ä¸º Booleanï¼Œè¡¨ç¤ºæ˜¯å¦è¦æ·»åŠ ç›¸åº”çš„è°ƒæ–™</p><p><strong>æ–¹æ¡ˆ 2-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰æ–¹æ¡ˆ 2 å¯ä»¥æ§åˆ¶ç±»çš„æ•°é‡ï¼Œä¸è‡³äºé€ æˆå¾ˆå¤šçš„ç±»</li><li>2ï¼‰åœ¨å¢åŠ æˆ–è€…åˆ é™¤è°ƒæ–™ç§ç±»æ—¶ï¼Œä»£ç çš„ç»´æŠ¤é‡å¾ˆå¤§</li><li>3ï¼‰è€ƒè™‘åˆ°ç”¨æˆ·å¯ä»¥æ·»åŠ å¤šä»½è°ƒæ–™æ—¶ï¼Œå¯ä»¥å°† hasMilk è¿”å›ä¸€ä¸ªå¯¹åº” int</li><li>4ï¼‰è€ƒè™‘ä½¿ç”¨è£…é¥°è€…æ¨¡å¼</li></ul><h3 id="_4ã€è£…é¥°è€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_4ã€è£…é¥°è€…æ¨¡å¼"><span>4ã€è£…é¥°è€…æ¨¡å¼</span></a></h3><p><strong>å®šä¹‰</strong></p><p>1ï¼‰è£…é¥°è€…æ¨¡å¼ï¼š<mark>åŠ¨æ€åœ°å°†æ–°åŠŸèƒ½é™„åŠ åˆ°å¯¹è±¡ä¸Š</mark>ã€‚åœ¨å¯¹è±¡åŠŸèƒ½æ‰©å±•æ–¹é¢ï¼Œå®ƒæ¯”ç»§æ‰¿æ›´æœ‰å¼¹æ€§ï¼Œè£…é¥°è€…æ¨¡å¼ä½“ç°äº†<mark>å¼€é—­åŸåˆ™ï¼ˆOCPï¼‰</mark></p><p>2ï¼‰è¿™é‡Œæåˆ°çš„åŠ¨æ€çš„å°†æ–°åŠŸèƒ½é™„åŠ åˆ°å¯¹è±¡å’Œ OCP åŸåˆ™ï¼Œåœ¨åé¢çš„åº”ç”¨å®ä¾‹ä¸Šä¼šä»¥ä»£ç çš„å½¢å¼ä½“ç°ï¼Œè¯·åŒå­¦ä»¬æ³¨æ„ä½“ä¼š</p><p><strong>åŸç†</strong></p><ul><li>1ï¼‰è£…é¥°è€…æ¨¡å¼å°±åƒæ‰“åŒ…ä¸€ä¸ªå¿«é€’ <ul><li>ä¸»ä½“ï¼šæ¯”å¦‚é™¶ç“·ã€è¡£æœï¼ˆComponentï¼‰</li><li>åŒ…è£…ï¼šæ¯”å¦‚æŠ¥çº¸å¡«å……ã€å¡‘æ–™æ³¡æ²«ã€çº¸æ¿ã€æœ¨æ¿ï¼ˆDecoratorï¼‰</li></ul></li><li>2ï¼‰ä¸»ä½“ï¼ˆComponentï¼‰ï¼šæ¯”å¦‚å‰é¢çš„ Drink</li><li>3ï¼‰å…·ä½“çš„ä¸»ä½“ï¼ˆConcreteComponentï¼‰ï¼šæ¯”å¦‚å‰é¢çš„å„ä¸ªå•å“å’–å•¡</li><li>4ï¼‰è£…é¥°è€…ï¼ˆDecoratorï¼‰ï¼šæ¯”å¦‚å„è°ƒæ–™</li><li>4ï¼‰Component ä¸ ConcreteComponent ä¹‹é—´ï¼Œå¦‚æœ ConcreteComponent ç±»å¾ˆå¤šï¼Œè¿˜å¯ä»¥è®¾è®¡ä¸€ä¸ªç¼“å†²å±‚ï¼Œå°†å…±æœ‰çš„éƒ¨åˆ†æå–å‡ºæ¥ï¼ŒæŠ½è±¡æˆä¸€ä¸ªç±»</li></ul><p><img src="'+jn+'" alt="image-20211023181332821"></p><h3 id="_5ã€è£…é¥°è€…æ¨¡å¼è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#_5ã€è£…é¥°è€…æ¨¡å¼è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®"><span>5ã€è£…é¥°è€…æ¨¡å¼è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®</span></a></h3><p><img src="'+_n+'" alt="image-20211023181701216"></p><p><strong>è¯´æ˜</strong></p><ul><li>1ï¼‰Drink å°±æ˜¯æŠ½è±¡ç±» Component</li><li>2ï¼‰ShortBlack å•å“å’–å•¡å°±æ˜¯å…·ä½“çš„ä¸»ä½“</li><li>3ï¼‰Decorator æ˜¯ä¸€ä¸ªè£…é¥°ç±»ï¼Œå«æœ‰ä¸€ä¸ªè¢«è£…é¥°çš„å¯¹è±¡ï¼ˆDrinkï¼‰</li><li>4ï¼‰Decorator çš„ cost æ–¹æ³•è¿›è¡Œä¸€ä¸ªè´¹ç”¨çš„å åŠ ï¼Œé€’å½’åœ°è®¡ç®—ä»·æ ¼</li></ul><p>è£…é¥°è€…æ¨¡å¼ä¸‹çš„è®¢å•ï¼š2ä»½å·§å…‹åŠ› + ä¸€ä»½ç‰›å¥¶çš„ LongBlack</p><p><img src="'+Dn+'" alt="image-20211023182107273"></p><p><strong>è¯´æ˜</strong></p><ul><li>1ï¼‰Milk åŒ…å«äº† LongBlack</li><li>2ï¼‰ä¸€ä»½ Chocolate åŒ…å«äº† Milk + LongBlack</li><li>3ï¼‰ä¸€ä»½ Chocolate åŒ…å«äº† Chocolate + Milk + LongBlack</li><li>4ï¼‰è¿™æ ·ä¸ç®¡æ˜¯ä»€ä¹ˆå½¢å¼çš„å•å“å’–å•¡ + è°ƒæ–™ç»„åˆï¼Œé€šè¿‡é€’å½’æ–¹å¼å¯ä»¥æ–¹ä¾¿çš„ç»„åˆå’Œç»´æŠ¤</li></ul><p><strong>UMLç±»å›¾</strong></p><p><img src="'+On+`" alt="image-20211023194905182"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// æŠ½è±¡ä¸»ä½“</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Drink</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> desc<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> price<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> desc<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token class-name">String</span> desc<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>desc <span class="token operator">=</span> desc<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> price<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token class-name">Float</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Float</span> <span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// å…·ä½“ä¸»ä½“</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Coffee</span> <span class="token keyword">extends</span> <span class="token class-name">Drink</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Decaf</span> <span class="token keyword">extends</span> <span class="token class-name">Coffee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Decaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token string">&quot;æ— å› å’–å•¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token number">20.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Espresso</span> <span class="token keyword">extends</span> <span class="token class-name">Coffee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Espresso</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token string">&quot;æ„å¤§åˆ©æµ“å’–&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token number">30.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ShortBlack</span> <span class="token keyword">extends</span> <span class="token class-name">Coffee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ShortBlack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token string">&quot;çŸ­é»‘å’–å•¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token number">40.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LongBlack</span> <span class="token keyword">extends</span> <span class="token class-name">Coffee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">LongBlack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token string">&quot;ç¾å¼å’–å•¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token number">50.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">//è£…é¥°è€…</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Decorator</span> <span class="token keyword">extends</span> <span class="token class-name">Drink</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Drink</span> drink<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Decorator</span><span class="token punctuation">(</span><span class="token class-name">Drink</span> drink<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>drink <span class="token operator">=</span> drink<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> drink<span class="token punctuation">.</span><span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Milk</span> <span class="token keyword">extends</span> <span class="token class-name">Decorator</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Milk</span><span class="token punctuation">(</span><span class="token class-name">Drink</span> drink<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token string">&quot;ç‰›å¥¶&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token number">3.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Soy</span> <span class="token keyword">extends</span> <span class="token class-name">Decorator</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Soy</span><span class="token punctuation">(</span><span class="token class-name">Drink</span> drink<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token string">&quot;è±†æµ†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token number">4.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Chocolate</span> <span class="token keyword">extends</span> <span class="token class-name">Decorator</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Chocolate</span><span class="token punctuation">(</span><span class="token class-name">Drink</span> drink<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token string">&quot;å·§å…‹åŠ›&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token number">5.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// è°ƒç”¨è€…</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CoffeeBar</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Drink</span> drink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Espresso</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ„å¤§åˆ©æµ“å’–ï¼š&quot;</span> <span class="token operator">+</span> drink<span class="token punctuation">.</span><span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ç¾å…ƒ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ„å¤§åˆ©æµ“å’–ï¼š30.0ç¾å…ƒ</span></span>
<span class="line"></span>
<span class="line">        drink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Milk</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ„å¤§åˆ©æµ“å’– + 1ä»½ç‰›å¥¶ï¼š&quot;</span> <span class="token operator">+</span> drink<span class="token punctuation">.</span><span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ç¾å…ƒ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ„å¤§åˆ©æµ“å’– + 1ä»½ç‰›å¥¶ï¼š33.0ç¾å…ƒ</span></span>
<span class="line"></span>
<span class="line">        drink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chocolate</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ„å¤§åˆ©æµ“å’– + 1ä»½ç‰›å¥¶ + 1ä»½å·§å…‹åŠ›ï¼š&quot;</span> <span class="token operator">+</span> drink<span class="token punctuation">.</span><span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ç¾å…ƒ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ„å¤§åˆ©æµ“å’–...ï¼š38.0ç¾å…ƒ</span></span>
<span class="line"></span>
<span class="line">        drink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chocolate</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ„å¤§åˆ©æµ“å’– + 1ä»½ç‰›å¥¶ + 2ä»½å·§å…‹åŠ›ï¼š&quot;</span> <span class="token operator">+</span> drink<span class="token punctuation">.</span><span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ç¾å…ƒ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ„å¤§åˆ©æµ“å’–...ï¼š43.0ç¾å…ƒ</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6ã€jdk-æºç åˆ†æ-1" tabindex="-1"><a class="header-anchor" href="#_6ã€jdk-æºç åˆ†æ-1"><span>6ã€JDK æºç åˆ†æ</span></a></h3><p>Java çš„ IO ç»“æ„ï¼ŒFilterlnputStream å°±æ˜¯ä¸€ä¸ªè£…é¥°è€…</p><p><img src="`+Pn+`" alt="image-20211023210853809"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå³Component</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">InputStream</span> <span class="token keyword">implements</span> <span class="token class-name">Closeable</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> </span>
<span class="line"><span class="token comment">// æ˜¯ä¸€ä¸ªè£…é¥°ç±»ï¼Œå³Decorator</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterInputStream</span> <span class="token keyword">extends</span> <span class="token class-name">InputStream</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">volatile</span> <span class="token class-name">InputStream</span> in<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">FilterInputStream</span><span class="token punctuation">(</span><span class="token class-name">InputStream</span> in<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>in <span class="token operator">=</span> in<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// FilterInputStreamå­ç±»ï¼Œä¹Ÿç»§æ‰¿äº†è¢«è£…é¥°çš„å¯¹è±¡ in</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataInputStream</span> <span class="token keyword">extends</span> <span class="token class-name">FilterInputStream</span> <span class="token keyword">implements</span> <span class="token class-name">DataInput</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DataInputStream</span><span class="token punctuation">(</span><span class="token class-name">InputStream</span> in<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åˆ†æ</strong></p><ul><li>1ï¼‰InputStream æ˜¯æŠ½è±¡ç±»ï¼Œç±»ä¼¼æˆ‘ä»¬å‰é¢è®²çš„ Drink</li><li>2ï¼‰FileInputStream æ˜¯ InputStream å­ç±»ï¼Œç±»ä¼¼æˆ‘ä»¬å‰é¢çš„ DeCafã€LongBlack</li><li>3ï¼‰FilterInputStream æ˜¯ InputStream å­ç±»ï¼Œç±»ä¼¼æˆ‘ä»¬å‰é¢çš„ Decoratorï¼Œä¿®é¥°è€…</li><li>4ï¼‰DataInputStream æ˜¯ FilterInputStream å­ç±»ï¼Œç±»ä¼¼å‰é¢çš„Milkï¼ŒSoyç­‰ï¼Œå…·ä½“çš„ä¿®é¥°è€…</li><li>5ï¼‰FilterInputStream ç±»æœ‰<code>protected volatile InputStream in;</code>ï¼Œå³å«è¢«è£…é¥°è€…</li><li>6ï¼‰åˆ†æå¾—å‡ºåœ¨ JDK çš„ IO ä½“ç³»ï¼Œå°±æ˜¯ä½¿ç”¨è£…é¥°è€…æ¨¡å¼</li></ul><h2 id="ã€9ã€‘ç»„åˆæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€9ã€‘ç»„åˆæ¨¡å¼"><span>ã€9ã€‘ç»„åˆæ¨¡å¼</span></a></h2><h3 id="_1ã€å­¦æ ¡é™¢ç³»å±•ç¤ºéœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_1ã€å­¦æ ¡é™¢ç³»å±•ç¤ºéœ€æ±‚"><span>1ã€å­¦æ ¡é™¢ç³»å±•ç¤ºéœ€æ±‚</span></a></h3><p>ç¼–å†™ç¨‹åºå±•ç¤ºä¸€ä¸ªå­¦æ ¡é™¢ç³»ç»“æ„ï¼š</p><p>éœ€æ±‚æ˜¯è¿™æ ·ï¼Œè¦åœ¨ä¸€ä¸ªé¡µé¢ä¸­å±•ç¤ºå‡ºå­¦æ ¡çš„é™¢ç³»ç»„æˆï¼Œä¸€ä¸ªå­¦æ ¡æœ‰å¤šä¸ªå­¦é™¢ï¼Œä¸€ä¸ªå­¦é™¢æœ‰å¤šä¸ªç³»ã€‚å¦‚å›¾ï¼š</p><p><img src="`+In+'" alt="image-20211023221436485"></p><p><strong>ä¼ ç»Ÿæ–¹å¼è§£å†³å­¦æ ¡é™¢ç³»å±•ç¤ºï¼ˆç±»å›¾ï¼‰</strong></p><p><img src="'+Fn+'" alt="image-20211023221531826"></p><p><strong>é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰å°†å­¦é™¢çœ‹åšæ˜¯å­¦æ ¡çš„å­ç±»ï¼Œç³»æ˜¯å­¦é™¢çš„å­ç±»ï¼Œè¿™æ ·å®é™…ä¸Šæ˜¯ç«™åœ¨ç»„ç»‡å¤§å°æ¥è¿›è¡Œåˆ†å±‚æ¬¡çš„</li><li>2ï¼‰å®é™…ä¸Šæˆ‘ä»¬çš„è¦æ±‚æ˜¯ï¼šåœ¨ä¸€ä¸ªé¡µé¢ä¸­å±•ç¤ºå‡ºå­¦æ ¡çš„é™¢ç³»ç»„æˆï¼Œä¸€ä¸ªå­¦æ ¡æœ‰å¤šä¸ªå­¦é™¢ï¼Œä¸€ä¸ªå­¦é™¢æœ‰å¤šä¸ªç³»ã€‚å› æ­¤è¿™ç§æ–¹æ¡ˆï¼Œä¸èƒ½å¾ˆå¥½å®ç°çš„ <em>ç®¡ç†</em> çš„æ“ä½œï¼Œæ¯”å¦‚å¯¹å­¦é™¢ã€ç³»çš„æ·»åŠ ã€åˆ é™¤ã€éå†ç­‰</li><li>3ï¼‰è§£å†³æ–¹æ¡ˆï¼šæŠŠå­¦æ ¡ã€é™¢ã€ç³»éƒ½çœ‹åšæ˜¯ç»„ç»‡ç»“æ„ï¼Œä»–ä»¬ä¹‹é—´æ²¡æœ‰ç»§æ‰¿çš„å…³ç³»ï¼Œè€Œæ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œå¯ä»¥æ›´å¥½çš„å®ç°ç®¡ç†æ“ä½œ ==&gt; ç»„åˆæ¨¡å¼</li></ul><h3 id="_2ã€ç»„åˆæ¨¡å¼åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€ç»„åˆæ¨¡å¼åŸºæœ¬ä»‹ç»"><span>2ã€ç»„åˆæ¨¡å¼åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ï¼Œåˆå«<mark>éƒ¨åˆ†æ•´ä½“æ¨¡å¼</mark>ã€‚å®ƒåˆ›å»ºäº†å¯¹è±¡ç»„çš„æ ‘å½¢ç»“æ„ï¼Œå°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶ç»“æ„ä»¥è¡¨ç¤ºâ€œæ•´ä½“-éƒ¨åˆ†â€çš„å±‚æ¬¡å…³ç³»</li><li>2ï¼‰ç»„åˆæ¨¡å¼<mark>ä¾æ®æ ‘å½¢ç»“æ„æ¥ç»„åˆå¯¹è±¡</mark>ï¼Œç”¨æ¥è¡¨ç¤ºéƒ¨åˆ†ä»¥åŠæ•´ä½“å±‚æ¬¡</li><li>3ï¼‰è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<mark>ç»“æ„å‹æ¨¡å¼</mark></li><li>4ï¼‰ç»„åˆæ¨¡å¼ä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„è®¿é—®å…·æœ‰ä¸€è‡´æ€§ï¼Œå³ï¼šç»„åˆèƒ½è®©å®¢æˆ·ä»¥ä¸€è‡´çš„æ–¹å¼å¤„ç†ä¸ªåˆ«å¯¹è±¡ä»¥åŠç»„åˆå¯¹è±¡</li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+Mn+'" alt="image"></p><p><strong>å¯¹åŸç†ç»“æ„å›¾çš„è¯´æ˜ä¸€å³ç»„åˆæ¨¡å¼çš„è§’è‰²åŠèŒè´£</strong></p><ul><li>1ï¼‰<code>Component</code>ï¼šè¿™æ˜¯ç»„åˆä¸­å¯¹è±¡å£°æ˜æ¥å£ã€‚åœ¨é€‚å½“æƒ…å†µä¸‹ï¼Œå®ç°æ‰€æœ‰ç±»å…±æœ‰çš„æ¥å£é»˜è®¤è¡Œä¸ºï¼Œç”¨äºè®¿é—®å’Œç®¡ç† <code>Component</code>å­éƒ¨ä»¶ã€‚<code>Component</code>å¯ä»¥æ˜¯æŠ½è±¡ç±»æˆ–è€…æ¥å£</li><li>2ï¼‰<code>Leaf</code>ï¼šåœ¨ç»„åˆä¸­è¡¨ç¤ºå¶å­ç»“ç‚¹ï¼Œå¶å­ç»“ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹</li><li>3ï¼‰<code>Composite</code>ï¼šéå¶å­ç»“ç‚¹ï¼Œç”¨äºå­˜å‚¨å­éƒ¨ä»¶ï¼Œåœ¨<code>Component</code>æ¥å£ä¸­å®ç°å­éƒ¨ä»¶çš„ç›¸å…³æ“ä½œã€‚æ¯”å¦‚å¢åŠ ã€åˆ é™¤</li></ul><p><strong>è§£å†³çš„é—®é¢˜</strong></p><p>ç»„åˆæ¨¡å¼è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå½“æˆ‘ä»¬çš„è¦å¤„ç†çš„å¯¹è±¡å¯ä»¥ç”Ÿæˆä¸€æ£µæ ‘å½¢ç»“æ„ï¼Œè€Œæˆ‘ä»¬è¦å¯¹æ ‘ä¸Šçš„èŠ‚ç‚¹å’Œå¶å­è¿›è¡Œæ“ä½œæ—¶ï¼Œå®ƒèƒ½å¤Ÿæä¾›ä¸€è‡´çš„æ–¹å¼ï¼Œè€Œä¸ç”¨è€ƒè™‘å®ƒæ˜¯èŠ‚ç‚¹è¿˜æ˜¯å¶å­</p><p><img src="'+zn+'" alt="image-20211023222839054"></p><h3 id="_3ã€ç»„åˆæ¨¡å¼è§£å†³å­¦æ ¡é™¢ç³»å±•ç¤º" tabindex="-1"><a class="header-anchor" href="#_3ã€ç»„åˆæ¨¡å¼è§£å†³å­¦æ ¡é™¢ç³»å±•ç¤º"><span>3ã€ç»„åˆæ¨¡å¼è§£å†³å­¦æ ¡é™¢ç³»å±•ç¤º</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+Vn+`" alt="image-20211023230113883"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// Component æŠ½è±¡ç±»</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">OrganizationComponent</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">OrganizationComponent</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">OrganizationComponent</span> organizationComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">OrganizationComponent</span> organizationComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// Composite éå¶å­èŠ‚ç‚¹</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">University</span> <span class="token keyword">extends</span> <span class="token class-name">OrganizationComponent</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrganizationComponent</span><span class="token punctuation">&gt;</span></span> organizationComponentList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">University</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">OrganizationComponent</span> organizationComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        organizationComponentList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>organizationComponent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">OrganizationComponent</span> organizationComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        organizationComponent<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>organizationComponent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">OrganizationComponent</span> organizationComponent <span class="token operator">:</span> organizationComponentList<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            organizationComponent<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">College</span> <span class="token keyword">extends</span> <span class="token class-name">OrganizationComponent</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrganizationComponent</span><span class="token punctuation">&gt;</span></span> organizationComponentList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">College</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">OrganizationComponent</span> organizationComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        organizationComponentList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>organizationComponent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">OrganizationComponent</span> organizationComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        organizationComponent<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>organizationComponent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;=============&quot;</span> <span class="token operator">+</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;=============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">OrganizationComponent</span> organizationComponent <span class="token operator">:</span> organizationComponentList<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            organizationComponent<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// Leaf å¶å­ç»“ç‚¹</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Major</span> <span class="token keyword">extends</span> <span class="token class-name">OrganizationComponent</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Major</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// å®¢æˆ·ç«¯</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">//å¤§å­¦</span></span>
<span class="line">        <span class="token class-name">OrganizationComponent</span> university <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">University</span><span class="token punctuation">(</span><span class="token string">&quot;æ¸…åå¤§å­¦&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//å­¦é™¢</span></span>
<span class="line">        <span class="token class-name">OrganizationComponent</span> computerCollege <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">College</span><span class="token punctuation">(</span><span class="token string">&quot;è®¡ç®—æœºå­¦é™¢&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">OrganizationComponent</span> infoEngineerCollege <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">College</span><span class="token punctuation">(</span><span class="token string">&quot;ä¿¡æ¯å·¥ç¨‹å­¦é™¢&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//ä¸“ä¸š</span></span>
<span class="line">        computerCollege<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Major</span><span class="token punctuation">(</span><span class="token string">&quot;è½¯ä»¶å·¥ç¨‹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        computerCollege<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Major</span><span class="token punctuation">(</span><span class="token string">&quot;ç½‘ç»œå·¥ç¨‹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        computerCollege<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Major</span><span class="token punctuation">(</span><span class="token string">&quot;è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        infoEngineerCollege<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Major</span><span class="token punctuation">(</span><span class="token string">&quot;é€šä¿¡å·¥ç¨‹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        infoEngineerCollege<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Major</span><span class="token punctuation">(</span><span class="token string">&quot;ä¿¡æ¯å·¥ç¨‹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        university<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>computerCollege<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        university<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>infoEngineerCollege<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        university<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//=============è®¡ç®—æœºå­¦é™¢=============</span></span>
<span class="line">        <span class="token comment">//è½¯ä»¶å·¥ç¨‹</span></span>
<span class="line">        <span class="token comment">//ç½‘ç»œå·¥ç¨‹</span></span>
<span class="line">        <span class="token comment">//è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯</span></span>
<span class="line">        <span class="token comment">//=============ä¿¡æ¯å·¥ç¨‹å­¦é™¢=============</span></span>
<span class="line">        <span class="token comment">//é€šä¿¡å·¥ç¨‹</span></span>
<span class="line">        <span class="token comment">//ä¿¡æ¯å·¥ç¨‹</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€jdk-æºç åˆ†æ-1" tabindex="-1"><a class="header-anchor" href="#_4ã€jdk-æºç åˆ†æ-1"><span>4ã€JDK æºç åˆ†æ</span></a></h3><p>Java çš„é›†åˆç±»â€”â€” HashMap å°±ä½¿ç”¨äº†ç»„åˆæ¨¡å¼</p><p><strong>UML ç±»å›¾</strong></p><p><img src="`+Tn+`" alt="image-20211024160404083"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// Component</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">interface</span> <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// Composite</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">AbstractMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span><span class="token punctuation">,</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Leaf</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¯´æ˜</strong></p><ul><li>1ï¼‰Map å°±æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ„å»ºï¼Œç±»ä¼¼<code>Component</code></li><li>2ï¼‰HashMap æ˜¯ä¸€ä¸ªä¸­é—´çš„æ„å»ºï¼Œç±»ä¼¼<code>Composite</code>ï¼Œå®ç° / ç»§æ‰¿äº†ç›¸å…³æ–¹æ³• putã€putAll</li><li>3ï¼‰Node æ˜¯ HashMap çš„é™æ€å†…éƒ¨ç±»ï¼Œç±»ä¼¼<code>Leaf</code>å¶å­èŠ‚ç‚¹ï¼Œè¿™é‡Œå°±æ²¡æœ‰ put</li></ul><h3 id="_5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚-1" tabindex="-1"><a class="header-anchor" href="#_5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚-1"><span>5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰<mark>ç®€åŒ–å®¢æˆ·ç«¯æ“ä½œ</mark>ï¼šå®¢æˆ·ç«¯åªéœ€è¦é¢å¯¹ä¸€è‡´çš„å¯¹è±¡ï¼Œè€Œä¸ç”¨è€ƒè™‘æ•´ä½“éƒ¨åˆ†æˆ–è€…èŠ‚ç‚¹å¶å­çš„é—®é¢˜</li><li>2ï¼‰<mark>å…·æœ‰è¾ƒå¼ºæ‰©å±•æ€§</mark>ï¼šå½“æˆ‘ä»¬è¦æ›´æ”¹ç»„åˆå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒæ•´å†…éƒ¨çš„å±‚æ¬¡å…³ç³»ï¼Œå®¢æˆ·ç«¯ä¸ç”¨åšå‡ºä»»ä½•æ”¹åŠ¨</li><li>3ï¼‰<mark>æ–¹ä¾¿åˆ›å»ºå¤æ‚çš„å±‚æ¬¡ç»“æ„</mark>ï¼šå®¢æˆ·ç«¯ä¸ç”¨ç†ä¼šç»„åˆé‡Œé¢çš„ç»„æˆç»†èŠ‚ï¼Œå®¹æ˜“æ·»åŠ èŠ‚ç‚¹æˆ–è€…å¶å­ï¼Œä»è€Œåˆ›å»ºå‡ºå¤æ‚çš„æ ‘å½¢ç»“æ„</li><li>4ï¼‰<mark>éœ€è¦éå†ç»„ç»‡æœºæ„ï¼Œæˆ–è€…å¤„ç†çš„å¯¹è±¡å…·æœ‰æ ‘å½¢ç»“æ„æ—¶ï¼Œéå¸¸é€‚åˆä½¿ç”¨ç»„åˆæ¨¡å¼</mark></li><li>5ï¼‰<mark>è¦æ±‚è¾ƒé«˜çš„æŠ½è±¡æ€§ï¼Œå¦‚æœèŠ‚ç‚¹å’Œå¶å­æœ‰å¾ˆå¤šå·®å¼‚æ€§çš„è¯ï¼Œæ¯”å¦‚å¾ˆå¤šæ–¹æ³•å’Œå±æ€§éƒ½ä¸ä¸€æ ·ï¼Œä¸é€‚åˆä½¿ç”¨ç»„åˆæ¨¡å¼</mark></li></ul><h2 id="ã€10ã€‘å¤–è§‚æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€10ã€‘å¤–è§‚æ¨¡å¼"><span>ã€10ã€‘å¤–è§‚æ¨¡å¼</span></a></h2><h3 id="_1ã€å½±é™¢ç®¡ç†é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#_1ã€å½±é™¢ç®¡ç†é¡¹ç›®"><span>1ã€å½±é™¢ç®¡ç†é¡¹ç›®</span></a></h3><p>ç»„å»ºä¸€ä¸ªå®¶åº­å½±é™¢ï¼š</p><p>DVD æ’­æ”¾å™¨ã€æŠ•å½±ä»ªã€è‡ªåŠ¨å±å¹•ã€ç¯ç»•ç«‹ä½“å£°ã€çˆ†ç±³èŠ±æœºï¼Œè¦æ±‚å®Œæˆä½¿ç”¨å®¶åº­å½±é™¢çš„åŠŸèƒ½ï¼Œå…¶è¿‡ç¨‹ä¸ºï¼š</p><ul><li>ç›´æ¥ç”¨é¥æ§å™¨ï¼šç»Ÿç­¹å„è®¾å¤‡å¼€å…³</li><li>å¼€çˆ†ç±³èŠ±æœº</li><li>æ”¾ä¸‹å±å¹•</li><li>å¼€æŠ•å½±ä»ª</li><li>å¼€éŸ³å“</li><li>å¼€DVDï¼Œé€‰dvd</li><li>å»æ‹¿çˆ†ç±³èŠ±</li><li>è°ƒæš—ç¯å…‰</li><li>æ’­æ”¾</li><li>è§‚å½±ç»“æŸåï¼Œå…³é—­å„ç§è®¾å¤‡</li></ul><p><strong>ä¼ ç»Ÿæ–¹å¼è§£å†³å½±é™¢ç®¡ç†</strong></p><p><img src="`+Rn+`" alt="ä¼ ç»Ÿæ–¹å¼è§£å†³å½±é™¢ç®¡ç†"></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">ClientTest</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 1ã€åˆ›å»ºç›¸å…³çš„å¯¹è±¡</span></span>
<span class="line">        <span class="token comment">// 2ã€è°ƒç”¨åˆ›å»ºçš„å„ä¸ªå¯¹è±¡çš„ä¸€ç³»åˆ—æ–¹æ³•</span></span>
<span class="line">        <span class="token comment">// 3ã€è°ƒç”¨DVDPlayerå¯¹è±¡çš„playæ–¹æ³•</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼ ç»Ÿæ–¹å¼è§£å†³å½±é™¢ç®¡ç†é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰åœ¨ ClientTest çš„ main æ–¹æ³•ä¸­ï¼Œåˆ›å»ºå„ä¸ªå­ç³»ç»Ÿçš„å¯¹è±¡ï¼Œå¹¶ç›´æ¥å»è°ƒç”¨å­ç³»ç»Ÿï¼ˆå¯¹è±¡ï¼‰ç›¸å…³æ–¹æ³•ï¼Œä¼šé€ æˆè°ƒç”¨è¿‡ç¨‹æ··ä¹±ï¼Œæ²¡æœ‰æ¸…æ™°çš„è¿‡ç¨‹</li><li>2ï¼‰ä¸åˆ©äºåœ¨ ClientTest ä¸­å»ç»´æŠ¤å¯¹å­ç³»ç»Ÿçš„æ“ä½œ</li><li>3ï¼‰è§£å†³æ€è·¯ï¼šå®šä¹‰ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œç»™å­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ª<mark>ä¸€è‡´çš„ç•Œé¢ï¼ˆæ¯”å¦‚åœ¨é«˜å±‚æ¥å£æä¾›å››ä¸ªæ–¹æ³•readyï¼Œplayï¼Œpauseï¼Œendï¼‰</mark>ï¼Œç”¨æ¥è®¿é—®å­ç³»ç»Ÿä¸­çš„ä¸€ç¾¤æ¥å£</li><li>4ï¼‰ä¹Ÿå°±æ˜¯è¯´å°±æ˜¯é€šè¿‡å®šä¹‰ä¸€ä¸ªä¸€è‡´çš„æ¥å£ï¼ˆç•Œé¢ç±»ï¼‰ï¼Œç”¨ä»¥å±è”½å†…éƒ¨å­ç³»ç»Ÿçš„ç»†èŠ‚ï¼Œä½¿å¾—è°ƒç”¨ç«¯åªéœ€è·Ÿè¿™ä¸ªæ¥å£å‘ç”Ÿè°ƒç”¨ï¼Œè€Œæ— éœ€å…³å¿ƒè¿™ä¸ªå­ç³»ç»Ÿçš„å†…éƒ¨ç»†èŠ‚ ==ã€‹å¤–è§‚æ¨¡å¼</li></ul><h3 id="_2ã€å¤–è§‚æ¨¡å¼åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€å¤–è§‚æ¨¡å¼åŸºæœ¬ä»‹ç»"><span>2ã€å¤–è§‚æ¨¡å¼åŸºæœ¬ä»‹ç»</span></a></h3><p>å¤–è§‚æ¨¡å¼ï¼ˆFacadeï¼‰ï¼Œä¹Ÿå«<mark>è¿‡ç¨‹æ¨¡å¼</mark></p><p>å¤–è§‚æ¨¡å¼ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œæ­¤æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œç”¨ä»¥å±è”½å†…éƒ¨å­ç³»ç»Ÿçš„ç»†èŠ‚ï¼Œä½¿å¾—è°ƒç”¨ç«¯åªéœ€è·Ÿè¿™ä¸ªæ¥å£å‘ç”Ÿè°ƒç”¨ï¼Œè€Œæ— éœ€å…³å¿ƒè¿™ä¸ªå­ç³»ç»Ÿçš„å†…éƒ¨ç»†èŠ‚ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨</p><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="`+Hn+'" alt="å¤–è§‚æ¨¡å¼åŸç†ç±»å›¾"></p><p><strong>åŸç†ç±»å›¾çš„è¯´æ˜ï¼ˆå¤–è§‚æ¨¡å¼çš„è§’è‰²ï¼‰</strong></p><ul><li>1ï¼‰å¤–è§‚ç±»ï¼ˆFacadeï¼‰ï¼šä¸ºè°ƒç”¨ç«¯æä¾›ç»Ÿä¸€çš„è°ƒç”¨æ¥å£ï¼Œå¤–è§‚ç±»çŸ¥é“å“ªäº›å­ç³»ç»Ÿè´Ÿè´£å¤„ç†è¯·æ±‚ï¼Œä»è€Œå°†è°ƒç”¨ç«¯çš„è¯·æ±‚ä»£ç†ç»™é€‚å½“å­ç³»ç»Ÿå¯¹è±¡</li><li>2ï¼‰è°ƒç”¨è€…ï¼ˆClientï¼‰ï¼šå¤–è§‚æ¥å£çš„è°ƒç”¨è€…</li><li>3ï¼‰å­ç³»ç»Ÿçš„é›†åˆï¼šæŒ‡æ¨¡å—æˆ–è€…å­ç³»ç»Ÿï¼Œå¤„ç† Facade å¯¹è±¡æŒ‡æ´¾çš„ä»»åŠ¡ï¼Œæ˜¯åŠŸèƒ½çš„å®é™…æä¾›è€…</li></ul><h3 id="_3ã€å¤–è§‚æ¨¡å¼è§£å†³å½±é™¢ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_3ã€å¤–è§‚æ¨¡å¼è§£å†³å½±é™¢ç®¡ç†"><span>3ã€å¤–è§‚æ¨¡å¼è§£å†³å½±é™¢ç®¡ç†</span></a></h3><ul><li>1ï¼‰å¤–è§‚æ¨¡å¼å¯ä»¥ç†è§£ä¸ºè½¬æ¢ä¸€ç¾¤æ¥å£ï¼Œå®¢æˆ·åªè¦è°ƒç”¨ä¸€ä¸ªæ¥å£ï¼Œè€Œä¸ç”¨è°ƒç”¨å¤šä¸ªæ¥å£æ‰èƒ½è¾¾åˆ°ç›®çš„ï¼Œæ¯”å¦‚ï¼š <ul><li>åœ¨ PC ä¸Šå®‰è£…è½¯ä»¶çš„æ—¶å€™ç»å¸¸æœ‰ä¸€é”®å®‰è£…é€‰é¡¹ï¼ˆçœå»é€‰æ‹©å®‰è£…ç›®å½•ã€å®‰è£…çš„ç»„ä»¶ç­‰ç­‰ï¼‰</li><li>æ‰‹æœºçš„é‡å¯åŠŸèƒ½ï¼ˆæŠŠå…³æœºå’Œå¯åŠ¨åˆä¸ºä¸€ä¸ªæ“ä½œï¼‰</li></ul></li><li>2ï¼‰å¤–è§‚æ¨¡å¼å°±æ˜¯è§£å†³å¤šä¸ªå¤æ‚æ¥å£å¸¦æ¥çš„ä½¿ç”¨å›°éš¾ï¼Œèµ·åˆ°ç®€åŒ–ç”¨æˆ·æ“ä½œçš„ä½œç”¨</li></ul><p><img src="'+Ln+'" alt="image-20211027210310018"></p><p><strong>ä½¿ç”¨å¤–è§‚æ¨¡å¼æ¥å®Œæˆå®¶åº­å½±é™¢é¡¹ç›®</strong></p><p><img src="'+Nn+'" alt="æœªå‘½åæ–‡ä»¶ (2)"></p><p><strong>UML ç±»å›¾</strong></p><p><img src="'+Wn+`" alt="image-20211027224917586"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>ã€æŠ•å½±ä»ªã€‘</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Projector</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Projector</span> projector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Projector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Projector</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> projector<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰“å¼€æŠ•å½±ä»ª...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å…³é—­æŠ•å½±ä»ª...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æŠ•å½±ä»ªèšç„¦...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">zoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æŠ•å½±ä»ªæ”¾å¤§...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€DVD æ’­æ”¾å™¨ã€‘</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DVDPlayer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">DVDPlayer</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DVDPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">DVDPlayer</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> player<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰“å¼€DVDæ’­æ”¾å™¨...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å…³é—­DVDæ’­æ”¾å™¨...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ’­æ”¾DVDæ’­æ”¾å™¨...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æš‚åœDVDæ’­æ”¾å™¨...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDvd</span><span class="token punctuation">(</span><span class="token class-name">String</span> dvd<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é€‰dvdï¼š&quot;</span> <span class="token operator">+</span> dvd <span class="token operator">+</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€è§å¹•ã€‘</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Screen</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Screen</span> screen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Screen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Screen</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> screen<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å‡èµ·è§å¹•...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‹‰ä¸‹è§å¹•...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€ç«‹ä½“å£°ã€‘</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Stereo</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Stereo</span> stereo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stereo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Stereo</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> stereo<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰“å¼€ç«‹ä½“å£°...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å…³é—­ç«‹ä½“å£°...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setVolume</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> volume<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç«‹ä½“å£°éŸ³é‡+&quot;</span> <span class="token operator">+</span> volume <span class="token operator">+</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€ç¯å…‰ã€‘</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TheaterLights</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">TheaterLights</span> lights <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TheaterLights</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">TheaterLights</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> lights<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰“å¼€ç¯å…‰...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å…³é—­ç¯å…‰...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è°ƒæš—ç¯å…‰...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bright</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è°ƒäº®ç¯å…‰...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€çˆ†ç±³èŠ±æœºå™¨ã€‘</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Popcorn</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Popcorn</span> popcorn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Popcorn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Popcorn</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> popcorn<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰“å¼€çˆ†ç±³èŠ±æœºå™¨...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å…³é—­çˆ†ç±³èŠ±æœºå™¨...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å–å‡ºçˆ†ç±³èŠ±...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€å®¶åº­å½±é™¢ Facadeã€‘</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HomeTheaterFacade</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Popcorn</span> popcorn<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Screen</span> screen<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Stereo</span> stereo<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">TheaterLights</span> lights<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Projector</span> projector<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">DVDPlayer</span> player<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">HomeTheaterFacade</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>popcorn <span class="token operator">=</span> <span class="token class-name">Popcorn</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>screen <span class="token operator">=</span> <span class="token class-name">Screen</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>stereo <span class="token operator">=</span> <span class="token class-name">Stereo</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>lights <span class="token operator">=</span> <span class="token class-name">TheaterLights</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>projector <span class="token operator">=</span> <span class="token class-name">Projector</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>player <span class="token operator">=</span> <span class="token class-name">DVDPlayer</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        lights<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å¼€ç¯å…‰</span></span>
<span class="line">        popcorn<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¼€çˆ†ç±³èŠ±æœº</span></span>
<span class="line">        screen<span class="token punctuation">.</span><span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ”¾ä¸‹å±å¹•</span></span>
<span class="line">        projector<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¼€æŠ•å½±ä»ª</span></span>
<span class="line">        projector<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        projector<span class="token punctuation">.</span><span class="token function">zoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        stereo<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¼€éŸ³å“ï¼Œè®¾ç½®éŸ³é‡</span></span>
<span class="line">        stereo<span class="token punctuation">.</span><span class="token function">setVolume</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        player<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¼€DVDï¼Œé€‰dvd</span></span>
<span class="line">        player<span class="token punctuation">.</span><span class="token function">setDvd</span><span class="token punctuation">(</span><span class="token string">&quot;å¦å¡”å°¼å…‹å·&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        popcorn<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å»æ‹¿çˆ†ç±³èŠ±ï¼Œå…³é—­æœºå™¨</span></span>
<span class="line">        popcorn<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        lights<span class="token punctuation">.</span><span class="token function">dim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒæš—ç¯å…‰</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        player<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        player<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        player<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        projector<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        stereo<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        lights<span class="token punctuation">.</span><span class="token function">bright</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        screen<span class="token punctuation">.</span><span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€å®¢æˆ·ç«¯ã€‘</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">HomeTheaterFacade</span> homeTheaterFacade <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HomeTheaterFacade</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;===========å®¶åº­å½±é™¢åˆå§‹åŒ–============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        homeTheaterFacade<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;===========å®¶åº­å½±é™¢æ²‰æµ¸å¼æ’­æ”¾============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        homeTheaterFacade<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;===========å®¶åº­å½±é™¢æš‚åœ============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        homeTheaterFacade<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;===========å®¶åº­å½±é™¢æ²‰æµ¸å¼æ’­æ”¾============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        homeTheaterFacade<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;===========å®¶åº­å½±é™¢ç»“æŸ============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        homeTheaterFacade<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€mybatis-æ¡†æ¶æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_4ã€mybatis-æ¡†æ¶æºç åˆ†æ"><span>4ã€MyBatis æ¡†æ¶æºç åˆ†æ</span></a></h3><p>MyBatis ä¸­ Configuration å»åˆ›å»º MetaObject å¯¹è±¡æ—¶ä½¿ç”¨åˆ°äº†å¤–è§‚æ¨¡å¼</p><p><strong>ä»£ç åˆ†æ</strong></p><p><img src="`+Un+'" alt="image-20211204162630730"></p><p><img src="'+Jn+'" alt="image-20211204162725272"></p><p><strong>ç¤ºæ„å›¾</strong></p><p><img src="'+Kn+'" alt="image-20211204164131376"></p><h3 id="_5ã€å¤–è§‚æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_5ã€å¤–è§‚æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>5ã€å¤–è§‚æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰å¤–è§‚æ¨¡å¼å¯¹å¤–å±è”½äº†å­ç³»ç»Ÿçš„ç»†èŠ‚ï¼Œå› æ­¤å¤–è§‚æ¨¡å¼é™ä½äº†å®¢æˆ·ç«¯å¯¹å­ç³»ç»Ÿä½¿ç”¨çš„å¤æ‚æ€§</li><li>2ï¼‰å¤–è§‚æ¨¡å¼å¯¹å®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿçš„è€¦åˆå…³ç³»ï¼Œè®©å­ç³»ç»Ÿå†…éƒ¨çš„æ¨¡å—æ›´æ˜“ç»´æŠ¤å’Œæ‰©å±•</li><li>3ï¼‰é€šè¿‡åˆç†çš„ä½¿ç”¨å¤–è§‚æ¨¡å¼ï¼Œå¯ä»¥å¸®æˆ‘ä»¬æ›´å¥½çš„åˆ’åˆ†è®¿é—®çš„å±‚æ¬¡</li><li>4ï¼‰å½“ç³»ç»Ÿéœ€è¦è¿›è¡Œåˆ†å±‚è®¾è®¡æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Facade æ¨¡å¼</li><li>5ï¼‰åœ¨ç»´æŠ¤ä¸€ä¸ªé—ç•™çš„å¤§å‹ç³»ç»Ÿæ—¶ï¼Œå¯èƒ½è¿™ä¸ªç³»ç»Ÿå·²ç»å˜å¾—éå¸¸éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•ï¼Œæ­¤æ—¶å¯ä»¥è€ƒè™‘ä¸ºæ–°ç³»ç»Ÿå¼€å‘ä¸€ä¸ª Facade ç±»ï¼Œæ¥æä¾›é—ç•™ç³»ç»Ÿçš„æ¯”è¾ƒæ¸…æ™°ç®€å•çš„æ¥å£ï¼Œè®©æ–°ç³»ç»Ÿä¸ Facade ç±»äº¤äº’ï¼Œæé«˜å¤ç”¨æ€§</li><li>6ï¼‰ä¸èƒ½è¿‡å¤šçš„æˆ–è€…ä¸åˆç†çš„ä½¿ç”¨å¤–è§‚æ¨¡å¼ï¼Œä½¿ç”¨å¤–è§‚æ¨¡å¼å¥½ï¼Œè¿˜æ˜¯ç›´æ¥è°ƒç”¨æ¨¡å—å¥½ã€‚è¦ä»¥è®©ç³»ç»Ÿæœ‰å±‚æ¬¡ï¼Œåˆ©äºç»´æŠ¤ä¸ºç›®çš„</li></ul><h2 id="ã€11ã€‘äº«å…ƒæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€11ã€‘äº«å…ƒæ¨¡å¼"><span>ã€11ã€‘äº«å…ƒæ¨¡å¼</span></a></h2><h3 id="_1ã€å±•ç¤ºç½‘ç«™é¡¹ç›®éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_1ã€å±•ç¤ºç½‘ç«™é¡¹ç›®éœ€æ±‚"><span>1ã€å±•ç¤ºç½‘ç«™é¡¹ç›®éœ€æ±‚</span></a></h3><p>å°å‹çš„å¤–åŒ…é¡¹ç›®ï¼Œç»™å®¢æˆ· A åšä¸€ä¸ªäº§å“å±•ç¤ºç½‘ç«™ï¼Œå®¢æˆ· A çš„æœ‹å‹æ„Ÿè§‰æ•ˆæœä¸é”™ï¼Œä¹Ÿå¸Œæœ›åšè¿™æ ·çš„äº§å“å±•ç¤ºç½‘ç«™ï¼Œä½†æ˜¯è¦æ±‚éƒ½æœ‰äº›ä¸åŒï¼š</p><ul><li>1ï¼‰æœ‰å®¢æˆ·è¦æ±‚ä»¥æ–°é—»çš„å½¢å¼å‘å¸ƒ</li><li>2ï¼‰æœ‰å®¢æˆ·äººè¦æ±‚ä»¥åšå®¢çš„å½¢å¼å‘å¸ƒ</li><li>3ï¼‰æœ‰å®¢æˆ·å¸Œæœ›ä»¥å¾®ä¿¡å…¬ä¼—å·çš„å½¢å¼å‘å¸ƒ</li></ul><p><strong>ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³ç½‘ç«™å±•ç°é¡¹ç›®</strong></p><ul><li>1ï¼‰ç›´æ¥å¤åˆ¶ç²˜è´´ä¸€ä»½ï¼Œç„¶åæ ¹æ®å®¢æˆ·ä¸åŒè¦æ±‚ï¼Œè¿›è¡Œå®šåˆ¶ä¿®æ”¹</li><li>2ï¼‰ç»™æ¯ä¸ªç½‘ç«™ç§Ÿç”¨ä¸€ä¸ªç©ºé—´</li><li>3ï¼‰æ–¹æ¡ˆè®¾è®¡ç¤ºæ„å›¾</li></ul><p><img src="'+Gn+'" alt="image-20211203213310930"></p><p><strong>ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³ç½‘ç«™å±•ç°é¡¹ç›®-é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰éœ€è¦çš„ç½‘ç«™ç»“æ„ç›¸ä¼¼åº¦å¾ˆé«˜ï¼Œè€Œä¸”éƒ½ä¸æ˜¯é«˜é—®é‡ç½‘ç«™ï¼Œå¦‚æœåˆ†æˆå¤šä¸ªè™šæ‹Ÿç©ºé—´æ¥å¤„ç†ï¼Œç›¸å½“äºä¸€ä¸ªç›¸åŒç½‘ç«™çš„å®ä¾‹å¯¹è±¡å¾ˆå¤šï¼Œé€ æˆæœåŠ¡å™¨çš„<mark>èµ„æºæµªè´¹</mark></li><li>2ï¼‰è§£å†³æ€è·¯ï¼š<mark>æ•´åˆåˆ°ä¸€ä¸ªç½‘ç«™ä¸­ï¼Œå…±äº«å…¶ç›¸å…³çš„ä»£ç å’Œæ•°æ®</mark>ï¼Œå¯¹äºç¡¬ç›˜ã€å†…å­˜ã€CPUã€æ•°æ®åº“ç©ºé—´ç­‰æœåŠ¡å™¨èµ„æºéƒ½å¯ä»¥è¾¾æˆå…±äº«ï¼Œå‡å°‘æœåŠ¡å™¨èµ„æº</li><li>3ï¼‰å¯¹äºä»£ç æ¥è¯´ï¼Œç”±äºæ˜¯ä¸€ä»½å®ä¾‹ï¼Œç»´æŠ¤å’Œæ‰©å±•éƒ½æ›´åŠ å®¹æ˜“</li><li>4ï¼‰ä¸Šé¢çš„è§£å†³æ€è·¯å°±å¯ä»¥ä½¿ç”¨<strong>äº«å…ƒæ¨¡å¼</strong>æ¥è§£å†³</li></ul><h3 id="_2ã€äº«å…ƒæ¨¡å¼åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€äº«å…ƒæ¨¡å¼åŸºæœ¬ä»‹ç»"><span>2ã€äº«å…ƒæ¨¡å¼åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ä¹Ÿå«<strong>è‡é‡æ¨¡å¼</strong>ï¼š<mark>è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡</mark></li><li>2ï¼‰<mark>å¸¸ç”¨äºç³»ç»Ÿåº•å±‚å¼€å‘ï¼Œè§£å†³ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜</mark>ã€‚åƒæ•°æ®åº“è¿æ¥æ± ï¼Œé‡Œé¢éƒ½æ˜¯åˆ›å»ºå¥½çš„è¿æ¥å¯¹è±¡ï¼Œåœ¨è¿™äº›è¿æ¥å¯¹è±¡ä¸­æœ‰æˆ‘ä»¬éœ€è¦çš„åˆ™ç›´æ¥æ‹¿æ¥ç”¨ï¼Œé¿å…é‡æ–°åˆ›å»ºï¼Œå¦‚æœæ²¡æœ‰æˆ‘ä»¬éœ€è¦çš„ï¼Œåˆ™åˆ›å»ºä¸€ä¸ª</li><li>3ï¼‰äº«å…ƒæ¨¡å¼èƒ½å¤Ÿ<mark>è§£å†³é‡å¤å¯¹è±¡çš„å†…å­˜æµªè´¹çš„é—®é¢˜</mark>ã€‚å½“ç³»ç»Ÿä¸­æœ‰å¤§é‡ç›¸ä¼¼å¯¹è±¡ï¼Œéœ€è¦ç¼“å†²æ± æ—¶ï¼Œä¸éœ€æ€»æ˜¯åˆ›å»ºæ–°å¯¹è±¡ï¼Œå¯ä»¥ä»ç¼“å†²æ± é‡Œæ‹¿ã€‚è¿™æ ·å¯ä»¥<mark>é™ä½ç³»ç»Ÿå†…å­˜ï¼ŒåŒæ—¶æé«˜æ•ˆç‡</mark></li><li>4ï¼‰<mark>äº«å…ƒæ¨¡å¼ç»å…¸çš„åº”ç”¨åœºæ™¯å°±æ˜¯æ± æŠ€æœ¯äº†ï¼ŒStringå¸¸é‡æ± ã€æ•°æ®åº“è¿æ¥æ± ã€ç¼“å†²æ± ç­‰ç­‰éƒ½æ˜¯äº«å…ƒæ¨¡å¼çš„åº”ç”¨</mark>ï¼Œäº«å…ƒæ¨¡å¼æ˜¯æ± æŠ€æœ¯çš„é‡è¦å®ç°æ–¹å¼</li></ul><p><img src="'+Xn+'" alt="image-20211203214444968"></p><h3 id="_3ã€äº«å…ƒæ¨¡å¼çš„åŸç†ç±»å›¾" tabindex="-1"><a class="header-anchor" href="#_3ã€äº«å…ƒæ¨¡å¼çš„åŸç†ç±»å›¾"><span>3ã€äº«å…ƒæ¨¡å¼çš„åŸç†ç±»å›¾</span></a></h3><p><img src="'+Qn+'" alt="image-20211203215034074"></p><p><strong>å¯¹åŸç†å›¾çš„è¯´æ˜â€”â€”å³æ¨¡å¼çš„è§’è‰²å’ŒèŒè´£</strong></p><ul><li>1ï¼‰Flyweightï¼šæŠ½è±¡çš„äº«å…ƒè§’è‰²ï¼Œæ˜¯æŠ½è±¡çš„äº§å“ç±»ï¼ŒåŒæ—¶å®šä¹‰å‡ºå¯¹è±¡çš„<mark>å¤–éƒ¨çŠ¶æ€</mark>å’Œ<mark>å†…éƒ¨çŠ¶æ€</mark>çš„æ¥å£å’Œå®ç°</li><li>2ï¼‰ConcreteFlyweightï¼šå…·ä½“çš„äº«å…ƒè§’è‰²ï¼Œæ˜¯å…·ä½“çš„äº§å“ç±»ï¼Œå®ç°æŠ½è±¡è§’è‰²å®šä¹‰çš„ç›¸å…³ä¸šåŠ¡</li><li>3ï¼‰UnsharedConcreteFlyweightï¼šä¸å¯å…±äº«çš„è§’è‰²ï¼Œä¸€èˆ¬ä¸ä¼šå‡ºç°åœ¨äº«å…ƒå·¥å‚ä¸­</li><li>4ï¼‰FlyweightFactoryï¼šäº«å…ƒå·¥å‚ç±»ï¼Œç”¨äºæ„å»ºä¸€ä¸ªæ± å®¹å™¨ï¼ˆé›†åˆï¼‰ï¼ŒåŒæ—¶æä¾›ä»æ± ä¸­è·å–å¯¹è±¡çš„æ–¹æ³•</li></ul><h3 id="_4ã€å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#_4ã€å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€"><span>4ã€å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€</span></a></h3><p>æ¯”å¦‚å›´æ£‹ã€äº”å­æ£‹ã€è·³æ£‹ï¼Œå®ƒä»¬éƒ½æœ‰å¤§é‡çš„æ£‹å­å¯¹è±¡ï¼Œå›´æ£‹å’Œäº”å­æ£‹åªæœ‰é»‘ç™½ä¸¤è‰²ï¼Œè·³æ£‹é¢œè‰²å¤šä¸€ç‚¹ã€‚æ‰€ä»¥æ£‹å­é¢œè‰²å°±æ˜¯æ£‹å­çš„å†…éƒ¨çŠ¶æ€ï¼›è€Œå„ä¸ªæ£‹å­ä¹‹é—´çš„å·®åˆ«å°±æ˜¯ä½ç½®çš„ä¸åŒã€‚å½“æˆ‘ä»¬è½å­åï¼Œè½å­é¢œè‰²æ˜¯å®šçš„ï¼Œä½†ä½ç½®æ˜¯å˜åŒ–çš„ï¼Œæ‰€ä»¥æ£‹å­åæ ‡å°±æ˜¯æ£‹å­çš„å¤–éƒ¨çŠ¶æ€</p><ul><li>1ï¼‰äº«å…ƒæ¨¡å¼æå‡ºäº†ä¸¤ä¸ªè¦æ±‚ï¼š<mark>ç»†ç²’åº¦å’Œå…±äº«å¯¹è±¡</mark>ã€‚å³å°†å¯¹è±¡çš„ä¿¡æ¯åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šå†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€</li><li>2ï¼‰<strong>å†…éƒ¨çŠ¶æ€</strong>ï¼šæŒ‡å¯¹è±¡å…±äº«å‡ºæ¥çš„ä¿¡æ¯ï¼Œå­˜å‚¨åœ¨äº«å…ƒå¯¹è±¡å†…éƒ¨ä¸”ä¸ä¼šéšç¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜</li><li>3ï¼‰<strong>å¤–éƒ¨çŠ¶æ€</strong>ï¼šæŒ‡å¯¹è±¡å¾—ä»¥ä¾èµ–çš„ä¸€ä¸ªæ ‡è®°ï¼Œæ˜¯éšç¯å¢ƒæ”¹å˜è€Œæ”¹å˜çš„ã€ä¸å¯å…±äº«çš„çŠ¶æ€</li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼šå›´æ¨¡ç†è®ºä¸Šæœ‰ 361 ä¸ªç©ºä½å¯ä»¥æ”¾æ£‹å­ï¼Œæ¯ç›˜æ£‹éƒ½æœ‰å¯èƒ½æœ‰ä¸¤ä¸‰ç™¾ä¸ªæ£‹å­å¯¹è±¡äº§ç”Ÿã€‚å› ä¸ºå†…å­˜ç©ºé—´æœ‰é™ï¼Œä¸€å°æœåŠ¡å™¨å¾ˆéš¾æ”¯æŒæ›´å¤šçš„ç©å®¶ç©å›´æ¨¡æ¸¸æˆã€‚å¦‚æœç”¨äº«å…ƒæ¨¡å¼æ¥å¤„ç†æ£‹å­ï¼Œé‚£ä¹ˆæ£‹å­å¯¹è±¡å°±å¯ä»¥å‡å°‘åˆ°åªæœ‰ä¸¤ä¸ªå®ä¾‹ï¼Œè¿™æ ·å°±å¾ˆå¥½çš„è§£å†³äº†å¯¹è±¡çš„å¼€é”€é—®é¢˜</p><h3 id="_5ã€äº«å…ƒæ¨¡å¼è§£å†³ç½‘ç«™å±•ç°é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#_5ã€äº«å…ƒæ¨¡å¼è§£å†³ç½‘ç«™å±•ç°é¡¹ç›®"><span>5ã€äº«å…ƒæ¨¡å¼è§£å†³ç½‘ç«™å±•ç°é¡¹ç›®</span></a></h3><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+Zn+'" alt="image-20211204200105089"></p><p><strong>UML ç±»å›¾</strong></p><p><img src="'+Yn+`" alt="image-20211204203743995"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å†…éƒ¨çŠ¶æ€ï¼Œå…±äº«è§’è‰²</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Type</span> <span class="token punctuation">{</span></span>
<span class="line">    æ–°é—»<span class="token punctuation">,</span></span>
<span class="line">    åšå®¢<span class="token punctuation">,</span></span>
<span class="line">    å¾®ä¿¡å…¬ä¼—å·</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å¤–éƒ¨çŠ¶æ€ï¼Œéå…±äº«è§’è‰²</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡çš„äº«å…ƒè§’è‰²</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Website</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">use</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å…·ä½“çš„äº«å…ƒè§’è‰²</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteWebsite</span> <span class="token keyword">extends</span> <span class="token class-name">Website</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Type</span> type<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ConcreteWebsite</span><span class="token punctuation">(</span><span class="token class-name">Type</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">use</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç½‘ç«™æ­£åœ¨ä½¿ç”¨ä¸­ï¼šç±»å‹ä¸º&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ï¼Œä½¿ç”¨è€…ä¸º&quot;</span> <span class="token operator">+</span> user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * äº«å…ƒå·¥å‚ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebsiteFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Type</span><span class="token punctuation">,</span> <span class="token class-name">Website</span><span class="token punctuation">&gt;</span></span> pool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Website</span> <span class="token function">getWebsiteCategory</span><span class="token punctuation">(</span><span class="token class-name">Type</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>pool<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            pool<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteWebsite</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> pool<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> pool<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">Website</span> newsWebsite <span class="token operator">=</span> <span class="token class-name">WebsiteFactory</span><span class="token punctuation">.</span><span class="token function">getWebsiteCategory</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>æ–°é—»<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">newsWebsite<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Website</span> blogWebsite1 <span class="token operator">=</span> <span class="token class-name">WebsiteFactory</span><span class="token punctuation">.</span><span class="token function">getWebsiteCategory</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>åšå®¢<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">blogWebsite1<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Website</span> blogWebsite2 <span class="token operator">=</span> <span class="token class-name">WebsiteFactory</span><span class="token punctuation">.</span><span class="token function">getWebsiteCategory</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>åšå®¢<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">blogWebsite2<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Website</span> blogWebsite3 <span class="token operator">=</span> <span class="token class-name">WebsiteFactory</span><span class="token punctuation">.</span><span class="token function">getWebsiteCategory</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>åšå®¢<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">blogWebsite3<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Smith&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Website</span> wxWebsite <span class="token operator">=</span> <span class="token class-name">WebsiteFactory</span><span class="token punctuation">.</span><span class="token function">getWebsiteCategory</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">.</span>å¾®ä¿¡å…¬ä¼—å·<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">wxWebsite<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Mack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">WebsiteFactory</span><span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//ç½‘ç«™æ­£åœ¨ä½¿ç”¨ä¸­ï¼šç±»å‹ä¸ºæ–°é—»ï¼Œä½¿ç”¨è€…ä¸ºTom</span></span>
<span class="line"><span class="token comment">//ç½‘ç«™æ­£åœ¨ä½¿ç”¨ä¸­ï¼šç±»å‹ä¸ºåšå®¢ï¼Œä½¿ç”¨è€…ä¸ºJerry</span></span>
<span class="line"><span class="token comment">//ç½‘ç«™æ­£åœ¨ä½¿ç”¨ä¸­ï¼šç±»å‹ä¸ºåšå®¢ï¼Œä½¿ç”¨è€…ä¸ºJohn</span></span>
<span class="line"><span class="token comment">//ç½‘ç«™æ­£åœ¨ä½¿ç”¨ä¸­ï¼šç±»å‹ä¸ºåšå®¢ï¼Œä½¿ç”¨è€…ä¸ºSmith</span></span>
<span class="line"><span class="token comment">//ç½‘ç«™æ­£åœ¨ä½¿ç”¨ä¸­ï¼šç±»å‹ä¸ºå¾®ä¿¡å…¬ä¼—å·ï¼Œä½¿ç”¨è€…ä¸ºMack</span></span>
<span class="line"><span class="token comment">//3</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6ã€integer-æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_6ã€integer-æºç åˆ†æ"><span>6ã€Integer æºç åˆ†æ</span></a></h3><p>é¦–å…ˆå…ˆçœ‹ä¸€æ®µä»£ç æµ‹è¯•</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">Integer</span> x <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Integer</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Integer</span> z <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Integer</span> w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x <span class="token operator">==</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x <span class="token operator">==</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// true</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>w <span class="token operator">==</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>w <span class="token operator">==</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬çŸ¥é“ï¼š<code>equals</code>æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å®¹ï¼Œ<code>==</code>æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å®ä¾‹</p><ul><li><code>x.equals(y)</code>ç»“æœä¸º<code>true</code>ï¼šæ¯”è¾ƒçš„æ˜¯å¤§å°ï¼Œæ‰€ä»¥ç»“æœä¸º<code>true</code></li><li><code>x == y</code>ã€<code>w == x</code>ã€<code>w == y</code>ç»“æœä¸º<code>false</code>ï¼šç”±äº y æ˜¯ new å‡ºæ¥çš„ï¼Œæ‰€ä»¥ç»“æœä¸º<code>false</code></li><li><code>x == z</code>ç»“æœä¸º<code>true</code>ï¼š<strong>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿï¼Ÿ</strong></li></ul><p>æˆ‘ä»¬è¿½è¸ªä¸€ä¸‹<code>Integer</code>å¯¹è±¡çš„<code>valueOf</code>æ–¹æ³•ï¼Œçœ‹ä¸€ä¸‹æºç </p><p><img src="`+$n+'" alt="image-20211204215522874"></p><p>è¿™é‡Œçš„<code>low</code>å’Œ<code>high</code>æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p><p><img src="'+ns+'" alt="image-20211204215651116"></p><p>æˆ‘ä»¬é€šè¿‡<code>IntegerCache</code>ä¸­æºç å¤§æ¦‚åŸºæœ¬åˆ†æå‡º</p><ul><li><code>low</code>ä¸º<code>-128</code></li><li><code>high</code>ä¸º<code>127</code></li></ul><p>æ‰€ä»¥å½“<code>Integer</code>åœ¨<code>[-128, 127]</code>æ—¶ï¼Œä¼šè¿”å›<code>IntegerCache</code>çš„<code>cache[]</code>æ•°ç»„å†…å®¹ï¼›å¦åˆ™ï¼Œ<code>valueOf</code>æ–¹æ³•ç›¸å½“äº<code>new Integer</code>äº†</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>Integer.valueOf(x)</code>æ–¹æ³•ä½¿ç”¨çš„å°±æ˜¯<strong>äº«å…ƒæ¨¡å¼</strong></p><p>å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ†æå‡ºï¼š</p><ul><li><mark>å½“æ•°å€¼èŒƒå›´åœ¨<code>[-128, 127]</code>æ—¶ï¼Œä½¿ç”¨<code>valueOf</code>æ–¹æ³•æ‰§è¡Œé€Ÿåº¦æ¯”<code>new</code>æ›´å¿«</mark></li></ul><h3 id="_7ã€äº«å…ƒæ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_7ã€äº«å…ƒæ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>7ã€äº«å…ƒæ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰åœ¨äº«å…ƒæ¨¡å¼è¿™æ ·ç†è§£ï¼Œ<mark>â€œäº«â€å°±è¡¨ç¤ºå…±äº«ï¼Œâ€œå…ƒâ€è¡¨ç¤ºå¯¹è±¡</mark></li><li>2ï¼‰ç³»ç»Ÿä¸­æœ‰å¤§é‡å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡æ¶ˆè€—å¤§é‡å†…å­˜ï¼Œå¹¶ä¸”å¯¹è±¡çš„çŠ¶æ€å¤§éƒ¨åˆ†å¯ä»¥å¤–éƒ¨åŒ–æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘é€‰ç”¨äº«å…ƒæ¨¡å¼</li><li>3ï¼‰ç”¨å”¯ä¸€æ ‡è¯†ç åˆ¤æ–­ï¼Œå¦‚æœåœ¨å†…å­˜ä¸­æœ‰ï¼Œåˆ™è¿”å›è¿™ä¸ªå”¯ä¸€æ ‡è¯†ç æ‰€æ ‡è¯†çš„å¯¹è±¡ï¼Œç”¨ HashMap/HashTable å­˜å‚¨</li><li>4ï¼‰<mark>äº«å…ƒæ¨¡å¼å¤§å¤§å‡å°‘äº†å¯¹è±¡çš„åˆ›å»ºï¼Œé™ä½äº†ç¨‹åºå†…å­˜çš„å ç”¨ï¼Œæé«˜æ•ˆç‡</mark></li><li>5ï¼‰<mark>äº«å…ƒæ¨¡å¼æé«˜äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œéœ€è¦åˆ†ç¦»å‡ºå†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€</mark>ã€‚è€Œå¤–éƒ¨çŠ¶æ€å…·æœ‰å›ºåŒ–ç‰¹æ€§ï¼Œä¸åº”è¯¥éšç€å†…éƒ¨çŠ¶æ€çš„æ”¹å˜è€Œæ”¹å˜ï¼Œè¿™æ˜¯æˆ‘ä»¬ä½¿ç”¨äº«å…ƒæ¨¡å¼éœ€è¦æ³¨æ„çš„åœ°æ–¹</li><li>6ï¼‰ä½¿ç”¨äº«å…ƒæ¨¡å¼æ—¶ï¼Œæ³¨æ„åˆ’åˆ†å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€ï¼Œå¹¶ä¸”éœ€è¦æœ‰ä¸€ä¸ªå·¥å‚ç±»åŠ ä»¥æ§åˆ¶</li><li>7ï¼‰<mark>äº«å…ƒæ¨¡å¼ç»å…¸çš„åº”ç”¨åœºæ™¯æ˜¯éœ€è¦ç¼“å†²æ± çš„åœºæ™¯</mark>ï¼Œæ¯”å¦‚ String å¸¸é‡æ± ã€æ•°æ®åº“è¿æ¥æ± </li></ul><h2 id="ã€12ã€‘ä»£ç†æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€12ã€‘ä»£ç†æ¨¡å¼"><span>ã€12ã€‘ä»£ç†æ¨¡å¼</span></a></h2><h3 id="_1ã€åŸºæœ¬ä»‹ç»-1" tabindex="-1"><a class="header-anchor" href="#_1ã€åŸºæœ¬ä»‹ç»-1"><span>1ã€åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰ä»£ç†æ¨¡å¼ï¼šä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªæ›¿èº«ï¼Œä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚å³<mark>é€šè¿‡ä»£ç†å¯¹è±¡è®¿é—®ç›®æ ‡å¯¹è±¡</mark></li><li>2ï¼‰è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼šå¯ä»¥åœ¨ç›®æ ‡å¯¹è±¡å®ç°çš„åŸºç¡€ä¸Šï¼Œå¢å¼ºé¢å¤–çš„åŠŸèƒ½æ“ä½œï¼Œå³æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½</li><li>3ï¼‰è¢«ä»£ç†çš„å¯¹è±¡å¯ä»¥æ˜¯è¿œç¨‹å¯¹è±¡ã€åˆ›å»ºå¼€é”€å¤§çš„å¯¹è±¡æˆ–éœ€è¦å®‰å…¨æ§åˆ¶çš„å¯¹è±¡</li><li>4ï¼‰ä»£ç†æ¨¡å¼æœ‰ä¸åŒçš„å½¢å¼ï¼Œä¸»è¦æœ‰ä¸‰ç§ï¼š <ul><li><mark>é™æ€ä»£ç†</mark></li><li><mark>åŠ¨æ€ä»£ç†</mark>ï¼šJDK ä»£ç†ã€æ¥å£ä»£ç†</li><li><mark>Cglib ä»£ç†</mark>ï¼šå¯ä»¥åœ¨å†…å­˜åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡ï¼Œè€Œä¸éœ€è¦å®ç°æ¥å£ï¼Œå®ƒæ˜¯å±äºåŠ¨æ€ä»£ç†çš„èŒƒç•´</li></ul></li></ul><p><img src="'+ss+'" alt="image-20211208201506612"></p><h3 id="_2ã€é™æ€ä»£ç†" tabindex="-1"><a class="header-anchor" href="#_2ã€é™æ€ä»£ç†"><span>2ã€é™æ€ä»£ç†</span></a></h3><h4 id="_2-1ã€åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2-1ã€åŸºæœ¬ä»‹ç»"><span>2.1ã€åŸºæœ¬ä»‹ç»</span></a></h4><p>é™æ€ä»£ç†åœ¨ä½¿é‡Œæ—¶ï¼Œéœ€è¦å®šä¹‰æ¥å£æˆ–è€…çˆ¶ç±»ï¼Œè¢«ä»£ç†å¯¹è±¡ï¼ˆå³ç›®æ ‡å¯¹è±¡ï¼‰ä¸ä»£ç†å¯¹è±¡ä¸€èµ·å®ç°ç§ŸåŒçš„æ¥å£æˆ–è€…æ˜¯ç»§æ‰¿å’ŒåŒçˆ¶ç±»â€” åº”ç”¨å®ä¾‹</p><h4 id="_2-2ã€åº”ç”¨å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_2-2ã€åº”ç”¨å®ä¾‹"><span>2.2ã€åº”ç”¨å®ä¾‹</span></a></h4><ul><li>1ï¼‰å®šä¹‰ä¸€ä¸ªæ¥å£ï¼š<code>ITeacherDao</code></li><li>2ï¼‰ç›®æ ‡å¯¹è±¡<code>TeacherDAO</code>å®ç°æ¥å£<code>ITeacherDAO</code></li><li>3ï¼‰ä½¿ç”¨é™æ€ä»£ç†æ–¹å¼ï¼Œå°±éœ€è¦åœ¨ä»£ç†å¯¹è±¡<code>TeacherDAOProxy</code>ä¸­ä¹Ÿå®ç°<code>ITeacherDAO</code></li><li>4ï¼‰è°ƒç”¨çš„æ—¶å€™é€šè¿‡è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•æ¥è°ƒç”¨ç›®æ ‡å¯¹è±¡</li><li>5ï¼‰<strong>ç‰¹åˆ«æé†’</strong>ï¼šä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡è¦å®ç°ç›¸åŒçš„æ¥å£ï¼Œç„¶åé€šè¿‡è°ƒç”¨ç›¸åŒçš„æ–¹æ³•æ¥è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•</li></ul><p><strong>UML ç±»å›¾</strong></p><p><img src="'+as+'" alt="image-20211208211044367"></p><p><img src="'+ps+`" alt="image-20211208212227224"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä»£ç†æ¥å£</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ITeacherDao</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * è¢«ä»£ç†å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TeacherDao</span> <span class="token keyword">implements</span> <span class="token class-name">ITeacherDao</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€å¸ˆæˆè¯¾ä¸­...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä»£ç†å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TeacherDaoProxy</span> <span class="token keyword">implements</span> <span class="token class-name">ITeacherDao</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">ITeacherDao</span> iTeacherDao<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">TeacherDaoProxy</span><span class="token punctuation">(</span><span class="token class-name">ITeacherDao</span> iTeacherDao<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>iTeacherDao <span class="token operator">=</span> iTeacherDao<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å‡†å¤‡æˆè¯¾...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        iTeacherDao<span class="token punctuation">.</span><span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç»“æŸæˆè¯¾...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è°ƒç”¨ä»£ç†</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//åˆ›å»ºè¢«ä»£ç†å¯¹è±¡</span></span>
<span class="line"><span class="token class-name">TeacherDao</span> teacherDao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TeacherDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œèšåˆè¢«ä»£ç†å¯¹è±¡</span></span>
<span class="line"><span class="token class-name">TeacherDaoProxy</span> teacherDaoProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TeacherDaoProxy</span><span class="token punctuation">(</span>teacherDao<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//é€šè¿‡ä»£ç†å¯¹è±¡ï¼Œè°ƒç”¨è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•</span></span>
<span class="line">teacherDaoProxy<span class="token punctuation">.</span><span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3ã€é™æ€ä»£ç†ä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#_2-3ã€é™æ€ä»£ç†ä¼˜ç¼ºç‚¹"><span>2.3ã€é™æ€ä»£ç†ä¼˜ç¼ºç‚¹</span></a></h4><ul><li>1ï¼‰<strong>ä¼˜ç‚¹</strong>ï¼šåœ¨ä¸ä¿®æ”¹ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½å‰æä¸‹ï¼Œèƒ½é€šè¿‡ä»£ç†å¯¹è±¡å¯¹ç›®æ ‡åŠŸèƒ½æ‰©å±•</li><li>2ï¼‰<strong>ç¼ºç‚¹</strong>ï¼šå› ä¸ºä»£ç†å¯¹è±¡éœ€è¦ä¸ç›®æ ‡å¯¹è±¡å®ç°ä¸€æ ·çš„æ¥å£ï¼Œæ‰€ä»¥ä¼šæœ‰å¾ˆå¤šä»£ç†ç±»</li><li>3ï¼‰<strong>ç¼ºç‚¹</strong>ï¼šä¸€æ—¦æ¥å£å¢åŠ æ–¹æ³•ï¼Œç›®æ ‡å¯¹è±¡ä¸ä»£ç†å¯¹è±¡éƒ½è¦ç»´æŠ¤</li></ul><h3 id="_3ã€åŠ¨æ€ä»£ç†" tabindex="-1"><a class="header-anchor" href="#_3ã€åŠ¨æ€ä»£ç†"><span>3ã€åŠ¨æ€ä»£ç†</span></a></h3><h4 id="_3-1ã€åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_3-1ã€åŸºæœ¬ä»‹ç»"><span>3.1ã€åŸºæœ¬ä»‹ç»</span></a></h4><ul><li>1ï¼‰ä»£ç†å¯¹è±¡ä¸éœ€è¦å®ç°æ¥å£ï¼Œä½†æ˜¯ç›®æ ‡å¯¹è±¡è¦å®ç°æ¥å£ï¼Œå¦åˆ™ä¸èƒ½ç”¨åŠ¨æ€ä»£ç†</li><li>2ï¼‰ä»£ç†å¯¹è±¡çš„ç”Ÿæˆï¼Œæ˜¯åˆ©ç”¨ JDK çš„ APlï¼ŒåŠ¨æ€çš„åœ¨å†…å­˜ä¸­æ„å»ºä»£ç†å¯¹è±¡</li><li>3ï¼‰åŠ¨æ€ä»£ç†ä¹Ÿå«åšï¼š<mark>JDK ä»£ç†ã€æ¥å£ä»£ç†</mark></li></ul><h4 id="_3-2ã€jdk-ä¸­ç”Ÿæˆä»£ç†å¯¹è±¡çš„-api" tabindex="-1"><a class="header-anchor" href="#_3-2ã€jdk-ä¸­ç”Ÿæˆä»£ç†å¯¹è±¡çš„-api"><span>3.2ã€JDK ä¸­ç”Ÿæˆä»£ç†å¯¹è±¡çš„ API</span></a></h4><ul><li><p>1ï¼‰ä»£ç†ç±»æ‰€åœ¨åŒ…ï¼š<code>java.lang.reflect.Proxy</code></p></li><li><p>2ï¼‰JDK å®ç°ä»£ç†åªéœ€è¦ä½¿ç”¨<code>newProxyInstance</code>æ–¹æ³•ï¼Œä½†æ˜¯è¯¥æ–¹æ³•éœ€è¦æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œå®Œæ•´çš„å†™æ³•æ˜¯ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">newProxylnstance</span><span class="token punctuation">(</span><span class="token class-name">ClassLoader</span> loader<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> interfaces<span class="token punctuation">,</span> <span class="token class-name">InvocationHandler</span> h<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p><strong>UML ç±»å›¾</strong></p><p><img src="`+es+`" alt="image-20211208214530692"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// ITeacherDaoä¸TeacherDaoåŒä¸Š</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä»£ç†å·¥å‚</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TeacherFactory</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç›®æ ‡å¯¹è±¡</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Object</span> target<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">TeacherFactory</span><span class="token punctuation">(</span><span class="token class-name">Object</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>target <span class="token operator">=</span> target<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">newProxyInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;JDKä»£ç†æˆè¯¾å¼€å§‹...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token class-name">Object</span> returnVal <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;JDKä»£ç†æˆè¯¾ç»“æŸ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">return</span> returnVal<span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­å‡ ä¸ªå‚æ•°</p><ul><li>1ï¼‰<code>ClassLoader loader</code>ï¼šæŒ‡å®šå½“å‰ç›®æ ‡å¯¹è±¡ä½¿ç”¨çš„ç±»åŠ è½½å™¨ï¼Œè·å–åŠ è½½å™¨çš„æ–¹æ³•å›ºå®š</li><li>2ï¼‰<code>Class&lt;?&gt;[] interfaces</code>ï¼šç›®æ ‡å¯¹è±¡å®ç°çš„æ¥å£ç±»å‹ï¼Œä½¿ç”¨æ³›å‹æ–¹æ³•ç¡®è®¤ç±»å‹</li><li>3ï¼‰<code>InvocationHandler h</code>ï¼šäº‹æƒ…å¤„ç†ï¼Œæ‰§è¡Œç›®æ ‡å¯¹è±¡çš„æ–¹æ³•æ—¶è§¦å‘äº‹æƒ…å¤„ç†å™¨æ–¹æ³•ï¼ŒæŠŠå½“å‰æ‰§è¡Œçš„ç›®æ ‡å¯¹è±¡æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ å…¥</li></ul><h3 id="_4ã€cglib-ä»£ç†" tabindex="-1"><a class="header-anchor" href="#_4ã€cglib-ä»£ç†"><span>4ã€Cglib ä»£ç†</span></a></h3><h4 id="_4-1ã€åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_4-1ã€åŸºæœ¬ä»‹ç»"><span>4.1ã€åŸºæœ¬ä»‹ç»</span></a></h4><ul><li>1ï¼‰é™æ€ä»£ç†å’Œ JDK ä»£ç†æ¨¡å¼éƒ½è¦æ±‚ç›®æ ‡å¯¹è±¡æ˜¯å®ç°ä¸€ä¸ªæ¥å£ï¼Œä½†æ˜¯æœ‰æ—¶å€™ç›®æ ‡å¯¹è±¡åªæ˜¯ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰å®ç°ä»»ä½•çš„æ¥å£ï¼Œè¿™ä¸ªæ—¶å€™å¯ä½¿ç”¨ç›®æ ‡å¯¹è±¡å­ç±»æ¥å®ç°ä»£ç†â€”â€”è¿™å°±æ˜¯ Cglib ä»£ç†</li><li>2ï¼‰<mark>Cglib ä»£ç†ä¹Ÿå«ä½œå­ç±»ä»£ç†</mark>ï¼Œå®ƒæ˜¯åœ¨å†…å­˜ä¸­æ„å»ºä¸€ä¸ªå­ç±»å¯¹è±¡ä»è€Œå®ç°å¯¹ç›®æ ‡å¯¹è±¡åŠŸèƒ½æ‰©å±•ï¼Œæœ‰äº›ä¹¦ä¹Ÿå°† Cglib ä»£ç†å½’å±åˆ°åŠ¨æ€ä»£ç†ã€‚</li><li>3ï¼‰Cglib æ˜¯ä¸€ä¸ªå¼ºå¤§çš„é«˜æ€§èƒ½çš„ä»£ç ç”ŸæˆåŒ…ï¼Œå®ƒå¯ä»¥åœ¨è¿è¡ŒæœŸæ‰©å±• java ç±»ä¸å®ç° java æ¥å£ã€‚å®ƒå¹¿æ³›çš„è¢«è®¸å¤š AOP çš„æ¡†æ¶ä½¿ç”¨ï¼Œä¾‹å¦‚ Spring AOPï¼Œå®ç°æ–¹æ³•æ‹¦æˆª</li><li>4ï¼‰åœ¨ AOP ç¼–ç¨‹ä¸­å¦‚ä½•é€‰æ‹©ä»£ç†æ¨¡å¼ï¼š <ul><li>ç›®æ ‡å¯¹è±¡éœ€è¦å®ç°æ¥å£ï¼Œç”¨ JDK ä»£ç†</li><li>ç›®æ ‡å¯¹è±¡ä¸éœ€è¦å®ç°æ¥å£ï¼Œç”¨ Cglib ä»£ç†</li></ul></li><li>5ï¼‰Cglib åŒ…çš„åº•å±‚æ˜¯é€šè¿‡ä½¿ç”¨å­—èŠ‚ç å¤„ç†æ¡†æ¶ ASM æ¥è½¬æ¢å­—èŠ‚ç å¹¶ç”Ÿæˆæ–°çš„ç±»</li></ul><h4 id="_4-2ã€å®ç°æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#_4-2ã€å®ç°æ­¥éª¤"><span>4.2ã€å®ç°æ­¥éª¤</span></a></h4><ul><li><p>1ï¼‰éœ€è¦å¼•å…¥<code>cglib</code>çš„ jar æ–‡ä»¶</p><p><img src="`+ts+'" alt="image-20211210213734267"></p></li><li><p>2ï¼‰åœ¨å†…å­˜ä¸­åŠ¨æ€æ„å»ºå­ç±»ï¼Œæ³¨æ„ä»£ç†çš„ç±»ä¸èƒ½ä¸º<code>final</code>ï¼Œå¦åˆ™æŠ¥é”™<code>java.lang.IllegalArgumentException</code></p></li><li><p>3ï¼‰ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•å¦‚æœä¸º<code>final</code>/<code>static</code>ï¼Œé‚£ä¹ˆå°±ä¸ä¼šè¢«æ‹¦æˆªï¼Œå³ä¸ä¼šæ‰§è¡Œç›®æ ‡å¯¹è±¡é¢å¤–çš„ä¸šåŠ¡æ–¹æ³•</p></li></ul><h4 id="_4-3ã€åº”ç”¨å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_4-3ã€åº”ç”¨å®ä¾‹"><span>4.3ã€åº”ç”¨å®ä¾‹</span></a></h4><p><strong>UML ç±»å›¾</strong></p><p><img src="'+ls+'" alt="image-20211210202524247"></p><p><img src="'+cs+`" alt="image-20211210223144446"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * è¢«ä»£ç†å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TeacherDao</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€å¸ˆæˆè¯¾ä¸­...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;Good&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä»£ç†å·¥å‚ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProxyFactory</span> <span class="token keyword">implements</span> <span class="token class-name">MethodInterceptor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç›®æ ‡å¯¹è±¡</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Object</span> target<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ„é€ å‡½æ•°</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">target</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ProxyFactory</span><span class="token punctuation">(</span><span class="token class-name">Object</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>target <span class="token operator">=</span> target<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * è¿”å›ä»£ç†å¯¹è±¡</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@return</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getProxyInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 1ã€åˆ›å»ºå·¥å…·ç±»</span></span>
<span class="line">        <span class="token class-name">Enhancer</span> enhancer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Enhancer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 2ã€è®¾ç½®çˆ¶ç±»</span></span>
<span class="line">        enhancer<span class="token punctuation">.</span><span class="token function">setSuperclass</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 3ã€è®¾ç½®å›è°ƒå‡½æ•°</span></span>
<span class="line">        enhancer<span class="token punctuation">.</span><span class="token function">setCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 4ã€åˆ›å»ºå­ç±»å¯¹è±¡ï¼Œå³ä»£ç†å¯¹è±¡</span></span>
<span class="line">        <span class="token keyword">return</span> enhancer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">,</span> <span class="token class-name">MethodProxy</span> methodProxy<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cglibä»£ç†å¼€å§‹...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Object</span> retVal <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cglibä»£ç†ç»“æŸ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> retVal<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è°ƒç”¨ä»£ç†</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//åˆ›å»ºç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span class="token class-name">TeacherDao</span> teacherDao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TeacherDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//é€šè¿‡ä»£ç†å·¥å‚åˆ›å»ºä»£ç†å¯¹è±¡</span></span>
<span class="line"><span class="token class-name">TeacherDao</span> proxyInstance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TeacherDao</span><span class="token punctuation">)</span> <span class="token keyword">new</span> <span class="token class-name">ProxyFactory</span><span class="token punctuation">(</span>teacherDao<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getProxyInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨ç›®æ ‡å¯¹è±¡æ–¹æ³•</span></span>
<span class="line"><span class="token class-name">String</span> retVal <span class="token operator">=</span> proxyInstance<span class="token punctuation">.</span><span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;retVal=&quot;</span> <span class="token operator">+</span> retVal<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€ä»£ç†æ¨¡å¼çš„å˜ä½“" tabindex="-1"><a class="header-anchor" href="#_5ã€ä»£ç†æ¨¡å¼çš„å˜ä½“"><span>5ã€ä»£ç†æ¨¡å¼çš„å˜ä½“</span></a></h3><p>å‡ ç§å¸¸è§çš„ä»£ç†æ¨¡å¼ä»‹ç»ä¸€å‡ ç§å˜ä½“</p><ul><li><p>1ï¼‰<strong>é˜²ç«å¢™ä»£ç†</strong>ï¼šå†…ç½‘é€šè¿‡ä»£ç†ç©¿é€é˜²ç«å¢™ï¼Œå®ç°å¯¹å…¬ç½‘çš„è®¿é—®</p></li><li><p>2ï¼‰<strong>ç¼“å­˜ä»£ç†</strong>ï¼šæ¯”å¦‚ï¼šå½“è¯·æ±‚å›¾ç‰‡æ–‡ä»¶ç­‰èµ„æºæ—¶ï¼Œå…ˆåˆ°ç¼“å­˜ä»£ç†å–ï¼Œå¦‚æœå–åˆ°èµ„æºåˆ™ okï¼›å¦‚æœå–ä¸åˆ°èµ„æºï¼Œå†åˆ°å…¬ç½‘æˆ–è€…æ•°æ®åº“å–ï¼Œç„¶åç¼“å­˜</p></li><li><p>3ï¼‰<strong>è¿œç¨‹ä»£ç†</strong>ï¼šè¿œç¨‹å¯¹è±¡çš„æœ¬åœ°ä»£è¡¨ï¼Œé€šè¿‡å®ƒå¯ä»¥æŠŠè¿œç¨‹å¯¹è±¡å½“æœ¬åœ°å¯¹è±¡æ¥è°ƒç”¨ã€‚è¿œç¨‹ä»£ç†é€šè¿‡ç½‘ç»œå’ŒçœŸæ­£çš„è¿œç¨‹å¯¹è±¡æ²Ÿé€šä¿¡æ¯</p><p><img src="`+is+'" alt="image-20211211095830914"></p></li><li><p>4ï¼‰<strong>åŒæ­¥ä»£ç†</strong>ï¼šä¸»è¦ä½¿ç”¨åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œå®Œæˆå¤šçº¿ç¨‹é—´åŒæ­¥å·¥ä½œ</p></li></ul><h2 id="ã€13ã€‘æ¨¡æ¿æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€13ã€‘æ¨¡æ¿æ¨¡å¼"><span>ã€13ã€‘æ¨¡æ¿æ¨¡å¼</span></a></h2><h3 id="_1ã€è±†æµ†åˆ¶ä½œé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1ã€è±†æµ†åˆ¶ä½œé—®é¢˜"><span>1ã€è±†æµ†åˆ¶ä½œé—®é¢˜</span></a></h3><p>ç¼–å†™åˆ¶ä½œè±†æµ†çš„ç¨‹åºï¼Œè¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li>1ï¼‰åˆ¶ä½œè±†æµ†çš„æµç¨‹é€‰æ ----&gt; æ·»åŠ é…æ–™ ----&gt; æµ¸æ³¡ ----&gt; æ”¾åˆ°è±†æµ†æœºæ‰“ç¢</li><li>2ï¼‰é€šè¿‡æ·»åŠ ä¸åŒçš„é…æ–™ï¼Œå¯ä»¥åˆ¶ä½œå‡ºä¸åŒå£å‘³çš„è±†æµ†</li><li>3ï¼‰é€‰æã€æµ¸æ³¡å’Œæ”¾åˆ°è±†æµ†æœºæ‰“ç¢è¿™å‡ ä¸ªæ­¥éª¤å¯¹äºåˆ¶ä½œæ¯ç§å£å‘³çš„è±†æµ†éƒ½æ˜¯ä¸€æ ·çš„</li><li>4ï¼‰è¯·ä½¿ç”¨<mark>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</mark>å®Œæˆ</li></ul><p>è¯´æ˜ï¼šå› ä¸ºæ¨¡æ¿æ–¹æ³•æ¨¡å¼æ¯”è¾ƒç®€å•ï¼Œå¾ˆå®¹æ˜“å°±æƒ³åˆ°è¿™ä¸ªæ–¹æ¡ˆï¼Œå› æ­¤å°±ç›´æ¥ä½¿ç”¨ï¼Œä¸å†ä½¿ç”¨ä¼ ç»Ÿçš„æ–¹æ¡ˆæ¥å¼•å‡ºæ¨¡æ¿æ–¹æ³•æ¨¡å¼</p><h3 id="_2ã€åŸºæœ¬ä»‹ç»-2" tabindex="-1"><a class="header-anchor" href="#_2ã€åŸºæœ¬ä»‹ç»-2"><span>2ã€åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰ï¼Œåˆå«æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ï¼Œåœ¨ä¸€ä¸ªæŠ½è±¡ç±»å…¬å¼€å®šä¹‰äº†æ‰§è¡Œå®ƒçš„æ–¹æ³•çš„æ¨¡æ¿ã€‚å®ƒçš„å­ç±»å¯ä»¥æŒ‰éœ€è¦é‡å†™æ–¹æ³•å®ç°ï¼Œä½†è°ƒç”¨å°†ä»¥æŠ½è±¡ç±»ä¸­å®šä¹‰çš„æ–¹å¼è¿›è¡Œ</li><li>2ï¼‰ç®€å•è¯´ï¼Œ<mark>æ¨¡æ¿æ–¹æ³•æ¨¡å¼å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶</mark>ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„ï¼Œå°±å¯ä»¥é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤</li><li>3ï¼‰è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<mark>è¡Œä¸ºå‹æ¨¡å¼</mark></li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+os+'" alt="image-20211211105144906"></p><p><strong>å¯¹åŸç†ç±»å›¾çš„è¯´æ˜â€”â€”å³æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„è§’è‰²å’ŒèŒè´£</strong></p><ul><li><code>AbstractClass</code>æŠ½è±¡ç±»ä¸­å®ç°äº†æ¨¡æ¿æ–¹æ³•ï¼Œå®šä¹‰äº†ç®—æ³•çš„éª¨æ¶ï¼Œå…·ä½“å­ç±»éœ€è¦å»å®ç°å…¶æŠ½è±¡æ–¹æ³•æˆ–é‡å†™å…¶ä¸­æ–¹æ³•</li><li><code>ConcreteClass</code>å®ç°äº†æŠ½è±¡æ–¹æ³•ï¼Œå·²å®Œæˆç®—æ³•ä¸­ç‰¹å®šå­ç±»çš„æ­¥éª¤</li></ul><h3 id="_3ã€æ¨¡æ¿æ¨¡å¼è§£å†³è±†æµ†åˆ¶ä½œé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_3ã€æ¨¡æ¿æ¨¡å¼è§£å†³è±†æµ†åˆ¶ä½œé—®é¢˜"><span>3ã€æ¨¡æ¿æ¨¡å¼è§£å†³è±†æµ†åˆ¶ä½œé—®é¢˜</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+us+`" alt="image-20211211120150856"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡æ–¹æ³•</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">SoyaMilk</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ¨¡æ¿æ–¹æ³•ï¼Œå®šä¹‰ä¸ºfinalç¦æ­¢è¦†å†™</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œå¼€å§‹&lt;&lt;&lt;&lt;&lt;&lt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">useSoyBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">addIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">soak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">mash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œç»“æŸ&lt;&lt;&lt;&lt;&lt;&lt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">useSoyBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Step1. é€‰ç”¨ä¸Šå¥½çš„é»„è±†.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">addIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">soak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Step3. å¯¹é»„è±†å’Œé…æ–™è¿›è¡Œæ°´æ´—æµ¸æ³¡.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">mash</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Step4. å°†å……åˆ†æµ¸æ³¡è¿‡çš„é»„è±†å’Œé…æ–™æ”¾å…¥è±†æµ†æœºä¸­ï¼Œå¼€å§‹æ‰“è±†æµ†.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * èŠ±ç”Ÿè±†æµ†</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PeanutSoyaMilk</span> <span class="token keyword">extends</span> <span class="token class-name">SoyaMilk</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">PeanutSoyaMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============èŠ±ç”Ÿè±†æµ†============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Step2. åŠ å…¥ä¸Šå¥½çš„èŠ±ç”Ÿ.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * çº¢è±†è±†æµ†</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedBeanSoyaMilk</span> <span class="token keyword">extends</span> <span class="token class-name">SoyaMilk</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">RedBeanSoyaMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============çº¢è±†è±†æµ†============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Step2. åŠ å…¥ä¸Šå¥½çš„çº¢è±†.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * èŠéº»è±†æµ†</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SesameSoyaMilk</span> <span class="token keyword">extends</span> <span class="token class-name">SoyaMilk</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token class-name">SesameSoyaMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============èŠéº»è±†æµ†============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Step2. åŠ å…¥ä¸Šå¥½çš„èŠéº».&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è°ƒç”¨æ¨¡æ¿æ–¹æ³•</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">SoyaMilk</span> peanutSoyaMilk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PeanutSoyaMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">peanutSoyaMilk<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">SoyaMilk</span> redBeanSoyaMilk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedBeanSoyaMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">redBeanSoyaMilk<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">SoyaMilk</span> sesameSoyaMilk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SesameSoyaMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">sesameSoyaMilk<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">/*</span>
<span class="line">============èŠ±ç”Ÿè±†æµ†============</span>
<span class="line">&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œå¼€å§‹&lt;&lt;&lt;&lt;&lt;&lt;</span>
<span class="line">Step1. é€‰ç”¨ä¸Šå¥½çš„é»„è±†.</span>
<span class="line">Step2. åŠ å…¥ä¸Šå¥½çš„èŠ±ç”Ÿ.</span>
<span class="line">Step3. å¯¹é»„è±†å’Œé…æ–™è¿›è¡Œæ°´æ´—æµ¸æ³¡.</span>
<span class="line">Step4. å°†å……åˆ†æµ¸æ³¡è¿‡çš„é»„è±†å’Œé…æ–™æ”¾å…¥è±†æµ†æœºä¸­ï¼Œå¼€å§‹æ‰“è±†æµ†.</span>
<span class="line">&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œç»“æŸ&lt;&lt;&lt;&lt;&lt;&lt;</span>
<span class="line">============çº¢è±†è±†æµ†============</span>
<span class="line">&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œå¼€å§‹&lt;&lt;&lt;&lt;&lt;&lt;</span>
<span class="line">Step1. é€‰ç”¨ä¸Šå¥½çš„é»„è±†.</span>
<span class="line">Step2. åŠ å…¥ä¸Šå¥½çš„çº¢è±†.</span>
<span class="line">Step3. å¯¹é»„è±†å’Œé…æ–™è¿›è¡Œæ°´æ´—æµ¸æ³¡.</span>
<span class="line">Step4. å°†å……åˆ†æµ¸æ³¡è¿‡çš„é»„è±†å’Œé…æ–™æ”¾å…¥è±†æµ†æœºä¸­ï¼Œå¼€å§‹æ‰“è±†æµ†.</span>
<span class="line">&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œç»“æŸ&lt;&lt;&lt;&lt;&lt;&lt;</span>
<span class="line">============èŠéº»è±†æµ†============</span>
<span class="line">&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œå¼€å§‹&lt;&lt;&lt;&lt;&lt;&lt;</span>
<span class="line">Step1. é€‰ç”¨ä¸Šå¥½çš„é»„è±†.</span>
<span class="line">Step2. åŠ å…¥ä¸Šå¥½çš„èŠéº».</span>
<span class="line">Step3. å¯¹é»„è±†å’Œé…æ–™è¿›è¡Œæ°´æ´—æµ¸æ³¡.</span>
<span class="line">Step4. å°†å……åˆ†æµ¸æ³¡è¿‡çš„é»„è±†å’Œé…æ–™æ”¾å…¥è±†æµ†æœºä¸­ï¼Œå¼€å§‹æ‰“è±†æµ†.</span>
<span class="line">&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œç»“æŸ&lt;&lt;&lt;&lt;&lt;&lt;</span>
<span class="line">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€é’©å­æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_4ã€é’©å­æ–¹æ³•"><span>4ã€é’©å­æ–¹æ³•</span></a></h3><ul><li>1ï¼‰åœ¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„çˆ¶ç±»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒ<mark>é»˜è®¤ä¸åšä»»ä½•äº‹ï¼Œå­ç±»å¯ä»¥è§†æƒ…å†µè¦ä¸è¦è¦†ç›–å®ƒ</mark>ï¼Œè¯¥æ–¹æ³•ç§°ä¸ºâ€œé’©å­â€</li><li>2ï¼‰è¿˜æ˜¯ç”¨ä¸Šé¢åšè±†æµ†çš„ä¾‹å­æ¥è®²è§£ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›åˆ¶ä½œçº¯è±†æµ†ï¼Œä¸æ·»åŠ ä»»ä½•çš„é…æ–™ï¼Œè¯·ä½¿ç”¨é’©å­æ–¹æ³•å¯¹å‰é¢çš„æ¨¡æ¿æ–¹æ³•è¿›è¡Œæ”¹é€ </li></ul><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">SoyaMilk</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">customAddIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">addIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * çº¯è±†æµ†</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PureSoyaMilk</span> <span class="token keyword">extends</span> <span class="token class-name">SoyaMilk</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">PureSoyaMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============çº¯è±†æµ†============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ç©ºå®ç°å³å¯</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Boolean</span> <span class="token function">customAddIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•é’©å­æ–¹æ³•</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">SoyaMilk</span> pureSoyaMilk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PureSoyaMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">pureSoyaMilk<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">/*</span>
<span class="line">============çº¯è±†æµ†============</span>
<span class="line">&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œå¼€å§‹&lt;&lt;&lt;&lt;&lt;&lt;</span>
<span class="line">Step1. é€‰ç”¨ä¸Šå¥½çš„é»„è±†.</span>
<span class="line">Step3. å¯¹é»„è±†å’Œé…æ–™è¿›è¡Œæ°´æ´—æµ¸æ³¡.</span>
<span class="line">Step4. å°†å……åˆ†æµ¸æ³¡è¿‡çš„é»„è±†å’Œé…æ–™æ”¾å…¥è±†æµ†æœºä¸­ï¼Œå¼€å§‹æ‰“è±†æµ†.</span>
<span class="line">&gt;&gt;&gt;&gt;&gt;&gt;è±†æµ†åˆ¶ä½œç»“æŸ&lt;&lt;&lt;&lt;&lt;&lt;</span>
<span class="line">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€spring-æ¡†æ¶æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_5ã€spring-æ¡†æ¶æºç åˆ†æ"><span>5ã€Spring æ¡†æ¶æºç åˆ†æ</span></a></h3><p><code>AbstractApplicationContext.java</code>ä¸­æœ‰ä¸€ä¸ª<code>refresh()</code>æ–¹æ³•å°±æ˜¯æ¨¡æ¿æ–¹æ³•ï¼Œå…¶ä¸­å®šä¹‰äº†æŠ½è±¡æ–¹æ³•å’Œé’©å­æ–¹æ³•</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// æ¨¡æ¿æ–¹æ³•</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalStateException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>startupShutdownMonitor<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">prepareRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token function">obtainFreshBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">prepareBeanFactory</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é’©å­æ–¹æ³•</span></span>
<span class="line">            <span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">registerBeanPostProcessors</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">initMessageSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">initApplicationEventMulticaster</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">onRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é’©å­æ–¹æ³•</span></span>
<span class="line">            <span class="token function">registerListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">finishBeanFactoryInitialization</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">finishRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">BeansException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>logger<span class="token punctuation">.</span><span class="token function">isWarnEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;Exception encountered during context initialization - &quot;</span> <span class="token operator">+</span></span>
<span class="line">                            <span class="token string">&quot;cancelling refresh attempt: &quot;</span> <span class="token operator">+</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            <span class="token function">destroyBeans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">cancelRefresh</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">throw</span> ex<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">finally</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">resetCommonCaches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">protected</span> <span class="token class-name">ConfigurableListableBeanFactory</span> <span class="token function">obtainFreshBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">refreshBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŠ½è±¡æ–¹æ³•</span></span>
<span class="line">    <span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token function">getBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŠ½è±¡æ–¹æ³•</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>logger<span class="token punctuation">.</span><span class="token function">isDebugEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;Bean factory for &quot;</span> <span class="token operator">+</span> <span class="token function">getDisplayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> beanFactory<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// For subclasses: do nothing by default.</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+ks+'" alt="image-20211214211905994"></p><h3 id="_6ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_6ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>6ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰<strong>åŸºæœ¬æ€æƒ³</strong>ï¼šç®—æ³•åªå­˜åœ¨äºä¸€ä¸ªåœ°æ–¹ï¼Œä¹Ÿå°±æ˜¯åœ¨çˆ¶ç±»ä¸­ï¼Œå®¹æ˜“ä¿®æ”¹ã€‚éœ€è¦ä¿®æ”¹ç®—æ³•æ—¶ï¼Œåªè¦ä¿®æ”¹çˆ¶ç±»çš„æ¨¡æ¿æ–¹æ³•æˆ–è€…å·²ç»å®ç°çš„æŸäº›æ­¥éª¤ï¼Œå­ç±»å°±ä¼šç»§æ‰¿è¿™äº›ä¿®æ”¹</li><li>2ï¼‰<mark>å®ç°äº†æœ€å¤§åŒ–ä»£ç å¤ç”¨</mark>ã€‚çˆ¶ç±»çš„æ¨¡æ¿æ–¹æ³•å’Œå·²å®ç°çš„æŸäº›æ­¥éª¤ä¼šè¢«å­ç±»ç»§æ‰¿è€Œç›´æ¥ä½¿ç”¨</li><li>3ï¼‰æ—¢ç»Ÿä¸€äº†ç®—æ³•ï¼Œä¹Ÿæä¾›äº†å¾ˆå¤§çš„çµæ´»æ€§ã€‚çˆ¶ç±»çš„æ¨¡æ¿æ–¹æ³•ç¡®ä¿äº†ç®—æ³•çš„ç»“æ„ä¿æŒä¸å˜ï¼ŒåŒæ—¶ç”±å­ç±»æä¾›éƒ¨åˆ†æ­¥éª¤çš„å®ç°</li><li>4ï¼‰<strong>ä¸è¶³ä¹‹å¤„</strong>ï¼šæ¯ä¸€ä¸ªä¸åŒçš„å®ç°éƒ½éœ€è¦ä¸€ä¸ªå­ç±»å®ç°ï¼Œå¯¼è‡´ç±»çš„ä¸ªæ•°å¢åŠ ï¼Œä½¿å¾—ç³»ç»Ÿæ›´åŠ åºå¤§</li><li>5ï¼‰ä¸€èˆ¬æ¨¡æ¿æ–¹æ³•éƒ½åŠ ä¸Š<code>final</code>å…³é”®å­—ï¼Œé˜²æ­¢å­ç±»é‡å†™æ¨¡æ¿æ–¹æ³•</li><li>6ï¼‰<strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå½“è¦å®Œæˆåœ¨æŸä¸ªè¿‡ç¨‹ï¼Œè¯¥è¿‡ç¨‹è¦æ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤ï¼Œ<mark>è¿™ä¸€ç³»åˆ—çš„æ­¥éª¤åŸºæœ¬ç›¸åŒï¼Œä½†å…¶ä¸ªåˆ«æ­¥éª¤åœ¨å®ç°æ—¶å¯èƒ½ä¸åŒ</mark>ï¼Œé€šå¸¸è€ƒè™‘ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ¥å¤„ç†</li></ul><h2 id="ã€14ã€‘å‘½ä»¤æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€14ã€‘å‘½ä»¤æ¨¡å¼"><span>ã€14ã€‘å‘½ä»¤æ¨¡å¼</span></a></h2><h3 id="_1ã€æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_1ã€æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®éœ€æ±‚"><span>1ã€æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®éœ€æ±‚</span></a></h3><p><img src="'+rs+'" alt="image-20211217202526745"></p><ul><li>1ï¼‰æˆ‘ä»¬ä¹°äº†ä¸€å¥—æ™ºèƒ½å®¶ç”µï¼Œæœ‰ç…§æ˜ç¯ã€é£æ‰‡ã€å†°ç®±ã€æ´—è¡£æœºï¼Œåªè¦åœ¨æ‰‹æœºä¸Šå®‰è£… APP å°±å¯ä»¥æ§åˆ¶è¿™äº›å®¶ç”µçš„å·¥ä½œ</li><li>2ï¼‰è¿™äº›æ™ºèƒ½å®¶ç”µæ¥è‡ªä¸åŒçš„å‚å®¶ï¼Œæˆ‘ä»¬ä¸æƒ³é’ˆå¯¹æ¯ä¸€ç§å®¶ç”µéƒ½å®‰è£…ä¸€ä¸ª APP åˆ†åˆ«æ§åˆ¶ï¼Œæˆ‘ä»¬å¸Œæœ›åªè¦ä¸€ä¸ª APP å°±å¯ä»¥æ§åˆ¶å…¨éƒ¨æ™ºèƒ½å®¶ç”µ</li><li>3ï¼‰è¦å®ç°ä¸€ä¸ª APP æ§åˆ¶æ‰€æœ‰æ™ºèƒ½å®¶ç”µçš„éœ€è¦ï¼Œåˆ™æ¯ä¸ªæ™ºèƒ½å®¶ç”µå‚å®¶éƒ½è¦æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ç»™ APP è°ƒç”¨ï¼Œè¿™æ—¶å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨å‘½ä»¤æ¨¡å¼</li><li>4ï¼‰<mark>å‘½ä»¤æ¨¡å¼å¯å°†â€œåŠ¨ä½œçš„è¯·æ±‚è€…â€ä»â€œåŠ¨ä½œçš„æ‰§è¡Œè€…â€å¯¹è±¡ä¸­è§£è€¦å‡ºæ¥</mark></li><li>5ï¼‰åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼ŒåŠ¨ä½œçš„è¯·æ±‚è€…æ˜¯æ‰‹æœº APPï¼ŒåŠ¨ä½œçš„æ‰§è¡Œè€…æ˜¯æ¯ä¸ªå‚å•†çš„ä¸€ä¸ªå®¶ç”µäº§å“</li></ul><h3 id="_2ã€åŸºæœ¬ä»‹ç»-3" tabindex="-1"><a class="header-anchor" href="#_2ã€åŸºæœ¬ä»‹ç»-3"><span>2ã€åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰ï¼šåœ¨è½¯ä»¶è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å‘æŸäº›å¯¹è±¡å‘é€è¯·æ±‚ï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“è¯·æ±‚çš„æ¥æ”¶è€…æ˜¯è°ï¼Œä¹Ÿä¸çŸ¥é“è¢«è¯·çš„æ“ä½œæ˜¯å“ªä¸ªï¼Œæˆ‘ä»¬åªéœ€åœ¨ç¨‹åºè¿è¡Œæ—¶æŒ‡å®šå…·ä½“çš„è¯·æ±‚æ¥æ”¶è€…å³å¯ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨å‘½ä»¤æ¨¡å¼æ¥è¿›è¡Œè®¾è®¡</li><li>2ï¼‰å‘½ä»¤æ¨¡å¼ä½¿å¾—è¯·æ±‚å‘é€è€…ä¸è¯·æ±‚æ¥æ”¶è€…æ¶ˆé™¤å½¼æ­¤ä¹‹é—´çš„è€¦åˆï¼Œè®©å¯¹è±¡ä¹‹é—´çš„è°ƒç”¨å…³ç³»æ›´åŠ çµæ´»ï¼Œå®ç°è§£è€¦</li><li>3ï¼‰åœ¨å‘½ä»¤æ¨¡å¼ä¸­ï¼Œä¼šå°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»¥ä¾¿ä½¿ç”¨ä¸åŒå‚æ•°æ¥è¡¨ç¤ºä¸åŒçš„è¯·æ±‚ï¼ˆå³å‘½åï¼‰ï¼ŒåŒæ—¶å‘½ä»¤æ¨¡å¼ä¹Ÿæ”¯æŒå¯æ’¤é”€çš„æ“ä½œ</li><li>4ï¼‰é€šä¿—æ˜“æ‡‚çš„ç†è§£ï¼šå°†å†›å‘å¸ƒå‘½ä»¤ï¼Œå£«å…µå»æ‰§è¡Œã€‚å…¶ä¸­æœ‰å‡ ä¸ªè§’è‰²ï¼š <ul><li>å°†å†›ï¼ˆå‘½ä»¤å‘å¸ƒè€…ï¼‰ã€å£«å…µï¼ˆå‘½ä»¤çš„å…·ä½“æ‰§è¡Œè€…ï¼‰ã€å‘½ä»¤ï¼ˆè¿æ¥å°†å†›å’Œå£«å…µï¼‰</li><li><code>Invoker</code>æ˜¯è°ƒç”¨è€…ï¼ˆå°†å†›ï¼‰ï¼Œ<code>Receiver</code>æ˜¯è¢«è°ƒç”¨è€…ï¼ˆå£«å…µï¼‰ï¼Œ<code>MyCommand</code>æ˜¯å‘½ä»¤ï¼Œå®ç°äº†<code>Command</code>æ¥å£ï¼ŒæŒæœ‰æ¥æ”¶å¯¹è±¡</li></ul></li></ul><p><img src="'+ds+'" alt="image-20211217203724497"></p><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+vs+'" alt=""></p><p><strong>å‘½ä»¤æ¨¡å¼çš„è§’è‰²åŠèŒè´£</strong></p><ul><li><code>Invoker</code>è°ƒç”¨è€…è§’è‰²ï¼Œåªéœ€è¦å‘å¸ƒå‘½ä»¤å°±å¯ä»¥æ§åˆ¶æ¥æ”¶è€…çš„è¡Œä¸º</li><li><code>Receiver</code>æ¥æ”¶è€…è§’è‰²ï¼ŒçŸ¥é“å¦‚ä½•å®æ–½æˆ–æ‰§è¡Œè¯·æ±‚çš„ç›¸å…³æ“ä½œ</li><li><code>Command</code>å‘½ä»¤è§’è‰²ï¼Œéœ€è¦æ‰§è¡Œçš„æ‰€æœ‰å‘½ä»¤éƒ½å®šä¹‰åœ¨è¿™é‡Œï¼Œå¯ä»¥æ˜¯æ¥å£æˆ–æŠ½è±¡ç±»</li><li><code>ConcreteCommand</code>å…·ä½“çš„å‘½ä»¤è§’è‰²ï¼Œå°†ä¸€ä¸ªæ¥æ”¶è€…å’Œä¸€ä¸ªåŠ¨ä½œç»‘å®šï¼Œè°ƒç”¨æ¥æ”¶è€…ç›¸åº”çš„æ“ä½œï¼Œå®ç°<code>execute</code></li></ul><h3 id="_3ã€å‘½ä»¤æ¨¡å¼è§£å†³æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#_3ã€å‘½ä»¤æ¨¡å¼è§£å†³æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®"><span>3ã€å‘½ä»¤æ¨¡å¼è§£å†³æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+ms+'" alt="image-20211219140719801"></p><p><img src="'+bs+`" alt="image-20211219150307716"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å‘½ä»¤è§’è‰²</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ç©ºå‘½ä»¤ï¼Œä»€ä¹ˆä¹Ÿä¸å¹²</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NonCommand</span> <span class="token keyword">implements</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * è°ƒç”¨è€…</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RemoteController</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Command</span><span class="token punctuation">[</span><span class="token punctuation">]</span> onCommands<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Command</span><span class="token punctuation">[</span><span class="token punctuation">]</span> offCommands<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Command</span> restoreCommand<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">RemoteController</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        onCommands <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Command</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        offCommands <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Command</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            onCommands<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NonCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            offCommands<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NonCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCommands</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">,</span> <span class="token class-name">Command</span> onCommand<span class="token punctuation">,</span> <span class="token class-name">Command</span> offCommand<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        onCommands<span class="token punctuation">[</span>no<span class="token punctuation">]</span> <span class="token operator">=</span> onCommand<span class="token punctuation">;</span></span>
<span class="line">        offCommands<span class="token punctuation">[</span>no<span class="token punctuation">]</span> <span class="token operator">=</span> offCommand<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBtnCommand</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        restoreCommand <span class="token operator">=</span> onCommands<span class="token punctuation">[</span>no<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        restoreCommand<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">offBtnCommand</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        restoreCommand <span class="token operator">=</span> offCommands<span class="token punctuation">[</span>no<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        restoreCommand<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">undoBtnCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        restoreCommand<span class="token punctuation">.</span><span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æ¥æ”¶è€…</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LightReceiver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”µç¯æ‰“å¼€äº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”µç¯å…³é—­äº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TVReceiver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”µè§†æ‰“å¼€äº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”µè§†å…³é—­äº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å…·ä½“çš„å‘½ä»¤è§’è‰²</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LightOnCommand</span> <span class="token keyword">implements</span> <span class="token class-name">Command</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">LightReceiver</span> light<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">LightOnCommand</span><span class="token punctuation">(</span><span class="token class-name">LightReceiver</span> light<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>light <span class="token operator">=</span> light<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        light<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        light<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LightOffCommand</span> <span class="token keyword">implements</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">LightReceiver</span> light<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">LightOffCommand</span><span class="token punctuation">(</span><span class="token class-name">LightReceiver</span> light<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>light <span class="token operator">=</span> light<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        light<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        light<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TVOnCommand</span> <span class="token keyword">implements</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">TVReceiver</span> tv<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">TVOnCommand</span><span class="token punctuation">(</span><span class="token class-name">TVReceiver</span> tv<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>tv <span class="token operator">=</span> tv<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        tv<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        tv<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TVOffCommand</span> <span class="token keyword">implements</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">TVReceiver</span> tv<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">TVOffCommand</span><span class="token punctuation">(</span><span class="token class-name">TVReceiver</span> tv<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>tv <span class="token operator">=</span> tv<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        tv<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        tv<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è°ƒç”¨å‘½ä»¤</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// åˆå§‹åŒ–é¥æ§å™¨</span></span>
<span class="line"><span class="token class-name">RemoteController</span> remoteController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RemoteController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// æ“ä½œç”µç¯</span></span>
<span class="line"><span class="token keyword">int</span> no <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">LightReceiver</span> light <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LightReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">remoteController<span class="token punctuation">.</span><span class="token function">setCommands</span><span class="token punctuation">(</span>no<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LightOnCommand</span><span class="token punctuation">(</span>light<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LightOffCommand</span><span class="token punctuation">(</span>light<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">remoteController<span class="token punctuation">.</span><span class="token function">onBtnCommand</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">remoteController<span class="token punctuation">.</span><span class="token function">offBtnCommand</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">remoteController<span class="token punctuation">.</span><span class="token function">undoBtnCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// æ“ä½œç”µè§†</span></span>
<span class="line">no <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">TVReceiver</span> tv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TVReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">remoteController<span class="token punctuation">.</span><span class="token function">setCommands</span><span class="token punctuation">(</span>no<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TVOnCommand</span><span class="token punctuation">(</span>tv<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TVOffCommand</span><span class="token punctuation">(</span>tv<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">remoteController<span class="token punctuation">.</span><span class="token function">onBtnCommand</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">remoteController<span class="token punctuation">.</span><span class="token function">offBtnCommand</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">remoteController<span class="token punctuation">.</span><span class="token function">undoBtnCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// ç”µç¯æ‰“å¼€äº†...</span></span>
<span class="line"><span class="token comment">// ç”µç¯å…³é—­äº†...</span></span>
<span class="line"><span class="token comment">// ç”µç¯æ‰“å¼€äº†...</span></span>
<span class="line"><span class="token comment">// ç”µè§†æ‰“å¼€äº†...</span></span>
<span class="line"><span class="token comment">// ç”µè§†å…³é—­äº†...</span></span>
<span class="line"><span class="token comment">// ç”µè§†æ‰“å¼€äº†...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€spring-æ¡†æ¶-jdbctemplate-æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_4ã€spring-æ¡†æ¶-jdbctemplate-æºç åˆ†æ"><span>4ã€Spring æ¡†æ¶ JdbcTemplate æºç åˆ†æ</span></a></h3><p>ä»¥<code>JdbcTemplate</code>ç±»ä¸­<code>query()</code>æ–¹æ³•ä¸­ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªå†…éƒ¨ç±»<code>QueryStatementCallback</code>ï¼Œè€Œä¸”<code>QueryStatementCallback</code>ç±»å®ç°äº†<code>StatementCallback</code>æ¥å£çš„<code>doInStatement</code>æ–¹æ³•</p><p><img src="`+gs+'" alt="image-20211219153622738"></p><p>è¿™å°±æ˜¯å‘½ä»¤æ¨¡å¼åœ¨ Spring æ¡†æ¶ <code>JdbcTemplate</code>æºç ä¸­çš„åº”ç”¨ï¼Œå…¶ä¸­ï¼Œ</p><ul><li><p><code>StatementCallback</code>å……å½“äº†<code>Command</code>å‘½ä»¤ï¼Œå…¶ä¸‹æœ‰å¤šä¸ªå®ç°</p><p><img src="'+ys+'" alt="image-20211219154235556"></p></li><li><p><code>QueryStatementCallback</code>å……å½“äº†<code>ConcreteCommand</code>å…·ä½“çš„å‘½ä»¤è§’è‰²</p></li><li><p><code>Statement</code>å……å½“äº†<code>Receiver</code>æ¥æ”¶è€…è§’è‰²</p></li><li><p><code>JdbcTemplate</code>æœ¬èº«ä½œä¸ºè°ƒç”¨è€…</p></li></ul><h3 id="_5ã€å‘½ä»¤æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_5ã€å‘½ä»¤æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>5ã€å‘½ä»¤æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰<mark>å°†å‘èµ·è¯·æ±‚çš„å¯¹è±¡ä¸æ‰§è¡Œè¯·æ±‚çš„å¯¹è±¡è§£è€¦</mark>ã€‚å‘èµ·è¯·æ±‚çš„å¯¹è±¡æ˜¯è°ƒç”¨è€…ï¼Œè°ƒç”¨è€…åªè¦è°ƒç”¨å‘½ä»¤å¯¹è±¡çš„<code>execute()</code>æ–¹æ³•å°±å¯ä»¥è®©æ¥æ”¶è€…å·¥ä½œï¼Œè€Œä¸å¿…çŸ¥é“å…·ä½“çš„æ¥æ”¶è€…å¯¹è±¡æ˜¯è°ã€æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå‘½ä»¤å¯¹è±¡ä¼šè´Ÿè´£è®©æ¥æ”¶è€…æ‰§è¡Œè¯·æ±‚çš„åŠ¨ä½œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šâ€œè¯·æ±‚å‘èµ·è€…â€å’Œâ€œè¯·æ±‚æ‰§è¡Œè€…â€ä¹‹é—´çš„è§£è€¦æ˜¯é€šè¿‡å‘½ä»¤å¯¹è±¡å®ç°çš„ï¼Œ<mark>å‘½ä»¤å¯¹è±¡èµ·åˆ°äº†çº½å¸¦æ¡¥æ¢çš„ä½œç”¨</mark></li><li>2ï¼‰<mark>å®¹æ˜“è®¾è®¡ä¸€ä¸ªå‘½ä»¤é˜Ÿåˆ—</mark>ã€‚åªè¦æŠŠå‘½ä»¤å¯¹è±¡æ”¾åˆ°åˆ—é˜Ÿï¼Œå°±å¯ä»¥<mark>å¤šçº¿ç¨‹çš„æ‰§è¡Œå‘½ä»¤</mark></li><li>3ï¼‰<mark>å®¹æ˜“å®ç°å¯¹è¯·æ±‚çš„æ’¤é”€å’Œé‡åš</mark></li><li>4ï¼‰<strong>ä¸è¶³</strong>ï¼šå¯èƒ½å¯¼è‡´æŸäº›ç³»ç»Ÿæœ‰è¿‡å¤šçš„å…·ä½“å‘½ä»¤ç±»ï¼Œ<mark>å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦</mark>ï¼Œè¿™ç‚¹åœ¨ä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„</li><li>5ï¼‰<mark>ç©ºå‘½ä»¤ä¹Ÿæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸ºæˆ‘ä»¬çœå»äº†åˆ¤ç©ºçš„æ“ä½œ</mark>ã€‚åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œå¦‚æœæ²¡æœ‰ç”¨ç©ºå‘½ä»¤ï¼Œæˆ‘ä»¬æ¯æŒ‰ä¸‹ä¸€ä¸ªæŒ‰é”®éƒ½è¦åˆ¤ç©ºï¼Œè¿™ç»™æˆ‘ä»¬ç¼–ç å¸¦æ¥ä¸€å®šçš„éº»çƒ¦</li><li>6ï¼‰å‘½ä»¤æ¨¡å¼ç»å…¸çš„åº”ç”¨åœºæ™¯ï¼šç•Œé¢çš„ä¸€ä¸ªæŒ‰é’®å¯¹åº”ä¸€æ¡å‘½ä»¤ã€æ¨¡æ‹Ÿ CMDï¼ˆDOSå‘½ä»¤ï¼‰è®¢å•çš„æ’¤é”€/æ¢å¤ã€è§¦å‘-åé¦ˆæœºåˆ¶</li></ul><h2 id="ã€15ã€‘è®¿é—®è€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€15ã€‘è®¿é—®è€…æ¨¡å¼"><span>ã€15ã€‘è®¿é—®è€…æ¨¡å¼</span></a></h2><h3 id="_1ã€æµ‹è¯„ç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#_1ã€æµ‹è¯„ç³»ç»Ÿ"><span>1ã€æµ‹è¯„ç³»ç»Ÿ</span></a></h3><p>**å®Œæˆæµ‹è¯„ç³»ç»Ÿéœ€æ±‚</p><ul><li>1ï¼‰å°†äººã€è§‚ä¼—åˆ†ä¸ºç”·äººå’Œå¥³äººï¼Œå¯¹æ­Œæ‰‹è¿›è¡Œæµ‹è¯„ï¼Œå½“çœ‹å®ŒæŸä¸ªæ­Œæ‰‹è¡¨æ¼”åï¼Œå¾—åˆ°ä»–ä»¬å¯¹è¯¥æ­Œæ‰‹ä¸åŒçš„è¯„ä»·ï¼ˆè¯„ä»·æœ‰ä¸åŒçš„ç§ç±»ï¼Œæ¯”å¦‚æˆåŠŸã€å¤±è´¥ç­‰ï¼‰</li><li>2ï¼‰ä¼ ç»Ÿæ–¹æ¡ˆ</li></ul><p><img src="'+ws+'" alt="image-20211220200401952"></p><p><strong>ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰å¦‚æœç³»ç»Ÿæ¯”è¾ƒå°ï¼Œè¿˜æ˜¯ ok çš„ï¼Œä½†æ˜¯è€ƒè™‘ç³»ç»Ÿå¢åŠ è¶Šæ¥è¶Šå¤šæ–°çš„åŠŸèƒ½æ—¶ï¼Œå¯¹ä»£ç æ”¹åŠ¨è¾ƒå¤§ï¼Œè¿åäº† OCP åŸåˆ™ï¼Œä¸åˆ©äºç»´æŠ¤</li><li>2ï¼‰æ‰©å±•æ€§ä¸å¥½ï¼Œæ¯”å¦‚å¢åŠ äº†æ–°çš„äººå‘˜ç±»å‹ï¼Œæˆ–è€…ç®¡ç†æ–¹æ³•ï¼Œéƒ½ä¸å¥½åš</li><li>3ï¼‰å¼•å‡ºæˆ‘ä»¬ä¼šä½¿ç”¨æ–°çš„è®¾è®¡æ¨¡å¼â€”â€”è®¿é—®è€…æ¨¡å¼</li></ul><h3 id="_2ã€åŸºæœ¬ä»‹ç»-4" tabindex="-1"><a class="header-anchor" href="#_2ã€åŸºæœ¬ä»‹ç»-4"><span>2ã€åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ï¼Œå°è£…ä¸€äº›ä½œç”¨äºæŸç§æ•°æ®ç»“æ„çš„å„å…ƒç´ çš„æ“ä½œï¼Œå®ƒå¯ä»¥åœ¨ä¸æ”¹å˜æ•°æ®ç»“æ„çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°çš„æ“ä½œ</li><li>2ï¼‰ä¸»è¦å°†æ•°æ®ç»“æ„ä¸æ•°æ®æ“ä½œåˆ†ç¦»ï¼Œ<mark>è§£å†³æ•°æ®ç»“æ„å’Œæ“ä½œè€¦åˆæ€§é—®é¢˜</mark></li><li>3ï¼‰è®¿é—®è€…æ¨¡å¼çš„åŸºæœ¬å·¥ä½œåŸç†æ˜¯ï¼šåœ¨è¢«è®¿é—®çš„ç±»é‡Œé¢åŠ ä¸€ä¸ªå¯¹å¤–æä¾›æ¥å¾…è®¿é—®è€…çš„æ¥å£</li><li>4ï¼‰è®¿é—®è€…æ¨¡å¼ä¸»è¦åº”ç”¨åœºæ™¯æ˜¯ï¼šéœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒæ“ä½œï¼ˆè¿™äº›æ“ä½œå½¼æ­¤æ²¡æœ‰å…³è”ï¼‰ï¼ŒåŒæ—¶éœ€è¦é¿å…è®©è¿™äº›æ“ä½œâ€œæ±¡æŸ“â€œè¿™äº›å¯¹è±¡çš„ç±»ï¼Œå¯ä»¥é€‰ç”¨è®¿é—®è€…æ¨¡å¼è§£å†³</li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+hs+'" alt="image-20211220203453678"></p><p><strong>è®¿é—®è€…è§’è‰²åŠèŒè´£</strong></p><ul><li><code>Visitor</code>æŠ½è±¡è®¿é—®è€…ï¼šä¸ºè¯¥å¯¹è±¡ç»“æ„ä¸­æ¯ä¸ª<code>ConcreteElement</code>ç±»å£°æ˜ä¸€ä¸ª<code>visit</code>æ“ä½œ</li><li><code>ConcreteVisitor</code>å…·ä½“è®¿é—®è€…ï¼šå®ç°<code>Visitor</code>ä¸­å£°æ˜çš„æ“ä½œ</li><li><code>ObjectStructure</code>å¯¹è±¡ç»“æ„ï¼šèƒ½æšä¸¾å®ƒçš„å…ƒç´ ï¼Œæä¾›ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œå…è®¸è®¿é—®è€…è®¿é—®å…ƒç´ </li><li><code>Element</code>æŠ½è±¡å…ƒç´ ï¼šå®šä¹‰ä¸€ä¸ª<code>accept</code>æ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ªè®¿é—®è€…å¯¹è±¡</li><li><code>ConcreteElement</code>å…·ä½“å…ƒç´ ï¼šå®ç°äº†<code>accept</code>æ–¹æ³•</li></ul><h3 id="_3ã€è®¿é—®è€…æ¨¡å¼å®ç°æµ‹è¯„ç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#_3ã€è®¿é—®è€…æ¨¡å¼å®ç°æµ‹è¯„ç³»ç»Ÿ"><span>3ã€è®¿é—®è€…æ¨¡å¼å®ç°æµ‹è¯„ç³»ç»Ÿ</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+fs+`" alt="image-20211220222333874"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡è®¿é—®è€…</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Action</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">getManResult</span><span class="token punctuation">(</span><span class="token class-name">Man</span> man<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">getWomanResult</span><span class="token punctuation">(</span><span class="token class-name">Woman</span> woman<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å…·ä½“è®¿é—®è€…</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Success</span> <span class="token keyword">extends</span> <span class="token class-name">Action</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getManResult</span><span class="token punctuation">(</span><span class="token class-name">Man</span> man<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”·ç”Ÿç»™äº†é€šè¿‡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getWomanResult</span><span class="token punctuation">(</span><span class="token class-name">Woman</span> woman<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¥³ç”Ÿç»™äº†é€šè¿‡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Fail</span> <span class="token keyword">extends</span> <span class="token class-name">Action</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getManResult</span><span class="token punctuation">(</span><span class="token class-name">Man</span> man<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”·ç”Ÿç»™äº†ä¸é€šè¿‡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getWomanResult</span><span class="token punctuation">(</span><span class="token class-name">Woman</span> woman<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¥³ç”Ÿç»™äº†ä¸é€šè¿‡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Wait</span> <span class="token keyword">extends</span> <span class="token class-name">Action</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getManResult</span><span class="token punctuation">(</span><span class="token class-name">Man</span> man<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”·ç”Ÿç»™äº†å¾…å®š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getWomanResult</span><span class="token punctuation">(</span><span class="token class-name">Woman</span> woman<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¥³ç”Ÿç»™äº†å¾…å®š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡å…ƒç´ </span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Action</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å…·ä½“å…ƒç´ </span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Action</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        action<span class="token punctuation">.</span><span class="token function">getManResult</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Woman</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Action</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        action<span class="token punctuation">.</span><span class="token function">getWomanResult</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å¯¹è±¡ç»“æ„</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ObjectStructure</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> personList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attach</span><span class="token punctuation">(</span><span class="token class-name">Person</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        personList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">detach</span><span class="token punctuation">(</span><span class="token class-name">Person</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        personList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token class-name">Action</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> person <span class="token operator">:</span> personList<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            person<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è°ƒç”¨æµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">ObjectStructure</span> objectStructure <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectStructure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">objectStructure<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">objectStructure<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Woman</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">objectStructure<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">objectStructure<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">objectStructure<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//ç”·ç”Ÿç»™äº†é€šè¿‡</span></span>
<span class="line"><span class="token comment">//å¥³ç”Ÿç»™äº†é€šè¿‡</span></span>
<span class="line"><span class="token comment">//============</span></span>
<span class="line"><span class="token comment">//ç”·ç”Ÿç»™äº†ä¸é€šè¿‡</span></span>
<span class="line"><span class="token comment">//å¥³ç”Ÿç»™äº†ä¸é€šè¿‡</span></span>
<span class="line"><span class="token comment">//============</span></span>
<span class="line"><span class="token comment">//ç”·ç”Ÿç»™äº†å¾…å®š</span></span>
<span class="line"><span class="token comment">//å¥³ç”Ÿç»™äº†å¾…å®š</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€åŒåˆ†æ´¾" tabindex="-1"><a class="header-anchor" href="#_4ã€åŒåˆ†æ´¾"><span>4ã€åŒåˆ†æ´¾</span></a></h3><p>è¯¥ä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨åˆ°äº†åŒåˆ†æ´¾</p><ul><li><strong>ç¬¬ä¸€æ¬¡åˆ†æ´¾</strong>ï¼šé¦–å…ˆåœ¨å®¢æˆ·ç«¯ç¨‹åºä¸­ï¼Œå°†å…·ä½“çŠ¶æ€ä½œä¸ºå‚æ•°ä¼ é€’<code>Woman</code>ä¸­</li><li><strong>ç¬¬äºŒæ¬¡åˆ†æ´¾</strong>ï¼šç„¶å<code>Woman</code>ç±»è°ƒç”¨ä½œä¸ºå‚æ•°çš„å…·ä½“æ–¹æ³•<code>getWomanResult</code>ï¼ŒåŒæ—¶å°†è‡ªå·±<code>this</code>ä½œä¸ºå‚æ•°ä¼ å…¥</li></ul><p>æ‰€è°“åŒåˆ†æ´¾æ˜¯æŒ‡ä¸ç®¡ç±»æ€ä¹ˆå˜åŒ–ï¼Œæˆ‘ä»¬éƒ½èƒ½æ‰¾åˆ°æœŸæœ›çš„æ–¹æ³•è¿è¡Œ</p><p>åŒåˆ†æ´¾æ„å‘³ç€å¾—åˆ°æ‰§è¡Œçš„æ“ä½œå–å†³äºè¯·æ±‚çš„ç§ç±»å’Œä¸¤ä¸ªæ¥æ”¶è€…çš„ç±»å‹</p><p>ä»¥ä¸Šè¿°å®ä¾‹ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬è¦æ·»åŠ ä¸€ä¸ª<code>Wait</code>çš„çŠ¶æ€ç±»ï¼Œè€ƒå¯Ÿ<code>Man</code>ç±»å’Œ<code>Woman</code>ç±»çš„ååº”</p><p>ç”±äºä½¿ç”¨äº†åŒåˆ†æ´¾ï¼Œ<mark>åªéœ€å¢åŠ ä¸€ä¸ª Action å­ç±»å³å¯åœ¨å®¢æˆ·ç«¯è°ƒç”¨å³å¯ï¼Œä¸éœ€è¦æ”¹åŠ¨ä»»ä½•å…¶ä»–ç±»çš„ä»£ç </mark></p><h3 id="_5ã€è®¿é—®è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_5ã€è®¿é—®è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>5ã€è®¿é—®è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><p><strong>ä¼˜ç‚¹</strong></p><ul><li>1ï¼‰è®¿é—®è€…æ¨¡å¼ç¬¦åˆ<mark>å•ä¸€èŒè´£</mark>åŸåˆ™ã€è®©ç¨‹åºå…·æœ‰ä¼˜ç§€çš„<mark>æ‰©å±•æ€§ã€çµæ´»æ€§</mark>éå¸¸é«˜</li><li>2ï¼‰è®¿é—®è€…æ¨¡å¼å¯ä»¥å¯¹åŠŸèƒ½è¿›è¡Œç»Ÿä¸€ï¼Œå¯ä»¥åšæŠ¥è¡¨ã€UIã€æ‹¦æˆªå™¨ä¸è¿‡æ»¤å™¨ï¼Œ<mark>é€‚ç”¨äºæ•°æ®ç»“æ„ç›¸å¯¹ç¨³å®šçš„ç³»ç»Ÿ</mark></li></ul><p><strong>ç¼ºç‚¹</strong></p><ul><li>1ï¼‰å…·ä½“å…ƒç´ å¯¹è®¿é—®è€…å…¬å¸ƒç»†èŠ‚ï¼Œä¹Ÿå°±æ˜¯è¯´è®¿é—®è€…å…³æ³¨äº†å…¶ä»–ç±»çš„å†…éƒ¨ç»†èŠ‚ï¼Œè¿™æ˜¯<mark>è¿ªç±³ç‰¹æ³•åˆ™æ‰€ä¸å»ºè®®çš„</mark>ï¼Œè¿™æ ·é€ æˆäº†å…·ä½“å…ƒç´ å˜æ›´æ¯”è¾ƒå›°éš¾</li><li>2ï¼‰<mark>è¿èƒŒäº†ä¾èµ–å€’è½¬åŸåˆ™</mark>ã€‚è®¿é—®è€…ä¾èµ–çš„æ˜¯å…·ä½“å…ƒç´ ï¼Œè€Œä¸æ˜¯æŠ½è±¡å…ƒç´ </li><li>3ï¼‰å› æ­¤ï¼Œå¦‚æœä¸€ä¸ªç³»ç»Ÿæœ‰æ¯”è¾ƒç¨³å®šçš„æ•°æ®ç»“æ„ï¼Œåˆæœ‰ç»å¸¸å˜åŒ–çš„åŠŸèƒ½éœ€æ±‚ï¼Œé‚£ä¹ˆè®¿é—®è€…æ¨¡å¼å°±æ˜¯æ¯”è¾ƒåˆé€‚çš„</li></ul><h2 id="ã€16ã€‘è¿­ä»£å™¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€16ã€‘è¿­ä»£å™¨æ¨¡å¼"><span>ã€16ã€‘è¿­ä»£å™¨æ¨¡å¼</span></a></h2><h3 id="_1ã€å­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_1ã€å­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚"><span>1ã€å­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚</span></a></h3><p>ç¼–å†™ç¨‹åºå±•ç¤ºä¸€ä¸ªå­¦æ ¡é™¢ç³»ç»“æ„ï¼Œè¦åœ¨ä¸€ä¸ªé¡µé¢ä¸­å±•ç¤ºå‡ºå­¦æ ¡çš„é™¢ç³»ç»„æˆï¼Œä¸€ä¸ªå­¦æ ¡æœ‰å¤šä¸ªå­¦é™¢ï¼Œä¸€ä¸ªå­¦é™¢æœ‰å¤šä¸ªç³»ã€‚å¦‚å›¾ï¼š</p><p><img src="`+Es+'" alt="image-20211221210654924"></p><p><strong>ä¼ ç»Ÿæ–¹æ¡ˆåˆ†æ</strong></p><ul><li>1ï¼‰å°†å­¦é™¢çœ‹åšæ˜¯å­¦æ ¡çš„å­ç±»ï¼Œç³»æ˜¯å­¦é™¢çš„å­ç±»ï¼Œè¿™æ ·å®é™…ä¸Šæ˜¯ç«™åœ¨ç»„ç»‡å¤§å°æ¥è¿›è¡Œåˆ†å±‚æ¬¡çš„</li><li>2ï¼‰å®é™…ä¸Šæˆ‘ä»¬çš„è¦æ±‚æ˜¯ï¼šåœ¨ä¸€ä¸ªé¡µé¢ä¸­å±•ç¤ºå‡ºå­¦æ ¡çš„é™¢ç³»ç»„æˆï¼Œä¸€ä¸ªå­¦æ ¡æœ‰å¤šä¸ªå­¦é™¢ï¼Œä¸€ä¸ªå­¦é™¢æœ‰å¤šä¸ªç³»ï¼Œå› æ­¤è¿™ç§æ–¹æ¡ˆï¼Œä¸èƒ½å¾ˆå¥½å®ç°çš„éå†çš„æ“ä½œ</li><li>3ï¼‰è§£å†³æ–¹æ¡ˆï¼š<mark>è¿­ä»£å™¨æ¨¡å¼</mark></li></ul><h3 id="_2ã€åŸºæœ¬ä»‹ç»-5" tabindex="-1"><a class="header-anchor" href="#_2ã€åŸºæœ¬ä»‹ç»-5"><span>2ã€åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰è¿­ä»£å™¨æ¨¡å¼ï¼ˆlterator Patternï¼‰æ˜¯å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå±äºè¡Œä¸ºå‹æ¨¡å¼</li><li>2ï¼‰å¦‚æœæˆ‘ä»¬çš„é›†åˆå…ƒç´ æ˜¯ç”¨ä¸åŒæ–¹å¼å®ç°çš„ï¼Œæœ‰æ•°ç»„ã€é›†åˆæˆ–è€…å…¶ä»–æ–¹å¼ã€‚å½“å®¢æˆ·ç«¯è¦éå†è¿™äº›é›†åˆå…ƒç´ çš„æ—¶å€™å°±è¦ä½¿ç”¨å¤šç§éå†æ–¹å¼ï¼Œè€Œä¸”è¿˜ä¼šæš´éœ²å…ƒç´ çš„å†…éƒ¨ç»“æ„ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼è§£å†³</li><li>3ï¼‰è¿­ä»£å™¨æ¨¡å¼ï¼Œæä¾›ä¸€ç§éå†é›†åˆå…ƒç´ çš„ç»Ÿä¸€æ¥å£ï¼Œç”¨ä¸€è‡´çš„æ–¹æ³•éå†é›†åˆå…ƒç´ ï¼Œä¸éœ€è¦çŸ¥é“é›†åˆå¯¹è±¡çš„åº•å±‚è¡¨ç¤ºï¼Œå³ï¼šä¸æš´éœ²å…¶å†…éƒ¨çš„ç»“æ„</li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+xs+'" alt="image-20211221220357064"></p><p><strong>è¿­ä»£å™¨æ¨¡å¼çš„è§’è‰²åŠèŒè´£</strong></p><ul><li><code>Iterator</code>è¿­ä»£å™¨æ¥å£ï¼šç³»ç»Ÿæä¾›ï¼Œå«æœ‰<code>hasNext</code>ã€<code>next</code>ã€<code>remove</code></li><li><code>ConcreteIterator</code>å…·ä½“çš„è¿­ä»£å™¨ï¼šç®¡ç†ç›¸å…³çš„è¿­ä»£</li><li><code>Aggregate</code>èšåˆæ¥å£ï¼šå°†å®¢æˆ·ç«¯å’Œå…·ä½“çš„èšåˆè§£è€¦</li><li><code>ConcreteAggregate</code>å…·ä½“çš„èšåˆç±»ï¼šæä¾›ä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›å¯ä»¥æ­£ç¡®éå†é›†åˆçš„è¿­ä»£å™¨</li><li><code>Client</code>å®¢æˆ·ç«¯ï¼šé€šè¿‡<code>Iterator</code>è¿­ä»£å™¨æ¥å£å’Œ<code>Aggregate</code>èšåˆæ¥å£ä¾èµ–å…¶å…·ä½“çš„è¿­ä»£å™¨å’Œèšåˆå­ç±»</li></ul><h3 id="_3ã€è¿­ä»£å™¨å®Œæˆå­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_3ã€è¿­ä»£å™¨å®Œæˆå­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚"><span>3ã€è¿­ä»£å™¨å®Œæˆå­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+Bs+`" alt="image-20211231205759473"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>å…·ä½“çš„è¿­ä»£å™¨</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * è®¡ç®—æœºå­¦é™¢è¿­ä»£å™¨ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ComputerCollegeIterator</span> <span class="token keyword">implements</span> <span class="token class-name">Iterator</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Department</span><span class="token punctuation">[</span><span class="token punctuation">]</span> departments<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> position <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ComputerCollegeIterator</span><span class="token punctuation">(</span><span class="token class-name">Department</span><span class="token punctuation">[</span><span class="token punctuation">]</span> departments<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>departments <span class="token operator">=</span> departments<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> position <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> departments<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> departments<span class="token punctuation">[</span>position <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> departments<span class="token punctuation">[</span><span class="token operator">++</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä¿¡æ¯å­¦é™¢è¿­ä»£å™¨ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfoCollegeIterator</span> <span class="token keyword">implements</span> <span class="token class-name">Iterator</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> departments<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> position <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">InfoCollegeIterator</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> departments<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>departments <span class="token operator">=</span> departments<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> position <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> departments<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> departments<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">++</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>èšåˆæ¥å£</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">College</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…·ä½“çš„èšåˆç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * è®¡ç®—æœºå­¦é™¢</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ComputerCollege</span> <span class="token keyword">implements</span> <span class="token class-name">College</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Department</span><span class="token punctuation">[</span><span class="token punctuation">]</span> departments<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ComputerCollege</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        departments <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        departments<span class="token punctuation">[</span>position<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token string">&quot;Javaä¸“ä¸š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        departments<span class="token punctuation">[</span>position<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token string">&quot;PHPä¸“ä¸š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        departments<span class="token punctuation">[</span>position<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token string">&quot;Pythonä¸“ä¸š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;è®¡ç®—æœºå­¦é™¢&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ComputerCollegeIterator</span><span class="token punctuation">(</span>departments<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä¿¡æ¯å­¦é™¢</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfoCollege</span> <span class="token keyword">implements</span> <span class="token class-name">College</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> departments<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">InfoCollege</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        departments <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        departments<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token string">&quot;ä¿¡æ¯å®‰å…¨ä¸“ä¸š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        departments<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token string">&quot;ç½‘ç»œå®‰å…¨ä¸“ä¸š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        departments<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token string">&quot;æœåŠ¡å™¨å®‰å…¨ä¸“ä¸š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;ä¿¡æ¯å­¦é™¢&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">InfoCollegeIterator</span><span class="token punctuation">(</span>departments<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OutPutImpl</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">OutPutImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printCollege</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">College</span><span class="token punctuation">&gt;</span></span> collegeList<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">College</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> collegeList<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">College</span> college <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============&quot;</span> <span class="token operator">+</span> college<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">printDepartment</span><span class="token punctuation">(</span>college<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">printDepartment</span><span class="token punctuation">(</span><span class="token class-name">College</span> college<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> college<span class="token punctuation">.</span><span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è°ƒç”¨æµ‹è¯•</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">College</span><span class="token punctuation">&gt;</span></span> collegeList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">collegeList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ComputerCollege</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">collegeList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InfoCollege</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">new</span> <span class="token class-name">OutPutImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">printCollege</span><span class="token punctuation">(</span>collegeList<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“å°ç»“æœ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//============è®¡ç®—æœºå­¦é™¢============</span></span>
<span class="line"><span class="token comment">//Javaä¸“ä¸š</span></span>
<span class="line"><span class="token comment">//PHPä¸“ä¸š</span></span>
<span class="line"><span class="token comment">//Pythonä¸“ä¸š</span></span>
<span class="line"><span class="token comment">//============ä¿¡æ¯å­¦é™¢============</span></span>
<span class="line"><span class="token comment">//ä¿¡æ¯å®‰å…¨ä¸“ä¸š</span></span>
<span class="line"><span class="token comment">//ç½‘ç»œå®‰å…¨ä¸“ä¸š</span></span>
<span class="line"><span class="token comment">//æœåŠ¡å™¨å®‰å…¨ä¸“ä¸š</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€arraylist-é›†åˆæºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_4ã€arraylist-é›†åˆæºç åˆ†æ"><span>4ã€ArrayList é›†åˆæºç åˆ†æ</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="`+As+'" alt="image-20211231213127490"></p><p><strong>è§’è‰²åˆ†æè¯´æ˜</strong></p><ul><li><code>Iterator</code>è¿­ä»£å™¨æ¥å£ï¼šç”±ç³»ç»Ÿæä¾›ï¼Œå®šä¹‰äº†<code>hasNext()</code>å’Œ<code>next()</code>ç­‰æ–¹æ³•</li><li><code>Itr</code>å…·ä½“çš„è¿­ä»£å™¨å®ç°ç±»ï¼šä½œä¸º<code>ArrayList</code>çš„å†…éƒ¨ç±»å­˜åœ¨ï¼Œå®ç°äº†<code>Iterator</code>æ¥å£çš„<code>hasNext()</code>å’Œ<code>next()</code>ç­‰æ–¹æ³•</li><li><code>List</code>èšåˆæ¥å£ï¼šå®šä¹‰äº†<code>iterator()</code>æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨æ¥å£å¯¹è±¡</li><li><code>ArrayList</code>å…·ä½“çš„èšåˆç±»ï¼šå®ç°äº†<code>iterator()</code>æ–¹æ³•</li></ul><p>è¿­ä»£å™¨æ¨¡å¼æä¾›äº†ä¸€ä¸ªä¸åŒé›†åˆç±»å‹ï¼ˆå¦‚<code>ArrayList</code>ã€<code>LinkedList</code>ç­‰ï¼‰çš„ç»Ÿä¸€éå†è§£å†³æ–¹æ¡ˆ</p><h3 id="_5ã€è¿­ä»£å™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_5ã€è¿­ä»£å™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>5ã€è¿­ä»£å™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><h4 id="ä¼˜ç‚¹" tabindex="-1"><a class="header-anchor" href="#ä¼˜ç‚¹"><span>ä¼˜ç‚¹</span></a></h4><ul><li>1ï¼‰<mark>æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ–¹æ³•éå†å¯¹è±¡</mark>ï¼Œå®¢æˆ·ä¸ç”¨å†è€ƒè™‘èšåˆçš„ç±»å‹ï¼Œä½¿ç”¨ä¸€ç§æ–¹æ³•å°±å¯ä»¥éå†å¯¹è±¡äº†</li><li>2ï¼‰<mark>éšè—äº†èšåˆçš„å†…éƒ¨ç»“æ„</mark>ï¼Œå®¢æˆ·ç«¯è¦éå†èšåˆçš„æ—¶å€™åªèƒ½å–åˆ°è¿­ä»£å™¨ï¼Œè€Œä¸ä¼šçŸ¥é“èšåˆçš„å…·ä½“ç»„æˆ</li><li>3ï¼‰æä¾›äº†ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°±æ˜¯ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å˜åŒ–çš„åŸå› ï¼ˆ<mark>å•ä¸€è´£ä»»åŸåˆ™</mark>ï¼‰ã€‚åœ¨èšåˆç±»ä¸­ï¼Œæˆ‘ä»¬æŠŠè¿­ä»£å™¨åˆ†å¼€ï¼Œå°±æ˜¯è¦æŠŠç®¡ç†å¯¹è±¡é›†åˆå’Œéå†å¯¹è±¡é›†åˆçš„è´£ä»»åˆ†å¼€ï¼Œè¿™æ ·ä¸€æ¥é›†åˆæ”¹å˜çš„è¯ï¼Œåªå½±å“åˆ°èšåˆå¯¹è±¡ã€‚è€Œå¦‚æœéå†æ–¹å¼æ”¹å˜çš„è¯ï¼Œåªå½±å“åˆ°äº†è¿­ä»£å™¨</li><li>4ï¼‰å½“è¦å±•ç¤ºä¸€ç»„ç›¸ä¼¼å¯¹è±¡ï¼Œæˆ–è€…éå†ä¸€ç»„ç›¸åŒå¯¹è±¡æ—¶ä½¿ç”¨ï¼Œé€‚åˆä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼</li></ul><h4 id="ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#ç¼ºç‚¹"><span>ç¼ºç‚¹</span></a></h4><ul><li>æ¯ä¸ªèšåˆå¯¹è±¡éƒ½è¦ä¸€ä¸ªè¿­ä»£å™¨ï¼Œä¼šç”Ÿæˆå¤šä¸ªè¿­ä»£å™¨ä¸å¥½ç®¡ç†ç±»</li></ul><h2 id="ã€17ã€‘è§‚å¯Ÿè€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€17ã€‘è§‚å¯Ÿè€…æ¨¡å¼"><span>ã€17ã€‘è§‚å¯Ÿè€…æ¨¡å¼</span></a></h2><h3 id="_1ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_1ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚"><span>1ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚</span></a></h3><p>å…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š</p><ul><li>1ï¼‰æ°”è±¡ç«™å¯ä»¥å°†æ¯å¤©æµ‹é‡åˆ°çš„æ¸©åº¦ï¼Œæ¹¿åº¦ï¼Œæ°”å‹ç­‰ç­‰ä»¥å…¬å‘Šçš„å½¢å¼å‘å¸ƒå‡ºå»ï¼ˆæ¯”å¦‚å‘å¸ƒåˆ°è‡ªå·±çš„ç½‘ç«™æˆ–ç¬¬ä¸‰æ–¹ï¼‰</li><li>2ï¼‰éœ€è¦è®¾è®¡å¼€æ”¾å‹ APIï¼Œä¾¿äºå…¶ä»–ç¬¬ä¸‰æ–¹ä¹Ÿèƒ½æ¥å…¥æ°”è±¡ç«™è·å–æ•°æ®</li><li>3ï¼‰æä¾›æ¸©åº¦ã€æ°”å‹å’Œæ¹¿åº¦çš„æ¥å£</li><li>4ï¼‰æµ‹é‡æ•°æ®æ›´æ–°æ—¶ï¼Œè¦èƒ½å®æ—¶çš„é€šçŸ¥ç»™ç¬¬ä¸‰æ–¹</li></ul><p><img src="'+Ss+'" alt="image-20220101111937130"></p><h3 id="_2ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹æ™®é€šæ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_2ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹æ™®é€šæ–¹æ¡ˆ"><span>2ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹æ™®é€šæ–¹æ¡ˆ</span></a></h3><p><strong>WeatherDataç±»</strong></p><p>é€šè¿‡å¯¹æ°”è±¡ç«™é¡¹ç›®çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥åˆæ­¥è®¾è®¡å‡ºä¸€ä¸ª<code>WeatherData</code>ç±»</p><p><img src="'+Cs+'" alt="image-20220101112334529"></p><ul><li>1ï¼‰é€šè¿‡<code>getXxx</code>æ–¹æ³•ï¼Œå¯ä»¥è®©ç¬¬ä¸‰æ–¹æ¥å…¥ï¼Œå¹¶å¾—åˆ°ç›¸å…³ä¿¡æ¯</li><li>2ï¼‰å½“æ•°æ®æœ‰æ›´æ–°æ—¶ï¼Œæ°”è±¡ç«™é€šè¿‡è°ƒç”¨<code>dataChange()</code>å»æ›´æ–°æ•°æ®ï¼Œå½“ç¬¬ä¸‰æ–¹å†æ¬¡è·å–æ—¶ï¼Œå°±èƒ½å¾—åˆ°æœ€æ–°æ•°æ®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥<mark>æ¨é€</mark></li></ul><p><img src="'+qs+`" alt="image-20220101113240574"></p><p><code>CurrentConditions</code>ï¼ˆå½“å‰çš„å¤©æ°”æƒ…å†µï¼‰å¯ä»¥ç†è§£æˆæ˜¯æˆ‘ä»¬æ°”è±¡å±€çš„ç½‘ç«™</p><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>æ°”è±¡ç½‘ç«™ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å½“å‰çš„å¤©æ°”æƒ…å†µï¼šå¯ä»¥ç†è§£æˆæ˜¯æ°”è±¡å±€çš„ç½‘ç«™</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CurrentConditions</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> temperature<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ›´æ–°å¤©æ°”æƒ…å†µï¼Œé€šè¿‡æ¨é€çš„æ–¹å¼ï¼Œç”± WeatherData è°ƒç”¨</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">temperature</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">pressure</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">humidity</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Float</span> temperature<span class="token punctuation">,</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">,</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// æ›´æ–°æœ€æ–°å¤©æ°”æ•°æ®</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">=</span> temperature<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">=</span> pressure<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">=</span> humidity<span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// å±•ç¤ºæœ€æ–°å¤©æ°”æ•°æ®</span></span>
<span class="line">        <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å…¬å‘Šæ¿å±•ç¤ºå¤©æ°”æƒ…å†µ</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============æœ€æ–°å¤©æ°”============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** å½“å‰æ¸©åº¦ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">+</span> <span class="token string">&quot; â„ƒ ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** å½“å‰æ°”å‹ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">+</span> <span class="token string">&quot; kPa ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** å½“å‰æ¹¿åº¦ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">+</span> <span class="token string">&quot; %RH ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ°”è±¡æ•°æ®ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æ ¸å¿ƒç±»</span>
<span class="line"> * 1ã€åŒ…å«æœ€æ–°çš„å¤©æ°”ä¿¡æ¯æƒ…å†µ</span>
<span class="line"> * 2ã€å«æœ‰ CurrentConditions å¯¹è±¡</span>
<span class="line"> * 3ã€å½“æ•°æ®æ›´æ–°æ—¶ï¼Œä¸»åŠ¨è°ƒç”¨ CurrentConditions çš„ update() æ–¹æ³•</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WeatherData</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> temperature<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">CurrentConditions</span> conditions<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ä¼ å…¥ CurrentConditions å¯¹è±¡</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">conditions</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">WeatherData</span><span class="token punctuation">(</span><span class="token class-name">CurrentConditions</span> conditions<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>conditions <span class="token operator">=</span> conditions<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">getTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> temperature<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">getPressure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> pressure<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">getHumidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> humidity<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ¨é€å¤©æ°”æ•°æ®åˆ°ç½‘ç«™</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dataChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        conditions<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token function">getTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getPressure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getHumidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å½“å¤©æ°”æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶è¿›è¡Œæ›´æ–°</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">temperature</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">pressure</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">humidity</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setData</span><span class="token punctuation">(</span><span class="token class-name">Float</span> temperature<span class="token punctuation">,</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">,</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">=</span> temperature<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">=</span> pressure<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">=</span> humidity<span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">dataChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®¢æˆ·ç«¯è°ƒç”¨</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// åˆ›å»ºæ°”è±¡ç½‘ç«™å¯¹è±¡</span></span>
<span class="line"><span class="token class-name">CurrentConditions</span> currentConditions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CurrentConditions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// åˆ›å»ºæ°”è±¡æ•°æ®å¯¹è±¡ï¼Œå¹¶ä¼ å…¥æ°”è±¡ç½‘ç«™å¯¹è±¡</span></span>
<span class="line"><span class="token class-name">WeatherData</span> weatherData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeatherData</span><span class="token punctuation">(</span>currentConditions<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// å¤©æ°”å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ›´æ–°æœ€æ–°çš„æ°”è±¡æ•°æ®</span></span>
<span class="line">weatherData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token number">10f</span><span class="token punctuation">,</span> <span class="token number">150f</span><span class="token punctuation">,</span> <span class="token number">40f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//weatherData.setData(15f, 130f, 60f);</span></span>
<span class="line"><span class="token comment">//weatherData.setData(13f, 160f, 20f);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ç»“æœ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>æœ€æ–°å¤©æ°”<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span></span>
<span class="line"><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> å½“å‰æ¸©åº¦ï¼š<span class="token number">10.0</span> â„ƒ <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span></span>
<span class="line"><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> å½“å‰æ°”å‹ï¼š<span class="token number">150.0</span> kPa <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span></span>
<span class="line"><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> å½“å‰æ¹¿åº¦ï¼š<span class="token number">40.0</span> <span class="token operator">%</span><span class="token constant">RH</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span></span>
<span class="line"><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>æœ€æ–°å¤©æ°”<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span></span>
<span class="line"><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> å½“å‰æ¸©åº¦ï¼š<span class="token number">15.0</span> â„ƒ <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span></span>
<span class="line"><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> å½“å‰æ°”å‹ï¼š<span class="token number">130.0</span> kPa <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span></span>
<span class="line"><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> å½“å‰æ¹¿åº¦ï¼š<span class="token number">60.0</span> <span class="token operator">%</span><span class="token constant">RH</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span></span>
<span class="line"><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>æœ€æ–°å¤©æ°”<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span></span>
<span class="line"><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> å½“å‰æ¸©åº¦ï¼š<span class="token number">13.0</span> â„ƒ <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span></span>
<span class="line"><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> å½“å‰æ°”å‹ï¼š<span class="token number">160.0</span> kPa <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span></span>
<span class="line"><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> å½“å‰æ¹¿åº¦ï¼š<span class="token number">20.0</span> <span class="token operator">%</span><span class="token constant">RH</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰å…¶ä»–ç¬¬ä¸‰æ–¹æ¥å…¥æ°”è±¡ç«™è·å–æ•°æ®çš„é—®é¢˜</li><li>2ï¼‰æ— æ³•åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„æ·»åŠ ç¬¬ä¸‰æ–¹ï¼ˆæ–°æµªç½‘ç«™ï¼‰</li><li>3ï¼‰è¿å<code>OCP</code>åŸåˆ™ =&gt; è§‚å¯Ÿè€…æ¨¡å¼</li></ul><p>åœ¨<code>WeatherData</code>ä¸­å¢åŠ ç¬¬ä¸‰æ–¹æ—¶ï¼Œéƒ½éœ€è¦åˆ›å»ºå¯¹åº”çš„ç¬¬ä¸‰æ–¹å…¬å°æ¿å¯¹è±¡å¹¶åŠ å…¥åˆ°<code>dataChange()</code>æ–¹æ³•ä¸­ï¼Œæ—¢ä¸æ˜¯åŠ¨æ€åŠ å…¥ï¼Œä¹Ÿä¸åˆ©äºç»´æŠ¤</p><h3 id="_3ã€è§‚å¯Ÿè€…æ¨¡å¼åŸç†" tabindex="-1"><a class="header-anchor" href="#_3ã€è§‚å¯Ÿè€…æ¨¡å¼åŸç†"><span>3ã€è§‚å¯Ÿè€…æ¨¡å¼åŸç†</span></a></h3><p>è§‚å¯Ÿè€…æ¨¡å¼ç±»ä¼¼è®¢ç‰›å¥¶ä¸šåŠ¡</p><ul><li>1ï¼‰å¥¶ç«™ / æ°”è±¡å±€ï¼š<code>Subject</code></li><li>2ï¼‰ç”¨æˆ· / ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼š<code>Observer</code></li></ul><p><code>Subject</code>ï¼šç™»è®°æ³¨å†Œã€ç§»é™¤å’Œé€šçŸ¥</p><p><img src="`+js+'" alt="image-20220105195846946"></p><ul><li>1ï¼‰<code>registerObserver()</code>ï¼šæ³¨å†Œ</li><li>2ï¼‰<code>removeObserver()</code>ï¼šç§»é™¤</li><li>3ï¼‰<code>notifyObservers()</code>ï¼šé€šçŸ¥æ‰€æœ‰çš„æ³¨å†Œçš„ç”¨æˆ·ï¼Œæ ¹æ®ä¸åŒéœ€æ±‚ï¼Œå¯ä»¥æ˜¯æ›´æ–°æ•°æ®ï¼Œè®©ç”¨æˆ·æ¥å–ï¼Œä¹Ÿå¯èƒ½æ˜¯å®æ–½æ¨é€ï¼Œçœ‹å…·ä½“éœ€æ±‚å®š</li></ul><p><code>Observer</code>ï¼šæ¥æ”¶è¾“å…¥</p><p><img src="'+_s+'" alt="image-20220105200332286"></p><p><mark>è§‚å¯Ÿè€…æ¨¡å¼</mark>ï¼šå¯¹è±¡ä¹‹é—´å¤šå¯¹ä¸€ä¾èµ–çš„ä¸€ç§è®¾è®¡æ–¹æ¡ˆï¼Œè¢«ä¾èµ–çš„å¯¹è±¡ä¸º<code>Subject</code>ï¼Œä¾èµ–çš„å¯¹è±¡ä¸º<code>Observer</code>ï¼Œ<code>Subject</code>é€šçŸ¥<code>Observer</code>å˜åŒ–ï¼Œæ¯”å¦‚è¿™é‡Œçš„å¥¶ç«™æ˜¯<code>Subject</code>ï¼Œæ˜¯1çš„ä¸€æ–¹ã€‚ç”¨æˆ·æ˜¯<code>Observer</code>ï¼Œæ˜¯å¤šçš„ä¸€æ–¹</p><h3 id="_4ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹è§‚å¯Ÿè€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_4ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹è§‚å¯Ÿè€…æ¨¡å¼"><span>4ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹è§‚å¯Ÿè€…æ¨¡å¼</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+Ds+'" alt="image-20220105201025534"></p><p><img src="'+Os+`" alt="image-20220105205002693"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><p><strong>è§‚å¯Ÿè€…å¯¹è±¡<code>Observer</code></strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * è§‚å¯Ÿè€…æ¥å£</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Float</span> temperature<span class="token punctuation">,</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">,</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * è§‚å¯Ÿè€…å®ç°</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CurrentConditions</span> <span class="token keyword">implements</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> temperature<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Float</span> temperature<span class="token punctuation">,</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">,</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// æ›´æ–°æœ€æ–°å¤©æ°”æ•°æ®</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">=</span> temperature<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">=</span> pressure<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">=</span> humidity<span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// å±•ç¤ºæœ€æ–°å¤©æ°”æ•°æ®</span></span>
<span class="line">        <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å…¬å‘Šæ¿å±•ç¤ºå¤©æ°”æƒ…å†µ</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============æœ€æ–°å¤©æ°”============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** å½“å‰æ¸©åº¦ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">+</span> <span class="token string">&quot; â„ƒ ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** å½“å‰æ°”å‹ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">+</span> <span class="token string">&quot; kPa ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** å½“å‰æ¹¿åº¦ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">+</span> <span class="token string">&quot; %RH ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸»ä½“å¯¹è±¡<code>Subject</code></strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä¸»ä½“å¯¹è±¡æ¥å£</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">registerObserver</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">removeObserver</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">notifyObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä¸»ä½“å¯¹è±¡å®ç°</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WeatherData</span> <span class="token keyword">implements</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> temperature<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Observer</span><span class="token punctuation">&gt;</span></span> observerList<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">WeatherData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        observerList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">getTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> temperature<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">getPressure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> pressure<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">getHumidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> humidity<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ¨é€å¤©æ°”æ•°æ®åˆ°ç½‘ç«™</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dataChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">notifyObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å½“å¤©æ°”æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶è¿›è¡Œæ›´æ–°</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">temperature</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">pressure</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">humidity</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setData</span><span class="token punctuation">(</span><span class="token class-name">Float</span> temperature<span class="token punctuation">,</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">,</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">=</span> temperature<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">=</span> pressure<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">=</span> humidity<span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">dataChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerObserver</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        observerList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeObserver</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> observerList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            observerList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">notifyObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Observer</span> observer <span class="token operator">:</span> observerList<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            observer<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>temperature<span class="token punctuation">,</span> pressure<span class="token punctuation">,</span> humidity<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§‚å¯Ÿè€…å¯¹è±¡<code>Observer</code></strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Float</span> temperature<span class="token punctuation">,</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">,</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è°ƒç”¨æµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// åˆ›å»ºæ°”è±¡ç½‘ç«™å¯¹è±¡</span></span>
<span class="line"><span class="token class-name">CurrentConditions</span> currentConditions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CurrentConditions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// åˆ›å»ºæ°”è±¡æ•°æ®å¯¹è±¡</span></span>
<span class="line"><span class="token class-name">WeatherData</span> weatherData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeatherData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// æ³¨å†Œæ°”è±¡ç½‘ç«™å¯¹è±¡</span></span>
<span class="line">weatherData<span class="token punctuation">.</span><span class="token function">registerObserver</span><span class="token punctuation">(</span>currentConditions<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// å¤©æ°”å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ›´æ–°æœ€æ–°çš„æ°”è±¡æ•°æ®</span></span>
<span class="line">weatherData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token number">10f</span><span class="token punctuation">,</span> <span class="token number">150f</span><span class="token punctuation">,</span> <span class="token number">40f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//============æœ€æ–°å¤©æ°”============</span></span>
<span class="line"><span class="token comment">//*** å½“å‰æ¸©åº¦ï¼š10.0 â„ƒ ***</span></span>
<span class="line"><span class="token comment">//*** å½“å‰æ°”å‹ï¼š150.0 kPa ***</span></span>
<span class="line"><span class="token comment">//*** å½“å‰æ¹¿åº¦ï¼š40.0 %RH ***</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§‚å¯Ÿè€…æ¨¡å¼çš„å¥½å¤„</strong></p><ul><li>1ï¼‰è§‚å¯Ÿè€…æ¨¡å¼è®¾è®¡åï¼Œä¼šä»¥é›†åˆçš„æ–¹å¼æ¥ç®¡ç†ç”¨æˆ·<code>Observer</code>ï¼ŒåŒ…æ‹¬æ³¨å†Œã€ç§»é™¤å’Œé€šçŸ¥</li><li>2ï¼‰è¿™æ ·ï¼Œæˆ‘ä»¬å¢åŠ è§‚å¯Ÿè€…ï¼ˆè¿™é‡Œå¯ä»¥ç†è§£æˆä¸€ä¸ªæ–°çš„å…¬å‘Šæ¿ï¼‰ï¼Œå°±ä¸éœ€è¦å»ä¿®æ”¹æ ¸å¿ƒç±»<code>WeatherData</code>ä¸ä¼šä¿®æ”¹ä»£ç ï¼Œéµå®ˆäº†<code>ocp</code>åŸåˆ™</li></ul><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ–°å¢<code>SinaWebSite</code>å’Œ<code>BaiDuWebSite</code>ä¸¤ä¸ªä¸‰æ–¹ç½‘ç«™ï¼Œæ¥å£æ°”è±¡å±€ã€‚æ­¤æ—¶ä¸‰æ–¹åªéœ€å®ç°ç›¸åº”æ¥å£å³å¯ï¼Œ<code>WeatherData</code>ä¸éœ€è¦æœ‰ä»»ä½•çš„æ”¹å˜</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æ–°å¢çš„ä¸‰æ–¹è§‚å¯Ÿè€…å¯¹è±¡â€”â€”æ–°æµªç½‘</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SinaWebSite</span> <span class="token keyword">implements</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> temperature<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ›´æ–°å¤©æ°”æƒ…å†µï¼Œé€šè¿‡æ¨é€çš„æ–¹å¼ï¼Œç”± WeatherData è°ƒç”¨</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">temperature</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">pressure</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">humidity</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Float</span> temperature<span class="token punctuation">,</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">,</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// æ›´æ–°æœ€æ–°å¤©æ°”æ•°æ®</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">=</span> temperature<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">=</span> pressure<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">=</span> humidity<span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// å±•ç¤ºæœ€æ–°å¤©æ°”æ•°æ®</span></span>
<span class="line">        <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å…¬å‘Šæ¿å±•ç¤ºå¤©æ°”æƒ…å†µ</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============æ–°æµªç½‘-æœ€æ–°å¤©æ°”============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** æ–°æµªç½‘-å½“å‰æ¸©åº¦ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">+</span> <span class="token string">&quot; â„ƒ ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** æ–°æµªç½‘-å½“å‰æ°”å‹ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">+</span> <span class="token string">&quot; kPa ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** æ–°æµªç½‘-å½“å‰æ¹¿åº¦ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">+</span> <span class="token string">&quot; %RH ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æ–°å¢çš„ä¸‰æ–¹è§‚å¯Ÿè€…å¯¹è±¡â€”â€”ç™¾åº¦ç½‘</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaiDuWebSite</span> <span class="token keyword">implements</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> temperature<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ›´æ–°å¤©æ°”æƒ…å†µï¼Œé€šè¿‡æ¨é€çš„æ–¹å¼ï¼Œç”± WeatherData è°ƒç”¨</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">temperature</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">pressure</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">humidity</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Float</span> temperature<span class="token punctuation">,</span> <span class="token class-name">Float</span> pressure<span class="token punctuation">,</span> <span class="token class-name">Float</span> humidity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// æ›´æ–°æœ€æ–°å¤©æ°”æ•°æ®</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">=</span> temperature<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">=</span> pressure<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">=</span> humidity<span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// å±•ç¤ºæœ€æ–°å¤©æ°”æ•°æ®</span></span>
<span class="line">        <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å…¬å‘Šæ¿å±•ç¤ºå¤©æ°”æƒ…å†µ</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============ç™¾åº¦ç½‘-æœ€æ–°å¤©æ°”============&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** ç™¾åº¦ç½‘-å½“å‰æ¸©åº¦ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>temperature <span class="token operator">+</span> <span class="token string">&quot; â„ƒ ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** ç™¾åº¦ç½‘-å½“å‰æ°”å‹ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pressure <span class="token operator">+</span> <span class="token string">&quot; kPa ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*** ç™¾åº¦ç½‘-å½“å‰æ¹¿åº¦ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>humidity <span class="token operator">+</span> <span class="token string">&quot; %RH ***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è°ƒç”¨æµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// æ–°å¢ä¸‰æ–¹æ°”è±¡ç½‘ç«™ï¼Œåªéœ€æ³¨å†Œå³å¯</span></span>
<span class="line">weatherData<span class="token punctuation">.</span><span class="token function">registerObserver</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SinaWebSite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">weatherData<span class="token punctuation">.</span><span class="token function">registerObserver</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BaiDuWebSite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// å¤©æ°”å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ›´æ–°æœ€æ–°çš„æ°”è±¡æ•°æ®</span></span>
<span class="line">weatherData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token number">15f</span><span class="token punctuation">,</span> <span class="token number">120f</span><span class="token punctuation">,</span> <span class="token number">80f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//============æœ€æ–°å¤©æ°”============</span></span>
<span class="line"><span class="token comment">//*** å½“å‰æ¸©åº¦ï¼š15.0 â„ƒ ***</span></span>
<span class="line"><span class="token comment">//*** å½“å‰æ°”å‹ï¼š120.0 kPa ***</span></span>
<span class="line"><span class="token comment">//*** å½“å‰æ¹¿åº¦ï¼š80.0 %RH ***</span></span>
<span class="line"><span class="token comment">//============æ–°æµªç½‘-æœ€æ–°å¤©æ°”============</span></span>
<span class="line"><span class="token comment">//*** æ–°æµªç½‘-å½“å‰æ¸©åº¦ï¼š15.0 â„ƒ ***</span></span>
<span class="line"><span class="token comment">//*** æ–°æµªç½‘-å½“å‰æ°”å‹ï¼š120.0 kPa ***</span></span>
<span class="line"><span class="token comment">//*** æ–°æµªç½‘-å½“å‰æ¹¿åº¦ï¼š80.0 %RH ***</span></span>
<span class="line"><span class="token comment">//============ç™¾åº¦ç½‘-æœ€æ–°å¤©æ°”============</span></span>
<span class="line"><span class="token comment">//*** ç™¾åº¦ç½‘-å½“å‰æ¸©åº¦ï¼š15.0 â„ƒ ***</span></span>
<span class="line"><span class="token comment">//*** ç™¾åº¦ç½‘-å½“å‰æ°”å‹ï¼š120.0 kPa ***</span></span>
<span class="line"><span class="token comment">//*** ç™¾åº¦ç½‘-å½“å‰æ¹¿åº¦ï¼š80.0 %RH ***</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ä¸‰æ–¹ç½‘ç«™ä¸å†éœ€è¦æ—¶ï¼Œåªè¦åšç›¸åº”çš„ç§»é™¤å³å¯</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// ç§»é™¤æ°”è±¡ç½‘ç«™</span></span>
<span class="line">weatherData<span class="token punctuation">.</span><span class="token function">removeObserver</span><span class="token punctuation">(</span>currentConditions<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">weatherData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token number">20f</span><span class="token punctuation">,</span> <span class="token number">160f</span><span class="token punctuation">,</span> <span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//============æ–°æµªç½‘-æœ€æ–°å¤©æ°”============</span></span>
<span class="line"><span class="token comment">//*** æ–°æµªç½‘-å½“å‰æ¸©åº¦ï¼š20.0 â„ƒ ***</span></span>
<span class="line"><span class="token comment">//*** æ–°æµªç½‘-å½“å‰æ°”å‹ï¼š160.0 kPa ***</span></span>
<span class="line"><span class="token comment">//*** æ–°æµªç½‘-å½“å‰æ¹¿åº¦ï¼š30.0 %RH ***</span></span>
<span class="line"><span class="token comment">//============ç™¾åº¦ç½‘-æœ€æ–°å¤©æ°”============</span></span>
<span class="line"><span class="token comment">//*** ç™¾åº¦ç½‘-å½“å‰æ¸©åº¦ï¼š20.0 â„ƒ ***</span></span>
<span class="line"><span class="token comment">//*** ç™¾åº¦ç½‘-å½“å‰æ°”å‹ï¼š160.0 kPa ***</span></span>
<span class="line"><span class="token comment">//*** ç™¾åº¦ç½‘-å½“å‰æ¹¿åº¦ï¼š30.0 %RH ***</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€jdk-æºç åˆ†æ-2" tabindex="-1"><a class="header-anchor" href="#_5ã€jdk-æºç åˆ†æ-2"><span>5ã€JDK æºç åˆ†æ</span></a></h3><p>JDK ä¸­çš„<code>Observable</code>å°±ä½¿ç”¨åˆ°äº†è§‚å¯Ÿè€…æ¨¡å¼</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Observable</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">boolean</span> changed <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Observer</span><span class="token punctuation">&gt;</span></span> obs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Observable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">addObserver</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> var1<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>var1 <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>obs<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>var1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">this</span><span class="token punctuation">.</span>obs<span class="token punctuation">.</span><span class="token function">addElement</span><span class="token punctuation">(</span>var1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">deleteObserver</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> var1<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>obs<span class="token punctuation">.</span><span class="token function">removeElement</span><span class="token punctuation">(</span>var1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">notifyObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyObservers</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">//...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Observable</span> o<span class="token punctuation">,</span> <span class="token class-name">Object</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§’è‰²åˆ†æå’ŒèŒè´£è¯´æ˜</strong></p><ul><li>1ï¼‰<code>Observable</code>å³å……å½“äº†<code>Subject</code>æ¥å£åŠå…¶å®ç°ç±»ï¼Œå…¶ä¸­åŒ…æ‹¬äº†<code>Observer</code>çš„é›†åˆï¼Œå¹¶ä¸”åŒ…æ‹¬å¯¹è§‚å¯Ÿè€…ç›¸å…³çš„æ³¨å†Œã€ç§»é™¤å’Œé€šçŸ¥ç­‰æ–¹æ³•ï¼š<code>addObserver()</code>ã€<code>deleteObserver()</code>å’Œ<code>notifyObservers()</code>ï¼Œè¿™äº›æ–¹æ³•å°±ç±»ä¼¼äºæˆ‘ä»¬ä¸Šé¢ä¾‹å­ä¸­çš„<code>registerObserver()</code>ã€<code>removeObserver()</code>å’Œ<code>notifyObservers()</code></li><li>2ï¼‰<code>Observer</code>å³è§‚å¯Ÿè€…æ¥å£ï¼Œå…·æœ‰<code>update()</code>æ–¹æ³•</li></ul><h2 id="ã€18ã€‘ä¸­ä»‹è€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€18ã€‘ä¸­ä»‹è€…æ¨¡å¼"><span>ã€18ã€‘ä¸­ä»‹è€…æ¨¡å¼</span></a></h2><h3 id="_1ã€æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1ã€æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜"><span>1ã€æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜</span></a></h3><p>æ™ºèƒ½å®¶åº­é¡¹ç›®ï¼š</p><ul><li><p>1ï¼‰æ™ºèƒ½å®¶åº­åŒ…æ‹¬å„ç§è®¾å¤‡ï¼Œé—¹é’Ÿã€å’–å•¡æœºã€ç”µè§†æœºã€çª—å¸˜ç­‰</p></li><li><p>2ï¼‰ä¸»äººè¦çœ‹ç”µè§†æ—¶ï¼Œå„ä¸ªè®¾å¤‡å¯ä»¥ååŒå·¥ä½œï¼Œè‡ªåŠ¨å®Œæˆçœ‹ç”µè§†çš„å‡†å¤‡å·¥ä½œï¼Œæ¯”å¦‚æµç¨‹ä¸ºï¼š</p><p>é—¹é“ƒå“èµ· =&gt; å’–å•¡æœºå¼€å§‹åšå’–å•¡ =&gt; çª—å¸˜è‡ªåŠ¨è½ä¸‹ =&gt; ç”µè§†æœºå¼€å§‹æ’­æ”¾</p></li></ul><p><img src="`+Ps+'" alt="image-20220110214230289"></p><p>ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜</p><p><img src="'+Is+'" alt="image-20220110214330697"></p><p>ä¼ ç»Ÿæ–¹å¼é—®é¢˜åˆ†æ</p><ul><li>1ï¼‰å½“å„ç”µå™¨å¯¹è±¡æœ‰å¤šç§çŠ¶æ€æ”¹å˜æ—¶ï¼Œç›¸äº’ä¹‹é—´çš„è°ƒç”¨å…³ç³»ä¼šæ¯”è¾ƒå¤æ‚</li><li>2ï¼‰å„ä¸ªç”µå™¨å¯¹è±¡å½¼æ­¤è”ç³»ï¼Œä½ ä¸­æœ‰æˆ‘ï¼Œæˆ‘ä¸­æœ‰ä½ ï¼Œä¸åˆ©äºæ¾è€¦åˆ</li><li>3ï¼‰å„ä¸ªç”µå™¨å¯¹è±¡ä¹‹é—´æ‰€ä¼ é€’çš„æ¶ˆæ¯ï¼ˆå‚æ•°ï¼‰ï¼Œå®¹æ˜“æ··ä¹±</li><li>4ï¼‰å½“ç³»ç»Ÿå¢åŠ ä¸€ä¸ªæ–°çš„ç”µå™¨å¯¹è±¡æ—¶ï¼Œæˆ–è€…æ‰§è¡Œæµç¨‹æ”¹å˜æ—¶ï¼Œä»£ç çš„å¯ç»´æŠ¤æ€§ã€æ‰©å±•æ€§éƒ½ä¸ç†æƒ³â†’è€ƒè™‘ä¸­ä»‹è€…æ¨¡å¼</li></ul><h3 id="_2ã€ä¸­ä»‹è€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_2ã€ä¸­ä»‹è€…æ¨¡å¼"><span>2ã€ä¸­ä»‹è€…æ¨¡å¼</span></a></h3><ul><li>1ï¼‰ä¸­ä»‹è€…æ¨¡å¼ï¼ˆ<code>Mediator Pattern</code>ï¼‰ï¼Œç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„ä¸ªå¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å…¶<mark>è€¦åˆæ¾æ•£</mark>ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’</li><li>2ï¼‰ä¸­ä»‹è€…æ¨¡å¼å±äº<mark>è¡Œä¸ºå‹æ¨¡å¼</mark>ï¼Œä½¿ä»£ç æ˜“äºç»´æŠ¤</li><li>3ï¼‰æ¯”å¦‚ MVC æ¨¡å¼ï¼ŒCï¼ˆ<code>Controller</code>æ§åˆ¶å™¨ï¼‰æ˜¯Mï¼ˆ<code>Model</code>æ¨¡å‹ï¼‰å’ŒVï¼ˆ<code>View</code>è§†å›¾ï¼‰çš„ä¸­ä»‹è€…ï¼Œåœ¨å‰åç«¯äº¤äº’æ—¶èµ·åˆ°äº†ä¸­é—´äººçš„ä½œç”¨</li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+Fs+'" alt="image-20220110215527517"></p><p><strong>ä¸­ä»‹è€…æ¨¡å¼è§’è‰²åŠèŒè´£</strong></p><ul><li><code>Mediator</code>ã€æŠ½è±¡ä¸­ä»‹è€…ã€‘ï¼šå®šä¹‰äº†åŒäº‹å¯¹è±¡åˆ°ä¸­ä»‹è€…å¯¹è±¡çš„æ¥å£</li><li><code>ConcreteMediator</code>ã€å…·ä½“çš„ä¸­ä»‹è€…å¯¹è±¡ã€‘ï¼šå®ç°æŠ½è±¡ä¸­ä»‹è€…æ–¹æ³•ï¼Œéœ€è¦çŸ¥é“æ‰€æœ‰å…·ä½“çš„åŒäº‹ç±»ï¼Œå³ä»¥ä¸€ä¸ªé›†åˆæ¥ç®¡ç†<code>HashMap</code>ï¼Œå¹¶æ¥å—æŸä¸ªåŒäº‹å¯¹è±¡æ¶ˆæ¯ï¼Œå®Œæˆç›¸åº”çš„ä»»åŠ¡</li><li><code>Colleague</code>ã€æŠ½è±¡åŒäº‹ç±»ã€‘</li><li><code>ConcreteColleague</code>ã€å…·ä½“çš„åŒäº‹ç±»ã€‘ï¼šä¼šæœ‰å¾ˆå¤šï¼ŒåªçŸ¥é“è‡ªå·±çš„è¡Œä¸ºï¼Œè€Œä¸äº†è§£å…¶ä»–åŒäº‹ç±»çš„è¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰ï¼Œä½†ä»–ä»¬éƒ½ä¾èµ–ä¸­ä»‹è€…å¯¹è±¡</li></ul><h3 id="_3ã€ä¸­ä»‹è€…æ¨¡å¼è§£å†³æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_3ã€ä¸­ä»‹è€…æ¨¡å¼è§£å†³æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜"><span>3ã€ä¸­ä»‹è€…æ¨¡å¼è§£å†³æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+Ms+'" alt="image-20220111195745055"></p><p><img src="'+zs+`" alt="image-20220111213437160"></p><p><strong>æ™ºèƒ½å®¶åº­ç®¡ç†æ“ä½œæµç¨‹</strong></p><ul><li>1ï¼‰åˆ›å»º<code>ConcreMediator</code>å¯¹è±¡</li><li>2ï¼‰åˆ›å»ºå„ä¸ªåŒäº‹ç±»å¯¹è±¡ï¼Œæ¯”å¦‚ï¼š<code>Alarm</code>ã€<code>CoffeeMachine</code>ã€<code>TV</code>...</li><li>3ï¼‰åœ¨åˆ›å»ºåŒäº‹ç±»å¯¹è±¡æ—¶ï¼Œç›´æ¥é€šè¿‡æ„é€ å™¨åŠ å…¥åˆ°<code>colleagueMap</code></li><li>4ï¼‰åŒäº‹ç±»å¯¹è±¡å¯ä»¥è°ƒç”¨<code>sendMessage</code>ï¼Œæœ€ç»ˆä¼šå»è°ƒç”¨<code>ConcreteMediator</code>çš„<code>getMessage</code>æ–¹æ³•</li><li>5ï¼‰<code>getMessage</code>ä¼šæ ¹æ®æ¥æ”¶åˆ°çš„åŒäº‹å¯¹è±¡å‘å‡ºçš„æ¶ˆæ¯ï¼Œæ¥åè°ƒè°ƒç”¨å…¶å®ƒçš„åŒäº‹å¯¹è±¡ï¼Œå®Œæˆä»»åŠ¡</li><li>6ï¼‰å¯ä»¥çœ‹åˆ°<code>getMessage</code>æ˜¯æ ¸å¿ƒæ–¹æ³•ï¼Œå®Œæˆç›¸åº”ä»»åŠ¡</li></ul><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>æŠ½è±¡ä¸­ä»‹è€…</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Mediator</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">registerColleague</span><span class="token punctuation">(</span><span class="token class-name">Colleague</span> colleague<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">getMsg</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> state<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…·ä½“ä¸­ä»‹è€…</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteMediator</span> <span class="token keyword">extends</span> <span class="token class-name">Mediator</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Colleague</span><span class="token punctuation">&gt;</span></span> colleagueMap<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ConcreteMediator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>colleagueMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerColleague</span><span class="token punctuation">(</span><span class="token class-name">Colleague</span> colleague<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        colleagueMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>colleague<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> colleague<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getMsg</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> state<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Colleague</span> colleague <span class="token operator">=</span> colleagueMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>colleague <span class="token keyword">instanceof</span> <span class="token class-name">Alarm</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">dealAlarm</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>colleague <span class="token keyword">instanceof</span> <span class="token class-name">CoffeeMachine</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">dealCoffeeMachine</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>colleague <span class="token keyword">instanceof</span> <span class="token class-name">Curtain</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">dealCurtain</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>colleague <span class="token keyword">instanceof</span> <span class="token class-name">TV</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">dealTV</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * é—¹é“ƒå“èµ·åæ“ä½œ</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">state</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dealAlarm</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Alarm</span><span class="token punctuation">)</span> colleagueMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Alarm</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">closeAlarm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">CoffeeMachine</span><span class="token punctuation">)</span> colleagueMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">CoffeeMachine</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">makeCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å’–å•¡æœºç…®å’–å•¡å®Œæ¯•åæ“ä½œ</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">state</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dealCoffeeMachine</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Curtain</span><span class="token punctuation">)</span> colleagueMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Curtain</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">downCurtain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * çª—å¸˜è½ä¸‹åæ“ä½œ</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">state</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dealCurtain</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">TV</span> tv <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">TV</span><span class="token punctuation">)</span> colleagueMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token constant">TV</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            tv<span class="token punctuation">.</span><span class="token function">openTV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            tv<span class="token punctuation">.</span><span class="token function">switchChannel</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç”µè§†å…³é—­åæ“ä½œ</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">state</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dealTV</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Curtain</span><span class="token punctuation">)</span> colleagueMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Curtain</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">upCurtain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// Do Nothing...</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠ½è±¡åŒäº‹ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Colleague</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Mediator</span> mediator<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Colleague</span><span class="token punctuation">(</span><span class="token class-name">Mediator</span> mediator<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>mediator <span class="token operator">=</span> mediator<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Mediator</span> <span class="token function">getMediator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mediator<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMediator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMsg</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…·ä½“åŒäº‹ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * é—¹é’Ÿ</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Alarm</span> <span class="token keyword">extends</span> <span class="token class-name">Colleague</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Alarm</span><span class="token punctuation">(</span><span class="token class-name">Mediator</span> mediator<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>mediator<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMediator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerColleague</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * é—¹é“ƒå“èµ·</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">openAlarm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;é—¹é“ƒå“èµ·&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">//æ¨¡æ‹Ÿé—¹é“ƒè€—æ—¶</span></span>
<span class="line">            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * é—¹é“ƒå…³é—­</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">closeAlarm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;é—¹é“ƒå…³é—­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å’–å•¡æœº</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CoffeeMachine</span> <span class="token keyword">extends</span> <span class="token class-name">Colleague</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">CoffeeMachine</span><span class="token punctuation">(</span><span class="token class-name">Mediator</span> mediator<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>mediator<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMediator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerColleague</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç…®å’–å•¡</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">makeCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;ç…®å’–å•¡ä¸­...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">//æ¨¡æ‹Ÿç…®å’–å•¡è€—æ—¶</span></span>
<span class="line">            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç…®å’–å•¡å®Œæ¯•</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">completeCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;å’–å•¡å·²ç…®å¥½&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * çª—å¸˜</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Curtain</span> <span class="token keyword">extends</span> <span class="token class-name">Colleague</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Curtain</span><span class="token punctuation">(</span><span class="token class-name">Mediator</span> mediator<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>mediator<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMediator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerColleague</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ‹‰èµ·çª—å¸˜</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">upCurtain</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;æ‹‰èµ·çª—å¸˜...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">//æ¨¡æ‹Ÿæ‹‰èµ·çª—å¸˜è€—æ—¶</span></span>
<span class="line">            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ‹‰ä¸‹çª—å¸˜</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">downCurtain</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;æ‹‰ä¸‹çª—å¸˜...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">//æ¨¡æ‹Ÿæ‹‰ä¸‹çª—å¸˜è€—æ—¶</span></span>
<span class="line">            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ç”µè§†æœº</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TV</span> <span class="token keyword">extends</span> <span class="token class-name">Colleague</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token function">TV</span><span class="token punctuation">(</span><span class="token class-name">Mediator</span> mediator<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>mediator<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMediator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerColleague</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ‰“å¼€ç”µè§†</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">openTV</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;æ‰“å¼€ç”µè§†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å…³é—­ç”µè§†</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">closeTV</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;å…³é—­ç”µè§†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * åˆ‡æ¢é¢‘é“</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">switchChannel</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&gt;&gt;åˆ‡æ¢é¢‘é“ï¼š&quot;</span> <span class="token operator">+</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">sendMsg</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">//æ¨¡æ‹Ÿçœ‹ç”µè§†è€—æ—¶</span></span>
<span class="line">            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ä»£ç </p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//åˆ›å»ºä¸­ä»‹è€…</span></span>
<span class="line"><span class="token class-name">Mediator</span> mediator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteMediator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//åˆ›å»ºå„ä¸ªåŒäº‹ç±»ï¼Œå¹¶åŠ å…¥Mediatorä¸­ä»‹è€…çš„Mapå¯¹è±¡ä¸­</span></span>
<span class="line"><span class="token class-name">Alarm</span> alarm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alarm</span><span class="token punctuation">(</span>mediator<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">CoffeeMachine</span> coffeeMachine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeMachine</span><span class="token punctuation">(</span>mediator<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Curtain</span> curtain <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Curtain</span><span class="token punctuation">(</span>mediator<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">TV</span> tv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TV</span><span class="token punctuation">(</span>mediator<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//é—¹é’Ÿå“èµ·</span></span>
<span class="line">alarm<span class="token punctuation">.</span><span class="token function">openAlarm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">coffeeMachine<span class="token punctuation">.</span><span class="token function">completeCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">tv<span class="token punctuation">.</span><span class="token function">closeTV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//&gt;&gt;&gt;é—¹é“ƒå“èµ·</span></span>
<span class="line"><span class="token comment">//&gt;&gt;&gt;é—¹é“ƒå…³é—­</span></span>
<span class="line"><span class="token comment">//&gt;&gt;&gt;ç…®å’–å•¡ä¸­...</span></span>
<span class="line"><span class="token comment">//&gt;&gt;&gt;å’–å•¡å·²ç…®å¥½</span></span>
<span class="line"><span class="token comment">//&gt;&gt;&gt;æ‹‰ä¸‹çª—å¸˜...</span></span>
<span class="line"><span class="token comment">//&gt;&gt;&gt;æ‰“å¼€ç”µè§†...</span></span>
<span class="line"><span class="token comment">//&gt;&gt;&gt;åˆ‡æ¢é¢‘é“ï¼š101</span></span>
<span class="line"><span class="token comment">//&gt;&gt;&gt;å…³é—­ç”µè§†...</span></span>
<span class="line"><span class="token comment">//&gt;&gt;&gt;æ‹‰èµ·çª—å¸˜...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€ä¸­ä»‹è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_4ã€ä¸­ä»‹è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>4ã€ä¸­ä»‹è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><p><strong>ä¼˜ç‚¹</strong></p><ul><li><p>1ï¼‰å¤šä¸ªç±»ç›¸äº’è€¦åˆï¼Œä¼šå½¢æˆç½‘çŠ¶ç»“æ„ï¼Œä½¿ç”¨<mark>ä¸­ä»‹è€…æ¨¡å¼å°†ç½‘çŠ¶ç»“æ„åˆ†ç¦»ä¸ºæ˜Ÿå‹ç»“æ„ï¼Œè¿›è¡Œè§£è€¦</mark></p></li><li><p>2ï¼‰å‡å°‘ç±»é—´ä¾èµ–ï¼Œé™ä½äº†è€¦åˆï¼Œ<mark>ç¬¦åˆè¿ªç±³ç‰¹åŸåˆ™</mark></p></li></ul><p><strong>ç¼ºç‚¹</strong></p><ul><li><p>3ï¼‰ä¸­ä»‹è€…æ‰¿æ‹…äº†è¾ƒå¤šçš„è´£ä»»ï¼Œ<mark>ä¸€æ—¦ä¸­ä»‹è€…å‡ºç°äº†é—®é¢˜ï¼Œæ•´ä¸ªç³»ç»Ÿå°±ä¼šå—åˆ°å½±å“</mark></p></li><li><p>4ï¼‰<mark>å¦‚æœè®¾è®¡ä¸å½“ï¼Œä¸­ä»‹è€…å¯¹è±¡æœ¬èº«å˜å¾—è¿‡äºå¤æ‚</mark>ï¼Œè¿™ç‚¹åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œè¦ç‰¹åˆ«æ³¨æ„**</p></li></ul><h2 id="ã€19ã€‘å¤‡å¿˜å½•æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€19ã€‘å¤‡å¿˜å½•æ¨¡å¼"><span>ã€19ã€‘å¤‡å¿˜å½•æ¨¡å¼</span></a></h2><h3 id="_1ã€æ¸¸æˆè§’è‰²çŠ¶æ€æ¢å¤é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1ã€æ¸¸æˆè§’è‰²çŠ¶æ€æ¢å¤é—®é¢˜"><span>1ã€æ¸¸æˆè§’è‰²çŠ¶æ€æ¢å¤é—®é¢˜</span></a></h3><p>æ¸¸æˆé±¼è‰²æœ‰æ”»å‡»åŠ›å’Œé˜²å¾¡åŠ›ï¼Œåœ¨å¤§æˆ˜ Boss å‰ä¿å­˜è‡ªèº«çš„çŠ¶æ€ï¼ˆæ”»å‡»åŠ›å’Œé˜²å¾¡åŠ›ï¼‰ï¼Œå½“å¤§æˆ˜ Boss åæ”»å‡»åŠ›å’Œé˜²å¾¡ä¸‡ä¸‹é™ï¼Œä»å¤‡å¿˜å½•å¯¹è±¡æ¢å¤åˆ°å¤§æˆ˜å‰çš„çŠ¶æ€</p><p><strong>ä¼ ç»Ÿæ–¹æ¡ˆ</strong></p><p><img src="`+Vs+'" alt="image-20220112212748962"></p><p><strong>ä¼ ç»Ÿæ–¹æ¡ˆé—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰ä¸€ä¸ªå¯¹è±¡ï¼Œå°±å¯¹åº”ä¸€ä¸ªä¿å­˜å¯¹è±¡çŠ¶æ€çš„å¯¹è±¡ã€‚è¿™æ ·å½“æˆ‘ä»¬æ¸¸æˆçš„å¯¹è±¡å¾ˆå¤šæ—¶ï¼Œä¸åˆ©äºç®¡ç†ï¼Œå¼€é”€ä¹Ÿå¾ˆå¤§</li><li>2ï¼‰ä¼ ç»Ÿçš„æ–¹å¼æ˜¯ç®€å•åœ°åšå¤‡ä»½ï¼Œ<code>new</code>å‡ºå¦å¤–ä¸€ä¸ªå¯¹è±¡å‡ºæ¥ï¼Œå†æŠŠéœ€è¦å¤‡ä»½çš„æ•°æ®æ”¾åˆ°è¿™ä¸ªæ–°å¯¹è±¡ï¼Œä½†è¿™å°±æš´éœ²äº†å¯¹è±¡å†…éƒ¨çš„ç»†èŠ‚</li><li>3ï¼‰è§£å†³æ–¹æ¡ˆï¼š<mark>å¤‡å¿˜å½•æ¨¡å¼</mark></li></ul><h3 id="_2ã€å¤‡å¿˜å½•æ¨¡å¼åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€å¤‡å¿˜å½•æ¨¡å¼åŸºæœ¬ä»‹ç»"><span>2ã€å¤‡å¿˜å½•æ¨¡å¼åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ ·ä»¥åå°±å¯å°†è¯¥å¯¹è±¡æ¢å¤åˆ°åŸå…ˆä¿å­˜çš„çŠ¶æ€</li><li>2ï¼‰å¯ä»¥è¿™æ ·ç†è§£å¤‡å¿˜å½•æ¨¡å¼ï¼šç°å®ç”Ÿæ´»ä¸­çš„å¤‡å¿˜å½•æ˜¯ç”¨æ¥è®°å½•æŸäº›è¦å»åšçš„äº‹æƒ…ï¼Œæˆ–è€…æ˜¯è®°å½•å·²ç»è¾¾æˆçš„å…±åŒæ„è§çš„äº‹æƒ…ï¼Œä»¥é˜²å¿˜è®°äº†ã€‚è€Œåœ¨è½¯ä»¶å±‚é¢ï¼Œå¤‡å¿˜å½•æ¨¡å¼æœ‰ç€ç›¸åŒçš„å«ä¹‰ï¼Œå¤‡å¿˜å½•å¯¹è±¡ä¸»è¦ç”¨æ¥è®°å½•ä¸€ä¸ªå¯¹è±¡çš„æŸç§çŠ¶æ€ï¼Œæˆ–è€…æŸäº›æ•°æ®ï¼Œå½“è¦åšå›é€€æ—¶ï¼Œå¯ä»¥ä»å¤‡å¿˜å½•å¯¹è±¡é‡Œè·å–åŸæ¥çš„æ•°æ®è¿›è¡Œæ¢å¤æ“ä½œ</li><li>3ï¼‰<mark>å¤‡å¿˜å½•æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼</mark></li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+Ts+'" alt="image-20220112213832425"></p><p><img src="'+Rs+`" alt="image-20220114223647227"></p><p><strong>ç¤ºä¾‹ä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æºå¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Originator</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> state<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token class-name">String</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Memento</span> <span class="token function">createMementor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Memento</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">revertStateFromMementor</span><span class="token punctuation">(</span><span class="token class-name">Memento</span> memento<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> memento<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å¤‡å¿˜å½•å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Memento</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> state<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Memento</span><span class="token punctuation">(</span><span class="token class-name">String</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å®ˆæŠ¤è€…å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Caretaker</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Memento</span><span class="token punctuation">&gt;</span></span> mementoList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addMemento</span><span class="token punctuation">(</span><span class="token class-name">Memento</span> memento<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        mementoList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>memento<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Memento</span> <span class="token function">getMemento</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> mementoList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">Originator</span> originator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Originator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Caretaker</span> caretaker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Caretaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">originator<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰çŠ¶æ€ï¼š&quot;</span> <span class="token operator">+</span> <span class="token string">&quot; çŠ¶æ€#1 è¡€é‡ 100 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">caretaker<span class="token punctuation">.</span><span class="token function">addMemento</span><span class="token punctuation">(</span>originator<span class="token punctuation">.</span><span class="token function">createMementor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>originator<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">originator<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰çŠ¶æ€ï¼š&quot;</span> <span class="token operator">+</span> <span class="token string">&quot; çŠ¶æ€#2 è¡€é‡ 80 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">caretaker<span class="token punctuation">.</span><span class="token function">addMemento</span><span class="token punctuation">(</span>originator<span class="token punctuation">.</span><span class="token function">createMementor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>originator<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">originator<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰çŠ¶æ€ï¼š&quot;</span> <span class="token operator">+</span> <span class="token string">&quot; çŠ¶æ€#3 è¡€é‡ 60 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">caretaker<span class="token punctuation">.</span><span class="token function">addMemento</span><span class="token punctuation">(</span>originator<span class="token punctuation">.</span><span class="token function">createMementor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>originator<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ¢å¤åˆ°çŠ¶æ€1</span></span>
<span class="line">originator<span class="token punctuation">.</span><span class="token function">revertStateFromMementor</span><span class="token punctuation">(</span>caretaker<span class="token punctuation">.</span><span class="token function">getMemento</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ¢å¤çŠ¶æ€ï¼š&quot;</span> <span class="token operator">+</span> originator<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//å½“å‰çŠ¶æ€ï¼š çŠ¶æ€#1 è¡€é‡ 100</span></span>
<span class="line"><span class="token comment">//å½“å‰çŠ¶æ€ï¼š çŠ¶æ€#2 è¡€é‡ 80</span></span>
<span class="line"><span class="token comment">//å½“å‰çŠ¶æ€ï¼š çŠ¶æ€#3 è¡€é‡ 60</span></span>
<span class="line"><span class="token comment">//æ¢å¤çŠ¶æ€ï¼šå½“å‰çŠ¶æ€ï¼š çŠ¶æ€#1 è¡€é‡ 100</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¤‡å¿˜å½•æ¨¡å¼ä¸­çš„è§’è‰²å’ŒèŒè´£</strong></p><ul><li><code>Originator</code>æºå¯¹è±¡ï¼šéœ€è¦ä¿å­˜çŠ¶æ€çš„å¯¹è±¡</li><li><code>Memento</code>å¤‡å¿˜å½•å¯¹è±¡ï¼šè´Ÿè´£ä¿å­˜<code>Originator</code>å†…éƒ¨çŠ¶æ€</li><li><code>Caretaker</code>å®ˆæŠ¤è€…å¯¹è±¡ï¼šè´Ÿè´£å­˜æ”¾å¤šä¸ª<code>Memento</code>å¯¹è±¡ï¼Œä½¿ç”¨é›†åˆç®¡ç†ï¼Œæé«˜æ•ˆç‡</li><li>å¦‚æœå¸Œæœ›ä¿å­˜å¤šä¸ª<code>Originator</code>å¯¹è±¡çš„ä¸åŒå†…éƒ¨çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>Map&lt;String, List&lt;Memento&gt;&gt;</code></li></ul><h3 id="_3ã€å¤‡å¿˜å½•æ¨¡å¼è§£å†³æ¸¸æˆè§’è‰²çŠ¶æ€å›å¤é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_3ã€å¤‡å¿˜å½•æ¨¡å¼è§£å†³æ¸¸æˆè§’è‰²çŠ¶æ€å›å¤é—®é¢˜"><span>3ã€å¤‡å¿˜å½•æ¨¡å¼è§£å†³æ¸¸æˆè§’è‰²çŠ¶æ€å›å¤é—®é¢˜</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="`+Hs+`" alt="image-20220114223757035"></p><p><strong>å¤‡å¿˜å½•å¯¹è±¡</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Memento</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> vit<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> def<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Memento</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> vit<span class="token punctuation">,</span> <span class="token class-name">Integer</span> def<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>vit <span class="token operator">=</span> vit<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>def <span class="token operator">=</span> def<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getVit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> vit<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setVit</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> vit<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>vit <span class="token operator">=</span> vit<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getDef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> def<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDef</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> def<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>def <span class="token operator">=</span> def<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å®ˆæŠ¤è€…å¯¹è±¡</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Caretaker</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Memento</span> memento<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Memento</span> <span class="token function">getMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> memento<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMemento</span><span class="token punctuation">(</span><span class="token class-name">Memento</span> memento<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>memento <span class="token operator">=</span> memento<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¸¸æˆè§’è‰²å¯¹è±¡</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GameRole</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> vit<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> def<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getVit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> vit<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setVit</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> vit<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>vit <span class="token operator">=</span> vit<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getDef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> def<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDef</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> def<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>def <span class="token operator">=</span> def<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Memento</span> <span class="token function">createMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Memento</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>vit<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>def<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">recoverMemento</span><span class="token punctuation">(</span><span class="token class-name">Memento</span> memento<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>vit <span class="token operator">=</span> memento<span class="token punctuation">.</span><span class="token function">getVit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>def <span class="token operator">=</span> memento<span class="token punctuation">.</span><span class="token function">getDef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ¸¸æˆè§’è‰²å½“å‰æ”»å‡»åŠ›ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>vit <span class="token operator">+</span> <span class="token string">&quot;ï¼Œå½“å‰é˜²å¾¡åŠ›ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>def<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======å¤§æˆ˜å‰çŠ¶æ€======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">GameRole</span> gameRole <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GameRole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gameRole<span class="token punctuation">.</span><span class="token function">setVit</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gameRole<span class="token punctuation">.</span><span class="token function">setDef</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Caretaker</span> caretaker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Caretaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">caretaker<span class="token punctuation">.</span><span class="token function">setMemento</span><span class="token punctuation">(</span>gameRole<span class="token punctuation">.</span><span class="token function">createMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gameRole<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======å¤§æˆ˜åçŠ¶æ€======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gameRole<span class="token punctuation">.</span><span class="token function">setVit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gameRole<span class="token punctuation">.</span><span class="token function">setDef</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gameRole<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======ä»å¤‡å¿˜å½•å¯¹è±¡æ¢å¤åˆ°å¤§æˆ˜å‰çš„çŠ¶æ€======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gameRole<span class="token punctuation">.</span><span class="token function">recoverMemento</span><span class="token punctuation">(</span>caretaker<span class="token punctuation">.</span><span class="token function">getMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gameRole<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//======å¤§æˆ˜å‰çŠ¶æ€======</span></span>
<span class="line"><span class="token comment">//æ¸¸æˆè§’è‰²å½“å‰æ”»å‡»åŠ›ï¼š100ï¼Œå½“å‰é˜²å¾¡åŠ›ï¼š100</span></span>
<span class="line"><span class="token comment">//======å¤§æˆ˜åçŠ¶æ€======</span></span>
<span class="line"><span class="token comment">//æ¸¸æˆè§’è‰²å½“å‰æ”»å‡»åŠ›ï¼š10ï¼Œå½“å‰é˜²å¾¡åŠ›ï¼š10</span></span>
<span class="line"><span class="token comment">//======ä»å¤‡å¿˜å½•å¯¹è±¡æ¢å¤åˆ°å¤§æˆ˜å‰çš„çŠ¶æ€======</span></span>
<span class="line"><span class="token comment">//æ¸¸æˆè§’è‰²å½“å‰æ”»å‡»åŠ›ï¼š100ï¼Œå½“å‰é˜²å¾¡åŠ›ï¼š100</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€å¤‡å¿˜å½•æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_4ã€å¤‡å¿˜å½•æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>4ã€å¤‡å¿˜å½•æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><p><strong>ä¼˜ç‚¹</strong></p><ul><li>1ï¼‰ç»™ç”¨æˆ·æä¾›äº†ä¸€ç§å¯ä»¥æ¢å¤çŠ¶æ€çš„æœºåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨æˆ·èƒ½å¤Ÿæ¯”è¾ƒæ–¹ä¾¿åœ°å›åˆ°æŸä¸ªå†å²çš„çŠ¶æ€</li><li>2ï¼‰å®ç°äº†ä¿¡æ¯çš„å°è£…ï¼Œä½¿å¾—ç”¨æˆ·ä¸éœ€è¦å…³å¿ƒçŠ¶æ€çš„ä¿å­˜ç»†èŠ‚</li></ul><p><strong>ç¼ºç‚¹</strong></p><ul><li>3ï¼‰å¦‚æœç±»çš„æˆå‘˜å˜é‡è¿‡å¤šï¼ŒåŠ¿å¿…ä¼šå ç”¨æ¯”è¾ƒå¤§çš„èµ„æºï¼Œè€Œä¸”æ¯ä¸€æ¬¡ä¿å­˜éƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„å†…å­˜ï¼Œè¿™ä¸ªéœ€è¦æ³¨æ„</li></ul><p><strong>å…¶ä»–</strong></p><ul><li>4ï¼‰é€‚ç”¨çš„åº”ç”¨åœºæ™¯ï¼š <ol><li>åæ‚”è¯</li><li>æ‰“æ¸¸æˆæ—¶çš„å­˜æ¡£</li><li><code>Windows</code>é‡Œçš„<code>ctrl+z</code></li><li><code>IE</code>ä¸­çš„åé€€</li><li>æ•°æ®åº“çš„äº‹åŠ¡ç®¡ç†</li></ol></li><li>5ï¼‰ä¸ºäº†èŠ‚çº¦å†…å­˜ï¼Œå¤‡å¿˜å½•æ¨¡å¼å¯ä»¥å’ŒåŸå‹æ¨¡å¼é…åˆä½¿ç”¨</li></ul><h2 id="ã€20ã€‘è§£é‡Šå™¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€20ã€‘è§£é‡Šå™¨æ¨¡å¼"><span>ã€20ã€‘è§£é‡Šå™¨æ¨¡å¼</span></a></h2><h3 id="_1ã€å››åˆ™è¿ç®—é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1ã€å››åˆ™è¿ç®—é—®é¢˜"><span>1ã€å››åˆ™è¿ç®—é—®é¢˜</span></a></h3><p>é€šè¿‡è§£é‡Šå™¨æ¨¡å¼æ¥å®ç°å››åˆ™è¿ç®—ï¼Œå¦‚è®¡ç®—<code>a + b - c</code>çš„å€¼ï¼Œå…·ä½“è¦æ±‚</p><ul><li>1ï¼‰å…ˆè¾“å…¥è¡¨è¾¾å¼çš„å½¢å¼ï¼Œæ¯”å¦‚<code>a + b + c - d + e</code>ï¼Œè¦æ±‚è¡¨è¾¾å¼çš„å­—æ¯ä¸èƒ½é‡å¤</li><li>2ï¼‰åœ¨åˆ†åˆ«è¾“å…¥<code>a, b, c, d, e</code>çš„å€¼</li><li>3ï¼‰æœ€åæ±‚å‡ºç»“æœï¼šå¦‚å›¾</li></ul><p><img src="`+Ls+'" alt="image-20220115215331808"></p><p><strong>ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³å››åˆ™è¿ç®—é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥æ”¶è¡¨è¾¾å¼çš„å½¢å¼ï¼Œç„¶åæ ¹æ®ç”¨æˆ·è¾“å…¥çš„æ•°å€¼è¿›è¡Œè§£æï¼Œå¾—åˆ°ç»“æœ</li><li>2ï¼‰é—®é¢˜åˆ†æï¼šå¦‚æœåŠ å…¥æ–°çš„è¿ç®—ç¬¦ï¼Œæ¯”å¦‚<code>* / (</code>ç­‰ç­‰ï¼Œä¸åˆ©äºæ‰©å±•ï¼Œå¦å¤–è®©ä¸€ä¸ªæ–¹æ³•æ¥è§£æä¼šé€ æˆç¨‹åºç»“æ„æ··ä¹±ï¼Œä¸å¤Ÿæ¸…æ™°</li><li>3ï¼‰è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥è€ƒè™‘ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼ï¼Œå³ï¼šè¡¨è¾¾å¼ =&gt; è§£é‡Šå™¨ï¼ˆå¯ä»¥æœ‰å¤šç§ï¼‰ =&gt; ç»“æœ</li></ul><h3 id="_2ã€è§£é‡Šå™¨æ¨¡å¼çš„åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€è§£é‡Šå™¨æ¨¡å¼çš„åŸºæœ¬ä»‹ç»"><span>2ã€è§£é‡Šå™¨æ¨¡å¼çš„åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰åœ¨ç¼–è¯‘åŸç†ä¸­ï¼Œä¸€ä¸ª<mark>ç®—æœ¯è¡¨è¾¾å¼</mark>é€šè¿‡<mark>è¯æ³•åˆ†æå™¨</mark>å½¢æˆ<mark>è¯æ³•å•å…ƒ</mark>ï¼Œè€Œåè¿™äº›<mark>è¯æ³•å•å…ƒ</mark>å†é€šè¿‡<mark>è¯­æ³•åˆ†æå™¨</mark>æ„å»º<mark>è¯­æ³•åˆ†ææ ‘</mark>ï¼Œæœ€ç»ˆå½¢æˆä¸€é¢—<mark>æŠ½è±¡çš„è¯­æ³•åˆ†ææ ‘</mark>ã€‚è¿™é‡Œçš„<mark>è¯æ³•åˆ†æå™¨</mark>å’Œ<mark>è¯­æ³•åˆ†æå™¨</mark>éƒ½å¯ä»¥çœ‹åšæ˜¯è§£é‡Šå™¨</li><li>2ï¼‰è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰ï¼šæ˜¯æŒ‡ç»™å®šä¸€ä¸ªè¯­è¨€ï¼ˆè¡¨è¾¾å¼ï¼‰ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œä½¿ç”¨è¯¥è§£é‡Šå™¨æ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ï¼ˆè¡¨è¾¾å¼ï¼‰</li><li>3ï¼‰åº”ç”¨åœºæ™¯ <ul><li>åº”ç”¨å¯ä»¥å°†ä¸€ä¸ªéœ€è¦è§£é‡Šæ‰§è¡Œçš„è¯­è¨€ä¸­çš„å¥å­è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘</li><li>ä¸€äº›é‡å¤å‡ºç°çš„é—®é¢˜å¯ä»¥ç”¨ä¸€ç§ç®€å•çš„è¯­è¨€æ¥è¡¨è¾¾</li><li>ä¸€ä¸ªç®€å•è¯­æ³•éœ€è¦è§£é‡Šçš„åœºæ™¯</li></ul></li><li>4ï¼‰è¿™æ ·çš„ä¾‹å­è¿˜æœ‰ï¼Œæ¯”å¦‚<mark>ç¼–è¯‘å™¨ã€è¿ç®—è¡¨è¾¾å¼è®¡ç®—ã€æ­£åˆ™è¡¨è¾¾å¼ã€æœºå™¨äºº</mark>ç­‰</li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+Ns+'" alt="image-20220115220756742"></p><p><strong>è§£é‡Šå™¨æ¨¡å¼çš„è§’è‰²åŠèŒè´£</strong></p><ul><li><code>Context</code>ç¯å¢ƒè§’è‰²ï¼šå«æœ‰è§£é‡Šå™¨ä¹‹å¤–çš„å…¨å±€ä¿¡æ¯</li><li><code>AbstractExpression</code>æŠ½è±¡è¡¨è¾¾å¼ï¼šå£°æ˜ä¸€ä¸ªæŠ½è±¡çš„è§£é‡Šæ“ä½œï¼Œè¯¥æ–¹æ³•ä¸ºæŠ½è±¡è¯­æ³•æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹å…±äº«</li><li><code>TerminalExpression</code>ç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼šå®ç°ä¸æ–‡æ³•ä¸­ç»ˆç»“ç¬¦ç›¸å…³çš„è§£é‡Šæ“ä½œ</li><li><code>NonTerminalExpression</code>éç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼šå®ç°ä¸æ–‡æ³•ä¸­éç»ˆç»“ç¬¦ç›¸å…³çš„è§£é‡Šæ“ä½œ</li></ul><h3 id="_3ã€è§£é‡Šå™¨æ¨¡å¼è§£å†³å››åˆ™è¿ç®—é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_3ã€è§£é‡Šå™¨æ¨¡å¼è§£å†³å››åˆ™è¿ç®—é—®é¢˜"><span>3ã€è§£é‡Šå™¨æ¨¡å¼è§£å†³å››åˆ™è¿ç®—é—®é¢˜</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+Ws+'" alt="image-20220115221726269"></p><p><img src="'+Us+`" alt="image-20220115231901461"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>æŠ½è±¡è¡¨è¾¾å¼</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡è¡¨è¾¾å¼ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Expression</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * a + b - c</span>
<span class="line">     * è§£é‡Šå…¬å¼å’Œæ•°å€¼ï¼Œkeyå°±æ˜¯å…¬å¼ï¼ˆè¡¨è¾¾å¼ï¼‰å‚æ•°[a, b, c]ï¼Œvalueå°±æ˜¯å…·ä½“å€¼</span>
<span class="line">     * HashMap<span class="token punctuation">{</span>a=10, b=20<span class="token punctuation">}</span></span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">var</span></span>
<span class="line">     * <span class="token keyword">@return</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">int</span> <span class="token function">interpret</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">var</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠ½è±¡è¿ç®—ç¬¦å·è§£é‡Šå™¨</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡è¿ç®—ç¬¦å·è§£é‡Šå™¨</span>
<span class="line"> * è¿™é‡Œæ¯ä¸ªè¿ç®—ç¬¦å·ï¼Œéƒ½åªå’Œè‡ªå·±å·¦å³ä¸¤ä¸ªæ•°å­—æœ‰å…³ç³»ï¼Œ</span>
<span class="line"> * ä½†å·¦å³ä¸¤ä¸ªæ•°å­—æœ‰å¯èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªè§£æçš„ç»“æœï¼Œæ— è®ºä½•ç§ç±»å‹ï¼Œéƒ½æ˜¯Expressionç±»çš„å®ç°ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SymbolExpression</span> <span class="token keyword">extends</span> <span class="token class-name">Expression</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Expression</span> left<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Expression</span> right<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">SymbolExpression</span><span class="token punctuation">(</span><span class="token class-name">Expression</span> left<span class="token punctuation">,</span> <span class="token class-name">Expression</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å› ä¸ºSymbolExpression æ˜¯è®©å…¶å­ç±»æ¥å®ç°ï¼Œå› æ­¤interpreteræ˜¯ä¸€ä¸ªé»˜è®¤å®ç°</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">var</span></span>
<span class="line">     * <span class="token keyword">@return</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">interpret</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">var</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŠ å‡è§£é‡Šå™¨</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * åŠ æ³•è§£é‡Šå™¨</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AddExpression</span> <span class="token keyword">extends</span> <span class="token class-name">SymbolExpression</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">AddExpression</span><span class="token punctuation">(</span><span class="token class-name">Expression</span> left<span class="token punctuation">,</span> <span class="token class-name">Expression</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å¤„ç†ç›¸åŠ </span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">var</span></span>
<span class="line">     * <span class="token keyword">@return</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">interpret</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">var</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å‡æ³•è§£é‡Šå™¨</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SubExpression</span> <span class="token keyword">extends</span> <span class="token class-name">SymbolExpression</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">SubExpression</span><span class="token punctuation">(</span><span class="token class-name">Expression</span> left<span class="token punctuation">,</span> <span class="token class-name">Expression</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å¤„ç†ç›¸å‡</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">var</span></span>
<span class="line">     * <span class="token keyword">@return</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">interpret</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">var</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">super</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿ç®—å™¨ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * è¿ç®—å™¨ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å®šä¹‰è¡¨è¾¾å¼</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Expression</span> expression<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ„é€ å‡½æ•°ä¼ é€’è¡¨è¾¾å¼å¹¶è¿›è¡Œè§£æ</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">expStr</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span><span class="token class-name">String</span> expStr<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// expStr: a+b</span></span>
<span class="line">        <span class="token comment">//æ ˆå¯¹è±¡å­˜æ”¾å˜é‡è¡¨è¾¾å¼åŠè¿ç®—å¾—åˆ°çš„è¡¨è¾¾å¼</span></span>
<span class="line">        <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Expression</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//å°†è¡¨è¾¾å¼æ‹†åˆ†æˆå­—ç¬¦æ•°ç»„ [a,+,b]</span></span>
<span class="line">        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> charArr <span class="token operator">=</span> expStr<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">Expression</span> left<span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Expression</span> right<span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// éå†å­—ç¬¦æ•°ç»„ [a,+,b]</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> charArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">switch</span> <span class="token punctuation">(</span>charArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">case</span> <span class="token char">&#39;+&#39;</span><span class="token operator">:</span></span>
<span class="line">                    <span class="token comment">// å–å‡º a</span></span>
<span class="line">                    left <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token comment">// å–å‡ºä¸‹ä¸€ä½å˜é‡ï¼Œå¹¶åˆ›å»º\`VarExpression\`</span></span>
<span class="line">                    right <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VarExpression</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>charArr<span class="token punctuation">[</span><span class="token operator">++</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token comment">// å°†leftå’Œrightå€¼ä½œä¸ºå‚æ•°ï¼Œpushåˆ°\`Stack\`ä¸­</span></span>
<span class="line">                    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AddExpression</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">case</span> <span class="token char">&#39;-&#39;</span><span class="token operator">:</span></span>
<span class="line">                    left <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    right <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VarExpression</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>charArr<span class="token punctuation">[</span><span class="token operator">++</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SubExpression</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">                    <span class="token comment">// å¦‚æœä¸æ˜¯åŠ å‡ç­‰è¿ç®—ç¬¦ï¼Œå°±åˆ›å»º\`VarExpression\`ï¼Œå¹¶pushåˆ°\`Stack\`ä¸­</span></span>
<span class="line">                    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VarExpression</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>charArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token comment">// å½“éå†å®Œæ•´ä¸ª\`charArr\`æ•°ç»„åï¼Œ\`stack\`å°±å¾—åˆ°äº†æœ€ç»ˆçš„\`Expression\`</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>expression <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">var</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>expression<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ä»£ç </p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·è¾“å…¥è¡¨è¾¾å¼ï¼š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> expStr <span class="token operator">=</span> <span class="token function">getExpStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">var</span> <span class="token operator">=</span> <span class="token function">getValue</span><span class="token punctuation">(</span>expStr<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Calculator</span> calculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span>expStr<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¿ç®—ç»“æœï¼š&quot;</span> <span class="token operator">+</span> expStr <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> calculator<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getExpStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> expStr<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> s<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> expStr<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        s <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token char">&#39;+&#39;</span> <span class="token operator">||</span> ch <span class="token operator">==</span> <span class="token char">&#39;-&#39;</span> <span class="token operator">||</span> map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">continue</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·è¾“å…¥&quot;</span> <span class="token operator">+</span> s <span class="token operator">+</span> <span class="token string">&quot;çš„å€¼ï¼š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token function">getExpStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> map<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ç»“æœ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//è¯·è¾“å…¥è¡¨è¾¾å¼ï¼ša+b</span></span>
<span class="line"><span class="token comment">//è¯·è¾“å…¥açš„å€¼ï¼š10</span></span>
<span class="line"><span class="token comment">//è¯·è¾“å…¥bçš„å€¼ï¼š20</span></span>
<span class="line"><span class="token comment">//è¿ç®—ç»“æœï¼ša+b=30</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€è§£é‡Šå™¨æ¨¡å¼åœ¨-spring-æ¡†æ¶ä¸­çš„æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_4ã€è§£é‡Šå™¨æ¨¡å¼åœ¨-spring-æ¡†æ¶ä¸­çš„æºç åˆ†æ"><span>4ã€è§£é‡Šå™¨æ¨¡å¼åœ¨ Spring æ¡†æ¶ä¸­çš„æºç åˆ†æ</span></a></h3><p><code>Spring</code>æ¡†æ¶ä¸­<code>SpelExpressionParser</code>å°±ä½¿ç”¨åˆ°è§£é‡Šå™¨æ¨¡å¼</p><p><strong>ç¤ºä¾‹ä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">SpelExpressionParser</span> spelExpressionParser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpelExpressionParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Expression</span> expression <span class="token operator">=</span> spelExpressionParser<span class="token punctuation">.</span><span class="token function">parseExpression</span><span class="token punctuation">(</span><span class="token string">&quot;10*(2+1)*1+66&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> expression<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UML ç±»å›¾</strong></p><p><img src="`+Js+`" alt="image-20220116140019280"></p><p><strong>è§’è‰²åŠèŒè´£</strong></p><ul><li><p><code>Expression</code>è¡¨è¾¾å¼æ¥å£</p></li><li><p>ä¸‹é¢æœ‰ä¸åŒè¡¨è¾¾å¼å®ç°ç±»ï¼Œæ¯”å¦‚<code>SpelExpression</code>ã€<code>LiteralExpression</code>å’Œ<code>CompositeStringExpression</code></p></li><li><p>ä½¿ç”¨æ—¶ï¼Œæ ¹æ®åˆ›å»ºè§£é‡Šå™¨å¯¹è±¡çš„ä¸åŒï¼Œè¿”å›ä¸åŒçš„<code>Expression</code>å¯¹è±¡</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token class-name">Expression</span> <span class="token function">parseExpression</span><span class="token punctuation">(</span><span class="token class-name">String</span> expressionString<span class="token punctuation">,</span> <span class="token class-name">ParserContext</span> context<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ParseException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>context <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        context <span class="token operator">=</span> <span class="token constant">NON_TEMPLATE_PARSER_CONTEXT</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">isTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token function">parseTemplate</span><span class="token punctuation">(</span>expressionString<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token function">doParseExpression</span><span class="token punctuation">(</span>expressionString<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è°ƒç”¨<code>parseExpression</code>æ–¹æ³•å¾—åˆ°<code>Expression</code>å¯¹è±¡åï¼Œè°ƒç”¨<code>getValue</code>è§£é‡Šæ‰§è¡Œè¡¨è¾¾å¼ï¼Œå¾—åˆ°æœ€ç»ˆç»“æœ</p></li></ul><h3 id="_5ã€è§£é‡Šå™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_5ã€è§£é‡Šå™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>5ã€è§£é‡Šå™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰å½“æœ‰ä¸€ä¸ªè¯­è¨€éœ€è¦è§£é‡Šæ‰§è¡Œï¼Œå¯å°†è¯¥è¯­è¨€ä¸­çš„å¥å­è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼ï¼Œè®©ç¨‹åºå…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§</li><li>2ï¼‰åº”ç”¨åœºæ™¯ï¼šç¼–è¯‘å™¨ã€è¿ç®—è¡¨è¾¾å¼è®¡ç®—ã€æ­£åˆ™è¡¨è¾¾å¼ã€æœºå™¨äººç­‰</li><li>3ï¼‰ä½¿ç”¨è§£é‡Šå™¨å¯èƒ½å¸¦æ¥çš„é—®é¢˜ï¼š<mark>è§£é‡Šå™¨æ¨¡å¼ä¼šå¼•èµ·ç±»è†¨èƒ€ã€è§£é‡Šå™¨æ¨¡å¼é‡‡ç”¨é€’å½’è°ƒç”¨æ–¹æ³•ï¼Œå°†ä¼šå¯¼è‡´è°ƒè¯•éå¸¸å¤æ‚ã€æ•ˆç‡å¯èƒ½é™ä½</mark></li></ul><h2 id="ã€21ã€‘çŠ¶æ€æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€21ã€‘çŠ¶æ€æ¨¡å¼"><span>ã€21ã€‘çŠ¶æ€æ¨¡å¼</span></a></h2><h3 id="_1ã€app-æŠ½å¥–æ´»åŠ¨é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1ã€app-æŠ½å¥–æ´»åŠ¨é—®é¢˜"><span>1ã€APP æŠ½å¥–æ´»åŠ¨é—®é¢˜</span></a></h3><p>è¯·ç¼–å†™ç¨‹åºå®Œæˆ APP æŠ½å¥–æ´»åŠ¨å…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š</p><ul><li>1ï¼‰å‡å¦‚æ¯å‚åŠ ä¸€æ¬¡è¿™ä¸ªæ´»åŠ¨è¦æ‰£é™¤ç”¨æˆ· 50 ç§¯åˆ†ï¼Œä¸­å¥–æ¦‚ç‡æ˜¯ 10%</li><li>2ï¼‰å¥–å“æ•°é‡å›ºå®šï¼ŒæŠ½å®Œå°±ä¸èƒ½æŠ½å¥–</li><li>3ï¼‰æ´»åŠ¨æœ‰å››ä¸ªçŠ¶æ€ï¼šå¯ä»¥æŠ½å¥–ã€ä¸èƒ½æŠ½å¥–ã€å‘æ”¾å¥–å“å’Œå¥–å“é¢†å®Œ</li><li>4ï¼‰æ´»åŠ¨çš„å››ä¸ªçŠ¶æ€è½¬æ¢å…³ç³»å›¾</li></ul><p><img src="`+Ks+'" alt="image-20220116204232790"></p><h3 id="_2ã€çŠ¶æ€æ¨¡å¼åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€çŠ¶æ€æ¨¡å¼åŸºæœ¬ä»‹ç»"><span>2ã€çŠ¶æ€æ¨¡å¼åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ï¼šå®ƒä¸»è¦ç”¨æ¥è§£å†³å¯¹è±¡åœ¨å¤šç§çŠ¶æ€è½¬æ¢æ—¶ï¼Œéœ€è¦å¯¹å¤–è¾“å‡ºä¸åŒçš„è¡Œä¸ºçš„é—®é¢˜ã€‚çŠ¶æ€å’Œè¡Œä¸ºæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ŒçŠ¶æ€ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢</li><li>2ï¼‰å½“ä¸€ä¸ªå¯¹è±¡çš„å†…åœ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œå…è®¸æ”¹å˜å…¶è¡Œä¸ºï¼Œè¿™ä¸ªå¯¹è±¡çœ‹èµ·æ¥åƒæ˜¯æ”¹å˜äº†å…¶ç±»</li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+Gs+'" alt="image-20220116204946251"></p><p><strong>è§’è‰²ä¸èŒè´£</strong></p><ul><li><code>Context</code>ç¯å¢ƒè§’è‰²ï¼šç»´æŠ¤ä¸€ä¸ª<code>State</code>å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹å®šä¹‰äº†å½“å‰çŠ¶æ€</li><li><code>State</code>æŠ½è±¡çŠ¶æ€è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œå°è£…ä¸<code>Context</code>çš„ä¸€ä¸ªç‰¹ç‚¹æ¥å£ç›¸å…³è¡Œä¸º</li><li><code>ConcreteState</code>å…·ä½“çŠ¶æ€è§’è‰²ï¼šå®ç°ä¸€ä¸ªä¸<code>Context</code>çš„ä¸€ä¸ªçŠ¶æ€ç›¸å…³è¡Œä¸º</li></ul><h3 id="_3ã€çŠ¶æ€æ¨¡å¼è§£å†³-app-æŠ½å¥–é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_3ã€çŠ¶æ€æ¨¡å¼è§£å†³-app-æŠ½å¥–é—®é¢˜"><span>3ã€çŠ¶æ€æ¨¡å¼è§£å†³ APP æŠ½å¥–é—®é¢˜</span></a></h3><ul><li>1ï¼‰åº”ç”¨å®ä¾‹è¦æ±‚å®Œæˆ APP æŠ½å¥–æ´»åŠ¨é¡¹ç›®ï¼Œä½¿ç”¨çŠ¶æ€æ¨¡å¼</li><li>2ï¼‰æ€è·¯åˆ†æå’Œå›¾è§£ï¼ˆç±»å›¾ï¼‰ <ul><li>å®šä¹‰å‡ºä¸€ä¸ªæ¥å£å«çŠ¶æ€æ¥å£ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½å®ç°å®ƒ</li><li>æ¥å£æœ‰æ‰£é™¤ç§¯åˆ†æ–¹æ³•ã€æŠ½å¥–æ–¹æ³•ã€å‘æ”¾å¥–å“æ–¹æ³•</li></ul></li></ul><p><strong>UML ç±»å›¾</strong></p><p><img src="'+Xs+'" alt="image-20220116205856544"></p><p><img src="'+Qs+`" alt="image-20220116215723106"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>æŠ½è±¡çŠ¶æ€è§’è‰²</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡çŠ¶æ€è§’è‰²</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Boolean</span> <span class="token function">reduceMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Boolean</span> <span class="token function">raffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Boolean</span> <span class="token function">dispensePrize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸èƒ½æŠ½å¥–çŠ¶æ€ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä¸èƒ½æŠ½å¥–çŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NoRaffleState</span> <span class="token keyword">implements</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">RaffleActivity</span> raffleActivity<span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// æ¨¡æ‹Ÿæ•°æ®åº“ç§¯åˆ†å€¼</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">int</span> integral <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">NoRaffleState</span><span class="token punctuation">(</span><span class="token class-name">RaffleActivity</span> raffleActivity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>raffleActivity <span class="token operator">=</span> raffleActivity<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">reduceMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>integral <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‚¨çš„ç§¯åˆ†ä½™é¢ä¸è¶³~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        integral <span class="token operator">-=</span> <span class="token number">50</span><span class="token punctuation">;</span></span>
<span class="line">        raffleActivity<span class="token punctuation">.</span><span class="token function">setCanRaffleState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å·²æ‰£é™¤50ç§¯åˆ†ï¼Œå¯ä»¥è¿›è¡ŒæŠ½å¥–å•¦~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">raffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰æ— æ³•è¿›è¡ŒæŠ½å¥–~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">dispensePrize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰æ— æ³•é¢†å–å¥–å“~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥æŠ½å¥–çŠ¶æ€ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å¯ä»¥æŠ½å¥–çŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CanRaffleState</span> <span class="token keyword">implements</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">RaffleActivity</span> raffleActivity<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">CanRaffleState</span><span class="token punctuation">(</span><span class="token class-name">RaffleActivity</span> raffleActivity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>raffleActivity <span class="token operator">=</span> raffleActivity<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">reduceMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å·²æ‰£é™¤50ç§¯åˆ†ï¼Œå¯ä»¥è¿›è¡ŒæŠ½å¥–å•¦~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">raffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            raffleActivity<span class="token punctuation">.</span><span class="token function">setDispenseState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ­å–œæ‚¨ï¼Œä¸­å¥–äº†~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        raffleActivity<span class="token punctuation">.</span><span class="token function">setNoRaffleState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¾ˆé—æ†¾ï¼Œæ‚¨æ²¡æœ‰ä¸­å¥–~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">dispensePrize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å°šæœªè¿›è¡ŒæŠ½å¥–ï¼Œæ— æ³•é¢†å–å¥–å“ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘æ”¾å¥–å“çŠ¶æ€ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å‘æ”¾å¥–å“çŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DispenseState</span> <span class="token keyword">implements</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">RaffleActivity</span> raffleActivity<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DispenseState</span><span class="token punctuation">(</span><span class="token class-name">RaffleActivity</span> raffleActivity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>raffleActivity <span class="token operator">=</span> raffleActivity<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">reduceMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å·²ç»è¿›è¡Œè¿‡æŠ½å¥–å•¦ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">raffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å·²ç»è¿›è¡Œè¿‡æŠ½å¥–å•¦ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">dispensePrize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>raffleActivity<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            raffleActivity<span class="token punctuation">.</span><span class="token function">setDispenseOutState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä»Šæ—¥å¥–å“å·²é¢†å®Œï¼Œæ˜å¤©å†æ¥å§~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        raffleActivity<span class="token punctuation">.</span><span class="token function">setNoRaffleState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¥–å“é¢†å–æˆåŠŸ~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¥–å“é¢†å®ŒçŠ¶æ€ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å¥–å“é¢†å®ŒçŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DispenseOutState</span> <span class="token keyword">implements</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">RaffleActivity</span> raffleActivity<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DispenseOutState</span><span class="token punctuation">(</span><span class="token class-name">RaffleActivity</span> raffleActivity<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>raffleActivity <span class="token operator">=</span> raffleActivity<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">reduceMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä»Šæ—¥å¥–å“å·²é¢†å®Œï¼Œæ˜å¤©å†æ¥å§~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">raffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä»Šæ—¥å¥–å“å·²é¢†å®Œï¼Œæ˜å¤©å†æ¥å§~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">dispensePrize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä»Šæ—¥å¥–å“å·²é¢†å®Œï¼Œæ˜å¤©å†æ¥å§~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">RaffleActivity</span> raffleActivity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RaffleActivity</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// ç¬¬ä¸€æ¬¡æŠ½å¥–</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======ç¬¬ä¸€æ¬¡æŠ½å¥–======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">raffleActivity<span class="token punctuation">.</span><span class="token function">raffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// ç¬¬äºŒæ¬¡æŠ½å¥–</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======ç¬¬äºŒæ¬¡æŠ½å¥–======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">raffleActivity<span class="token punctuation">.</span><span class="token function">raffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// ç¬¬ä¸‰æ¬¡æŠ½å¥–</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======ç¬¬ä¸‰æ¬¡æŠ½å¥–======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">raffleActivity<span class="token punctuation">.</span><span class="token function">raffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//======ç¬¬ä¸€æ¬¡æŠ½å¥–======</span></span>
<span class="line"><span class="token comment">//å·²æ‰£é™¤50ç§¯åˆ†ï¼Œå¯ä»¥è¿›è¡ŒæŠ½å¥–å•¦~</span></span>
<span class="line"><span class="token comment">//å¾ˆé—æ†¾ï¼Œæ‚¨æ²¡æœ‰ä¸­å¥–~</span></span>
<span class="line"><span class="token comment">//======ç¬¬äºŒæ¬¡æŠ½å¥–======</span></span>
<span class="line"><span class="token comment">//å·²æ‰£é™¤50ç§¯åˆ†ï¼Œå¯ä»¥è¿›è¡ŒæŠ½å¥–å•¦~</span></span>
<span class="line"><span class="token comment">//æ­å–œæ‚¨ï¼Œä¸­å¥–äº†~</span></span>
<span class="line"><span class="token comment">//å¥–å“é¢†å–æˆåŠŸ~</span></span>
<span class="line"><span class="token comment">//======ç¬¬ä¸‰æ¬¡æŠ½å¥–======</span></span>
<span class="line"><span class="token comment">//æ‚¨çš„ç§¯åˆ†ä½™é¢ä¸è¶³~</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€çŠ¶æ€æ¨¡å¼åœ¨å®é™…é¡¹ç›®â€”â€”å€Ÿè´·å¹³å°æºç å‰–æ" tabindex="-1"><a class="header-anchor" href="#_4ã€çŠ¶æ€æ¨¡å¼åœ¨å®é™…é¡¹ç›®â€”â€”å€Ÿè´·å¹³å°æºç å‰–æ"><span>4ã€çŠ¶æ€æ¨¡å¼åœ¨å®é™…é¡¹ç›®â€”â€”å€Ÿè´·å¹³å°æºç å‰–æ</span></a></h3><ul><li><p>1ï¼‰å€Ÿè´·å¹³å°çš„è®¢å•ï¼Œæœ‰å®¡æ ¸-å‘å¸ƒ-æŠ¢å•ç­‰ç­‰æ­¥éª¤ï¼Œéšç€æ“ä½œçš„ä¸åŒï¼Œä¼šæ”¹å˜è®¢å•çš„çŠ¶æ€ï¼Œé¡¹ç›®ä¸­çš„è¿™ä¸ªæ¨¡å—å®ç°å°±ä¼šä½¿ç”¨åˆ°çŠ¶æ€æ¨¡å¼</p></li><li><p>2ï¼‰é€šå¸¸é€šè¿‡<code>if/else</code>åˆ¤æ–­è®¢å•çš„çŠ¶æ€ï¼Œä»è€Œå®ç°ä¸åŒçš„é€»è¾‘ï¼Œä¼ªä»£ç å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">if</span><span class="token punctuation">(</span>å®¡æ ¸<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//å®¡æ ¸é€»è¾‘</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>å‘å¸ƒ<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//å‘å¸ƒé€»è¾‘</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>æ¥å•<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//æ¥å•é€»è¾‘</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é—®é¢˜åˆ†æ</strong>ï¼šè¿™ç±»ä»£ç éš¾ä»¥åº”å¯¹å˜åŒ–ï¼Œåœ¨æ·»åŠ ä¸€ç§çŠ¶æ€æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ·»åŠ <code>if/else</code>ï¼Œåœ¨æ·»åŠ ä¸€ç§åŠŸèƒ½æ—¶ï¼Œè¦å¯¹æ‰€æœ‰çš„çŠ¶æ€è¿›è¡Œåˆ¤æ–­ã€‚å› æ­¤ä»£ç ä¼šå˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œå¹¶ä¸”ä¸€æ—¦æ²¡æœ‰å¤„ç†æŸä¸ªçŠ¶æ€ï¼Œä¾¿ä¼šå‘ç”Ÿæå…¶ä¸¥é‡çš„ BUGï¼Œéš¾ä»¥ç»´æŠ¤</p></li><li><p>3ï¼‰ä½¿ç”¨çŠ¶æ€æ¨¡å¼å®Œæˆå€Ÿè´·å¹³å°é¡¹ç›®çš„å®¡æ ¸æ¨¡å— [è®¾è®¡+ä»£ç ]</p></li></ul><h4 id="_4-1ã€è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#_4-1ã€è®¾è®¡"><span>4.1ã€è®¾è®¡</span></a></h4><p><strong>å€Ÿè´·å¹³å°â€”æµç¨‹å®¡æ‰¹</strong></p><p>çŠ¶æ€æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯ä¸€ç§åŸºäºçŠ¶æ€å’Œäº‹ä»¶çš„çŠ¶æ€æœºï¼Œä¸‹é¢æ˜¯<mark>è®¢å•æµç¨‹çš„çŠ¶æ€å›¾</mark></p><p><img src="`+Zs+'" alt="image-20220116221307396"></p><p>é€šè¿‡çŠ¶æ€å›¾ï¼Œæˆ‘ä»¬å†è®¾è®¡ä¸€å¼ æ¨ªçºµåæ ‡å…³ç³»è¡¨æ¥æ¯”è¾ƒï¼Œå¦‚ä¸‹å›¾</p>',1104)),n("table",null,[s[115]||(s[115]=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"çŠ¶æ€ \\ äº‹ä»¶"),n("th",{style:{"text-align":"left"}},"ç”µå®¡ï¼ˆ1ï¼‰"),n("th",{style:{"text-align":"left"}},"ç”µå®¡å¤±è´¥ï¼ˆ2ï¼‰"),n("th",{style:{"text-align":"left"}},"å®šä»·å‘å¸ƒï¼ˆ3ï¼‰"),n("th",{style:{"text-align":"left"}},"æ¥å•ï¼ˆ4ï¼‰"),n("th",{style:{"text-align":"left"}},"æ¥å•å¤±è´¥ï¼ˆ5ï¼‰"),n("th",{style:{"text-align":"left"}},"ä»˜æ¬¾ï¼ˆ6ï¼‰"),n("th",{style:{"text-align":"left"}},"æ”¯ä»˜å¤±æ•ˆï¼ˆ7ï¼‰"),n("th",{style:{"text-align":"left"}},"åé¦ˆï¼ˆ8ï¼‰")])],-1)),n("tbody",null,[n("tr",null,[s[70]||(s[70]=n("td",{style:{"text-align":"left"}},"è®¢å•ç”Ÿæˆï¼ˆ1ï¼‰",-1)),s[71]||(s[71]=n("td",{style:{"text-align":"left"}},[n("span",{style:{background:"yellow"}},"å·²å®¡æ ¸ï¼ˆ2ï¼‰")],-1)),n("td",da,[e(p,{color:"orange"},{default:t(()=>s[69]||(s[69]=[a("å·²å®Œç»“ï¼ˆ6ï¼‰")])),_:1})]),s[72]||(s[72]=n("td",{style:{"text-align":"left"}},null,-1)),s[73]||(s[73]=n("td",{style:{"text-align":"left"}},null,-1)),s[74]||(s[74]=n("td",{style:{"text-align":"left"}},null,-1)),s[75]||(s[75]=n("td",{style:{"text-align":"left"}},null,-1)),s[76]||(s[76]=n("td",{style:{"text-align":"left"}},null,-1)),s[77]||(s[77]=n("td",{style:{"text-align":"left"}},null,-1))]),s[114]||(s[114]=n("tr",null,[n("td",{style:{"text-align":"left"}},[n("span",{style:{background:"yellow"}},"å·²å®¡æ ¸ï¼ˆ2ï¼‰")]),n("td",{style:{"text-align":"left"}}),n("td",{style:{"text-align":"left"}}),n("td",{style:{"text-align":"left"}},[n("span",{style:{background:"blue"}},"å·²å‘å¸ƒï¼ˆ3ï¼‰")]),n("td",{style:{"text-align":"left"}}),n("td",{style:{"text-align":"left"}}),n("td",{style:{"text-align":"left"}}),n("td",{style:{"text-align":"left"}}),n("td",{style:{"text-align":"left"}})],-1)),n("tr",null,[s[79]||(s[79]=n("td",{style:{"text-align":"left"}},[n("span",{style:{background:"blue"}},"å·²å‘å¸ƒï¼ˆ3ï¼‰")],-1)),s[80]||(s[80]=n("td",{style:{"text-align":"left"}},null,-1)),s[81]||(s[81]=n("td",{style:{"text-align":"left"}},null,-1)),s[82]||(s[82]=n("td",{style:{"text-align":"left"}},null,-1)),s[83]||(s[83]=n("td",{style:{"text-align":"left"}},[n("span",{style:{background:"red"}},"å¾…ä»˜æ¬¾ï¼ˆ4ï¼‰")],-1)),n("td",va,[e(p,{color:"orange"},{default:t(()=>s[78]||(s[78]=[a("å·²å®Œç»“ï¼ˆ6ï¼‰")])),_:1})]),s[84]||(s[84]=n("td",{style:{"text-align":"left"}},null,-1)),s[85]||(s[85]=n("td",{style:{"text-align":"left"}},null,-1)),s[86]||(s[86]=n("td",{style:{"text-align":"left"}},null,-1))]),n("tr",null,[s[88]||(s[88]=n("td",{style:{"text-align":"left"}},[n("span",{style:{background:"red"}},"å¾…ä»˜æ¬¾ï¼ˆ4ï¼‰")],-1)),s[89]||(s[89]=n("td",{style:{"text-align":"left"}},null,-1)),s[90]||(s[90]=n("td",{style:{"text-align":"left"}},null,-1)),s[91]||(s[91]=n("td",{style:{"text-align":"left"}},null,-1)),s[92]||(s[92]=n("td",{style:{"text-align":"left"}},null,-1)),s[93]||(s[93]=n("td",{style:{"text-align":"left"}},null,-1)),s[94]||(s[94]=n("td",{style:{"text-align":"left"}},[n("span",{style:{background:"green"}},"å·²ä»˜æ¬¾ï¼ˆ5ï¼‰")],-1)),n("td",ma,[e(p,{color:"orange"},{default:t(()=>s[87]||(s[87]=[a("å·²å®Œç»“ï¼ˆ6ï¼‰")])),_:1})]),s[95]||(s[95]=n("td",{style:{"text-align":"left"}},null,-1))]),n("tr",null,[s[97]||(s[97]=n("td",{style:{"text-align":"left"}},[n("span",{style:{background:"green"}},"å·²ä»˜æ¬¾ï¼ˆ5ï¼‰")],-1)),s[98]||(s[98]=n("td",{style:{"text-align":"left"}},null,-1)),s[99]||(s[99]=n("td",{style:{"text-align":"left"}},null,-1)),s[100]||(s[100]=n("td",{style:{"text-align":"left"}},null,-1)),s[101]||(s[101]=n("td",{style:{"text-align":"left"}},null,-1)),s[102]||(s[102]=n("td",{style:{"text-align":"left"}},null,-1)),s[103]||(s[103]=n("td",{style:{"text-align":"left"}},null,-1)),s[104]||(s[104]=n("td",{style:{"text-align":"left"}},null,-1)),n("td",ba,[e(p,{color:"orange"},{default:t(()=>s[96]||(s[96]=[a("å·²å®Œç»“ï¼ˆ6ï¼‰")])),_:1})])]),n("tr",null,[n("td",ga,[e(p,{color:"orange"},{default:t(()=>s[105]||(s[105]=[a("å·²å®Œç»“ï¼ˆ6ï¼‰")])),_:1})]),s[106]||(s[106]=n("td",{style:{"text-align":"left"}},null,-1)),s[107]||(s[107]=n("td",{style:{"text-align":"left"}},null,-1)),s[108]||(s[108]=n("td",{style:{"text-align":"left"}},null,-1)),s[109]||(s[109]=n("td",{style:{"text-align":"left"}},null,-1)),s[110]||(s[110]=n("td",{style:{"text-align":"left"}},null,-1)),s[111]||(s[111]=n("td",{style:{"text-align":"left"}},null,-1)),s[112]||(s[112]=n("td",{style:{"text-align":"left"}},null,-1)),s[113]||(s[113]=n("td",{style:{"text-align":"left"}},null,-1))])])]),s[118]||(s[118]=l('<p><strong>UML ç±»å›¾</strong></p><p><img src="'+Ys+'" alt="image-20220116222801725"></p><p><img src="'+$s+`" alt="image-20220116232317071"></p><h4 id="_4-2ã€ä»£ç " tabindex="-1"><a class="header-anchor" href="#_4-2ã€ä»£ç "><span>4.2ã€ä»£ç </span></a></h4><p>çŠ¶æ€æ¥å£</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * çŠ¶æ€æ¥å£</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç”µå®¡</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">context</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">electronicAudit</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç”µå®¡å¤±è´¥</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">context</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">electronicAuditFail</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å®šä»·å‘å¸ƒ</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">context</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">releasePricing</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ¥å•</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">context</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">acceptOrder</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ¥å•å¤±è´¥</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">context</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">acceptOrderFail</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ä»˜æ¬¾</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">context</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">payMoney</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * åé¦ˆã€ä¸‹æ¬¾ æˆ– æ‹’è´·ã€‘</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">context</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">feedback</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">String</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠ½è±¡çŠ¶æ€ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡çŠ¶æ€ç±»ï¼Œé»˜è®¤å®ç°</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractState</span> <span class="token keyword">implements</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">RuntimeException</span> <span class="token constant">EXCEPTION</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;æ“ä½œæµç¨‹æœ‰è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">electronicAudit</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">throw</span> <span class="token constant">EXCEPTION</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">electronicAuditFail</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">throw</span> <span class="token constant">EXCEPTION</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">releasePricing</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">throw</span> <span class="token constant">EXCEPTION</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">acceptOrder</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">throw</span> <span class="token constant">EXCEPTION</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">acceptOrderFail</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">throw</span> <span class="token constant">EXCEPTION</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">payMoney</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">throw</span> <span class="token constant">EXCEPTION</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">feedback</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">throw</span> <span class="token constant">EXCEPTION</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…·ä½“çŠ¶æ€ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * è®¢å•ç”ŸæˆçŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GeneratedState</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractState</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">electronicAudit</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AuditedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">electronicAuditFail</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FinishedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">StateEnum</span><span class="token punctuation">.</span><span class="token constant">GENERATED</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å·²å®¡æ ¸çŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuditedState</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractState</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">releasePricing</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PublishedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">StateEnum</span><span class="token punctuation">.</span><span class="token constant">AUDITED</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å·²å‘å¸ƒçŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PublishedState</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractState</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">acceptOrder</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">NotPaidState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">acceptOrderFail</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FinishedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">StateEnum</span><span class="token punctuation">.</span><span class="token constant">PUBLISHED</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æœªä»˜æ¬¾çŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NotPaidState</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractState</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">payMoney</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PaidState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">feedback</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FinishedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">StateEnum</span><span class="token punctuation">.</span><span class="token constant">NOT_PAID</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æœªä»˜æ¬¾çŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaidState</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractState</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">feedback</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FinishedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">StateEnum</span><span class="token punctuation">.</span><span class="token constant">PAID</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æœªä»˜æ¬¾çŠ¶æ€ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FinishedState</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractState</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">StateEnum</span><span class="token punctuation">.</span><span class="token constant">FINISHED</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çŠ¶æ€æšä¸¾ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">StateEnum</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token constant">GENERATED</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token constant">AUDITED</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token constant">PUBLISHED</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token constant">NOT_PAID</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token constant">PAID</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token constant">FINISHED</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šä¸‹æ–‡ç¯å¢ƒç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ä¸Šä¸‹æ–‡ç¯å¢ƒç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Context</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractState</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">State</span> state<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        state <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GeneratedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">electronicAudit</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        state<span class="token punctuation">.</span><span class="token function">electronicAudit</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">electronicAuditFail</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        state<span class="token punctuation">.</span><span class="token function">electronicAuditFail</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">releasePricing</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        state<span class="token punctuation">.</span><span class="token function">releasePricing</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">acceptOrder</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        state<span class="token punctuation">.</span><span class="token function">acceptOrder</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">acceptOrderFail</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        state<span class="token punctuation">.</span><span class="token function">acceptOrderFail</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">payMoney</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        state<span class="token punctuation">.</span><span class="token function">payMoney</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">feedback</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        state<span class="token punctuation">.</span><span class="token function">feedback</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">State</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token class-name">State</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰çŠ¶æ€ï¼š&quot;</span> <span class="token operator">+</span> state<span class="token punctuation">.</span><span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> state<span class="token punctuation">.</span><span class="token function">getCurrentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ä»£ç </p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">Context</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">context<span class="token punctuation">.</span><span class="token function">electronicAudit</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">context<span class="token punctuation">.</span><span class="token function">releasePricing</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">context<span class="token punctuation">.</span><span class="token function">acceptOrder</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">context<span class="token punctuation">.</span><span class="token function">payMoney</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">context<span class="token punctuation">.</span><span class="token function">electronicAuditFail</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">context<span class="token punctuation">.</span><span class="token function">acceptOrderFail</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//å½“å‰çŠ¶æ€ï¼šAUDITED</span></span>
<span class="line"><span class="token comment">//å½“å‰çŠ¶æ€ï¼šPUBLISHED</span></span>
<span class="line"><span class="token comment">//å½“å‰çŠ¶æ€ï¼šNOT_PAID</span></span>
<span class="line"><span class="token comment">//å½“å‰çŠ¶æ€ï¼šPAID</span></span>
<span class="line"><span class="token comment">//Exception in thread &quot;main&quot; java.lang.RuntimeException: æ“ä½œæµç¨‹æœ‰è¯¯</span></span>
<span class="line"><span class="token comment">//	at com.vectorx.pattern.t20_state.lendingplatform.AbstractState.&lt;clinit&gt;(AbstractState.java:7)</span></span>
<span class="line"><span class="token comment">//	at com.vectorx.pattern.t20_state.lendingplatform.Client.main(Client.java:5)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€çŠ¶æ€æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_5ã€çŠ¶æ€æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>5ã€çŠ¶æ€æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><p><strong>ä¼˜ç‚¹</strong></p><ul><li>1ï¼‰<mark>ä»£ç æœ‰å¾ˆå¼ºçš„å¯è¯»æ€§</mark>ï¼šçŠ¶æ€æ¨¡å¼å°†æ¯ä¸ªçŠ¶æ€çš„è¡Œä¸ºå°è£…åˆ°å¯¹åº”çš„ä¸€ä¸ªç±»ä¸­</li><li>2ï¼‰<mark>æ–¹ä¾¿ç»´æŠ¤</mark>ï¼šå°†å®¹æ˜“äº§ç”Ÿé—®é¢˜çš„<code>if-else</code>è¯­å¥åˆ é™¤äº†ï¼Œå¦‚æœæŠŠæ¯ä¸ªçŠ¶æ€çš„è¡Œä¸ºéƒ½æ”¾åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œæ¯æ¬¡è°ƒç”¨æ–¹æ³•æ—¶éƒ½è¦åˆ¤æ–­å½“å‰æ˜¯ä»€ä¹ˆçŠ¶æ€ï¼Œä¸ä½†ä¼šäº§å‡ºå¾ˆå¤š<code>if-else</code>è¯­å¥ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™</li><li>3ï¼‰ç¬¦åˆ<mark>å¼€é—­åŸåˆ™</mark>ï¼Œå®¹æ˜“å¢åˆ çŠ¶æ€</li></ul><p><strong>ç¼ºç‚¹</strong></p><ul><li>4ï¼‰<mark>ä¼šäº§ç”Ÿå¾ˆå¤šç±»</mark>ï¼šæ¯ä¸ªçŠ¶æ€éƒ½è¦ä¸€ä¸ªå¯¹åº”çš„ç±»ï¼Œå½“çŠ¶æ€è¿‡å¤šæ—¶ä¼šäº§ç”Ÿå¾ˆå¤šç±»ï¼ŒåŠ å¤§ç»´æŠ¤éš¾åº¦</li></ul><p><strong>åº”ç”¨åœºæ™¯</strong></p><ul><li>5ï¼‰<mark>å½“ä¸€ä¸ªäº‹ä»¶æˆ–è€…å¯¹è±¡æœ‰å¾ˆå¤šç§çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´ä¼šç›¸äº’è½¬æ¢ï¼Œå¯¹ä¸åŒçš„çŠ¶æ€è¦æ±‚æœ‰ä¸åŒçš„è¡Œä¸ºæ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨çŠ¶æ€æ¨¡å¼</mark></li></ul><h2 id="ã€22ã€‘ç­–ç•¥æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€22ã€‘ç­–ç•¥æ¨¡å¼"><span>ã€22ã€‘ç­–ç•¥æ¨¡å¼</span></a></h2><h3 id="_1ã€é¸­å­é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1ã€é¸­å­é—®é¢˜"><span>1ã€é¸­å­é—®é¢˜</span></a></h3><p>ç¼–å†™é¸­å­é¡¹ç›®ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š</p><ul><li>1ï¼‰æœ‰å„é¸­å­ï¼ˆæ¯”å¦‚é‡é¸­ã€åŒ—äº¬é¸­ã€æ°´é¸­ç­‰ï¼Œé¸­å­æœ‰å„ç§è¡Œä¸ºï¼Œæ¯”å¦‚å«ã€é£è¡Œç­‰ï¼‰</li><li>2ï¼‰æ˜¾ç¤ºé¸­å­çš„ä¿¡æ¯</li></ul><h3 id="_2ã€ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³é¸­å­é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_2ã€ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³é¸­å­é—®é¢˜"><span>2ã€ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³é¸­å­é—®é¢˜</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="`+na+`" alt="image-20220117194817264"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Duck</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é¸­å­å˜å˜å«~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é¸­å­å“—å“—æ¸¸~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é¸­å­è…¾è…¾é£~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WildDuck</span> <span class="token keyword">extends</span> <span class="token class-name">Duck</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é‡é¸­å­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PekingDuck</span> <span class="token keyword">extends</span> <span class="token class-name">Duck</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åŒ—äº¬é¸­~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åŒ—äº¬é¸­ä¸ä¼šé£~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ToyDuck</span> <span class="token keyword">extends</span> <span class="token class-name">Duck</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç©å…·é¸­~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç©å…·é¸­ä¸ä¼šå«~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç©å…·é¸­ä¸ä¼šæ¸¸~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç©å…·é¸­ä¸ä¼šé£~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼ ç»Ÿçš„æ–¹å¼å®ç°çš„é—®é¢˜åˆ†æå’Œè§£å†³æ–¹æ¡ˆ</strong></p><ul><li>1ï¼‰å…¶å®ƒé¸­å­ï¼Œéƒ½ç»§æ‰¿äº†<code>Duck</code>ç±»ï¼Œæ‰€ä»¥<code>fly</code>è®©æ‰€æœ‰å­ç±»éƒ½ä¼šé£äº†ï¼Œè¿™æ˜¯ä¸æ­£ç¡®çš„</li><li>2ï¼‰ä¸Šé¢è¯´çš„é—®é¢˜ï¼Œå…¶å®æ˜¯ç»§æ‰¿å¸¦æ¥çš„é—®é¢˜ï¼šå¯¹ç±»çš„å±€éƒ¨æ”¹åŠ¨ï¼Œå°¤å…¶è¶…ç±»çš„å±€éƒ¨æ”¹åŠ¨ï¼Œä¼šå½±å“å…¶ä»–éƒ¨åˆ†ï¼Œä¼šæœ‰æº¢å‡ºæ•ˆåº”</li><li>3ï¼‰ä¸ºäº†æ”¹è¿›é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¦†ç›–<code>fly</code>æ–¹æ³•æ¥è§£å†³ =&gt; è¦†ç›–è§£å†³</li><li>4ï¼‰é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªç©å…·é¸­å­<code>ToyDuck</code>ï¼Œè¿™æ ·å°±éœ€è¦<code>ToyDuck</code>å»è¦†ç›–<code>Duck</code>çš„æ‰€æœ‰å®ç°çš„æ–¹æ³• =&gt; è§£å†³æ€è·¯ï¼š<mark>ç­–ç•¥æ¨¡å¼</mark></li></ul><h3 id="_3ã€ç­–ç•¥æ¨¡å¼åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_3ã€ç­–ç•¥æ¨¡å¼åŸºæœ¬ä»‹ç»"><span>3ã€ç­–ç•¥æ¨¡å¼åŸºæœ¬ä»‹ç»</span></a></h3><ul><li>1ï¼‰ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ä¸­ï¼Œå®šä¹‰ç®—æ³•æ—ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©ä»–ä»¬ä¹‹é—´å¯ä»¥äº’ç›¸æ›¿æ¢ã€‚æ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ç‹¬ç«‹äºä½¿ç”¨ç®—æ³•çš„å®¢æˆ·</li><li>2ï¼‰è¿™ç®—æ³•ä½“ç°äº†å‡ ä¸ªè®¾è®¡åŸåˆ™ <ul><li>ç¬¬ä¸€ã€<mark>æŠŠå˜åŒ–çš„ä»£ç ä»ä¸å˜çš„ä»£ç ä¸­åˆ†ç¦»å‡ºæ¥</mark></li><li>ç¬¬äºŒã€<mark>é’ˆå¯¹æ¥å£ç¼–ç¨‹è€Œä¸æ˜¯å…·ä½“ç±»</mark>ï¼ˆå®šä¹‰äº†ç­–ç•¥æ¥å£ï¼‰</li><li>ç¬¬ä¸‰ã€<mark>å¤šç”¨ç»„åˆ/èšåˆï¼Œå°‘ç”¨ç»§æ‰¿</mark>ï¼ˆå®¢æˆ·é€šè¿‡ç»„åˆæ–¹å¼ä½¿ç”¨ç­–ç•¥ï¼‰</li></ul></li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="`+sa+'" alt="image-20220117201025811"></p><p>è¯´æ˜ï¼šä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œå®¢æˆ·<code>Context</code>æœ‰æˆå‘˜å˜é‡<code>Strategy</code>æˆ–è€…å…¶ä»–çš„ç­–ç•¥æ¥å£ã€‚è‡³äºéœ€è¦ä½¿ç”¨åˆ°å“ªä¸ªç­–ç•¥ï¼Œå¯ä»¥åœ¨æ„é€ å™¨ä¸­æŒ‡å®š</p><h4 id="_4ã€ç­–ç•¥æ¨¡å¼è§£å†³é¸­å­é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4ã€ç­–ç•¥æ¨¡å¼è§£å†³é¸­å­é—®é¢˜"><span>4ã€ç­–ç•¥æ¨¡å¼è§£å†³é¸­å­é—®é¢˜</span></a></h4><ul><li>1ï¼‰åº”ç”¨å®ä¾‹è¦æ±‚ï¼šç¼–å†™ç¨‹åºå®Œæˆå‰é¢çš„é¸­å­é¡¹ç›®ï¼Œè¦æ±‚ä½¿ç”¨ç­–ç•¥æ¨¡å¼</li><li>2ï¼‰æ€è·¯åˆ†æ <ul><li>ç­–ç•¥æ¨¡å¼ï¼šåˆ†åˆ«å°è£…è¡Œä¸ºæ¥å£ï¼Œå®ç°ç®—æ³•æ—ï¼Œè¶…ç±»é‡Œæ”¾è¡Œä¸ºæ¥å£å¯¹è±¡ï¼Œåœ¨å­ç±»é‡Œå…·ä½“è®¾å®šè¡Œä¸ºå¯¹è±¡</li><li>åŸåˆ™å°±æ˜¯ï¼šåˆ†ç¦»å˜åŒ–éƒ¨åˆ†ï¼Œå°è£…æ¥å£ï¼ŒåŸºäºæ¥å£ç¼–ç¨‹å„ç§åŠŸèƒ½ã€‚æ­¤æ¨¡å¼è®©è¡Œä¸ºçš„å˜åŒ–ç‹¬ç«‹äºç®—æ³•çš„ä½¿ç”¨è€…</li></ul></li><li>3ï¼‰ä»£ç å®ç°</li></ul><p><strong>UML ç±»å›¾</strong></p><p><img src="'+aa+'" alt="image-20220117201745236"></p><p><img src="'+pa+`" alt="image-20220117204110906"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>â€œå«â€çš„è¡Œä¸º</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œå«â€è¡Œä¸ºç­–ç•¥æ¥å£</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">QuarkBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œä¸ä¼šå«â€è¡Œä¸ºç­–ç•¥å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NoQuarkBehavior</span> <span class="token keyword">implements</span> <span class="token class-name">QuarkBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸ä¼šå«~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œå˜å˜å«â€è¡Œä¸ºç­–ç•¥å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GagaQuarkBehavior</span> <span class="token keyword">implements</span> <span class="token class-name">QuarkBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å˜å˜å«~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œå’¯å’¯å«â€è¡Œä¸ºç­–ç•¥å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GegeQuarkBehavior</span> <span class="token keyword">implements</span> <span class="token class-name">QuarkBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å’¯å’¯å«~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€œæ¸¸æ³³â€çš„è¡Œä¸º</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€æ¸¸æ³³â€œè¡Œä¸ºç­–ç•¥æ¥å£</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SwimBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œä¸ä¼šæ¸¸æ³³â€è¡Œä¸ºç­–ç•¥å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NoSwimHehavior</span> <span class="token keyword">implements</span> <span class="token class-name">SwimBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸ä¼šæ¸¸æ³³~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œä¼šæ¸¸æ³³â€è¡Œä¸ºç­–ç•¥å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CanSwimHehavior</span> <span class="token keyword">implements</span> <span class="token class-name">SwimBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¼šæ¸¸æ³³~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€œé£â€çš„è¡Œä¸º</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œé£è¡Œâ€è¡Œä¸ºç­–ç•¥æ¥å£</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">FlyBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œä¸ä¼šé£â€è¡Œä¸ºç­–ç•¥å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NoFlyBehavior</span> <span class="token keyword">implements</span> <span class="token class-name">FlyBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸ä¼šé£~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œä¸å¤ªä¼šé£â€è¡Œä¸ºç­–ç•¥å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BadFlyBehavior</span> <span class="token keyword">implements</span> <span class="token class-name">FlyBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸å¤ªä¼šé£~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * â€œå¾ˆä¼šé£â€è¡Œä¸ºç­–ç•¥å¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GoodFlyBehavior</span> <span class="token keyword">implements</span> <span class="token class-name">FlyBehavior</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¾ˆä¼šé£~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¸­å­ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡é¸­å­ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Duck</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">QuarkBehavior</span> quarkBehavior<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">SwimBehavior</span> swimBehavior<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">FlyBehavior</span> flyBehavior<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Duck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>quarkBehavior <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            quarkBehavior<span class="token punctuation">.</span><span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>swimBehavior <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            swimBehavior<span class="token punctuation">.</span><span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>flyBehavior <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            flyBehavior<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setQuarkBehavior</span><span class="token punctuation">(</span><span class="token class-name">QuarkBehavior</span> quarkBehavior<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>quarkBehavior <span class="token operator">=</span> quarkBehavior<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSwimBehavior</span><span class="token punctuation">(</span><span class="token class-name">SwimBehavior</span> swimBehavior<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>swimBehavior <span class="token operator">=</span> swimBehavior<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setFlyBehavior</span><span class="token punctuation">(</span><span class="token class-name">FlyBehavior</span> flyBehavior<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>flyBehavior <span class="token operator">=</span> flyBehavior<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * é‡é¸­å­</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WildDuck</span> <span class="token keyword">extends</span> <span class="token class-name">Duck</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">WildDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        quarkBehavior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GegeQuarkBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        swimBehavior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CanSwimHehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        flyBehavior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GoodFlyBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======é‡é¸­å­======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * åŒ—äº¬é¸­</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PekingDuck</span> <span class="token keyword">extends</span> <span class="token class-name">Duck</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">PekingDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        quarkBehavior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GagaQuarkBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        swimBehavior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CanSwimHehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        flyBehavior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BadFlyBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======åŒ—äº¬é¸­======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * ç©å…·é¸­</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ToyDuck</span> <span class="token keyword">extends</span> <span class="token class-name">Duck</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ToyDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        quarkBehavior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NoQuarkBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        swimBehavior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NoSwimHehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        flyBehavior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NoFlyBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======ç©å…·é¸­======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ä»£ç </p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">Duck</span> wildDuck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WildDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">wildDuck<span class="token punctuation">.</span><span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">wildDuck<span class="token punctuation">.</span><span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">wildDuck<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">Duck</span> pekingDuck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PekingDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">pekingDuck<span class="token punctuation">.</span><span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">pekingDuck<span class="token punctuation">.</span><span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">pekingDuck<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;===æ”¹å˜ç­–ç•¥===&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">pekingDuck<span class="token punctuation">.</span><span class="token function">setFlyBehavior</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">NoFlyBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">pekingDuck<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">Duck</span> toyDuck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToyDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">toyDuck<span class="token punctuation">.</span><span class="token function">quark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">toyDuck<span class="token punctuation">.</span><span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">toyDuck<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ç»“æœ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//======é‡é¸­å­======</span></span>
<span class="line"><span class="token comment">//å’¯å’¯å«~</span></span>
<span class="line"><span class="token comment">//ä¼šæ¸¸æ³³~</span></span>
<span class="line"><span class="token comment">//å¾ˆä¼šé£~</span></span>
<span class="line"><span class="token comment">//======åŒ—äº¬é¸­======</span></span>
<span class="line"><span class="token comment">//å˜å˜å«~</span></span>
<span class="line"><span class="token comment">//ä¼šæ¸¸æ³³~</span></span>
<span class="line"><span class="token comment">//ä¸å¤ªä¼šé£~</span></span>
<span class="line"><span class="token comment">//===æ”¹å˜ç­–ç•¥===</span></span>
<span class="line"><span class="token comment">//ä¸ä¼šé£~</span></span>
<span class="line"><span class="token comment">//======ç©å…·é¸­======</span></span>
<span class="line"><span class="token comment">//ä¸ä¼šå«~</span></span>
<span class="line"><span class="token comment">//ä¸ä¼šæ¸¸æ³³~</span></span>
<span class="line"><span class="token comment">//ä¸ä¼šé£~</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€ç­–ç•¥æ¨¡å¼åœ¨-jdk-arrays-åº”ç”¨çš„æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_5ã€ç­–ç•¥æ¨¡å¼åœ¨-jdk-arrays-åº”ç”¨çš„æºç åˆ†æ"><span>5ã€ç­–ç•¥æ¨¡å¼åœ¨ JDK-Arrays åº”ç”¨çš„æºç åˆ†æ</span></a></h3><p>JDK çš„<code>Arrays</code>çš„<code>Comparator</code>å°±ä½¿ç”¨äº†ç­–ç•¥æ¨¡å¼</p><ul><li>åŒ¿åç±»å¯¹è±¡<code>new Comparator&lt;Integer&gt;() {}</code>å®ç°äº†<code>Comparator</code>æ¥å£ï¼ˆç­–ç•¥æ¥å£ï¼‰</li><li><code>public int compare(Integer o1, Integer o2) {}</code>æŒ‡å®šå…·ä½“çš„å¤„ç†æ–¹å¼</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> comparator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> o1<span class="token punctuation">,</span> <span class="token class-name">Integer</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> o1 <span class="token operator">&gt;</span> o2 <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// æ–¹å¼1</span></span>
<span class="line"><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> comparator<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// [1, 2, 3, 4, 8, 9]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//æ–¹å¼2</span></span>
<span class="line"><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> v1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//[9, 8, 4, 3, 2, 1]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6ã€ç­–ç•¥æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_6ã€ç­–ç•¥æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>6ã€ç­–ç•¥æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰ç­–ç•¥æ¨¡å¼çš„å…³é”®æ˜¯ï¼š<mark>åˆ†æé¡¹ç›®ä¸­å˜åŒ–éƒ¨åˆ†ä¸ä¸å˜éƒ¨åˆ†</mark></li><li>2ï¼‰ç­–ç•¥æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<mark>å¤šç”¨ç»„åˆ/èšåˆï¼Œå°‘ç”¨ç»§æ‰¿</mark>ï¼›ç”¨è¡Œä¸ºç±»ç»„åˆï¼Œè€Œä¸æ˜¯è¡Œä¸ºçš„ç»§æ‰¿ï¼Œæ›´æœ‰å¼¹æ€§</li><li>3ï¼‰ä½“ç°äº†<mark>â€œå¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾â€</mark>åŸåˆ™ï¼Œå®¢æˆ·ç«¯å¢åŠ è¡Œä¸ºä¸ç”¨ä¿®æ”¹åŸæœ‰ä»£ç ï¼Œåªè¦æ·»åŠ ä¸€ç§ç­–ç•¥ï¼ˆæˆ–è€…è¡Œä¸ºï¼‰å³å¯ï¼Œé¿å…äº†ä½¿ç”¨å¤šé‡è½¬ç§»è¯­å¥ï¼ˆ<code>if...else if...else</code>ï¼‰</li><li>4ï¼‰æä¾›äº†å¯ä»¥æ›¿æ¢ç»§æ‰¿å…³ç³»çš„åŠæ³•ï¼šç­–ç•¥æ¨¡å¼å°†ç®—æ³•å°è£…åœ¨ç‹¬ç«‹çš„<code>Strategy</code>ç±»ä¸­ï¼Œä½¿å¾—ä½ å¯ä»¥ç‹¬ç«‹äºå…¶<code>Context</code>æ”¹å˜å®ƒï¼Œä½¿å®ƒæ˜“äºåˆ‡æ¢ã€æ˜“äºç†è§£ã€æ˜“äºæ‰©å±•</li><li>5ï¼‰éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ¯æ·»åŠ ä¸€ä¸ªç­–ç•¥å°±è¦å¢åŠ ä¸€ä¸ªç±»ï¼Œ<mark>å½“ç­–ç•¥è¿‡å¤šæ˜¯ä¼šå¯¼è‡´ç±»æ•°ç›®åºå¤§</mark></li></ul><h2 id="ã€23ã€‘èŒè´£é“¾æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ã€23ã€‘èŒè´£é“¾æ¨¡å¼"><span>ã€23ã€‘èŒè´£é“¾æ¨¡å¼</span></a></h2><h3 id="_1ã€oaç³»ç»Ÿçš„é‡‡è´­å®¡æ‰¹é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#_1ã€oaç³»ç»Ÿçš„é‡‡è´­å®¡æ‰¹é¡¹ç›®"><span>1ã€OAç³»ç»Ÿçš„é‡‡è´­å®¡æ‰¹é¡¹ç›®</span></a></h3><p>å­¦æ ¡ OA ç³»ç»Ÿçš„é‡‡è´­å®¡æ‰¹é¡¹ç›®ï¼Œéœ€æ±‚æ˜¯</p><ul><li>1ï¼‰é‡‡è´­å‘˜é‡‡è´­æ•™å­¦å™¨æ</li><li>2ï¼‰å¦‚æœé‡‘é¢å°äºç­‰äº 5000ï¼Œç”±æ•™å­¦ä¸»ä»»å®¡æ‰¹ï¼ˆ0 &lt; x â‰¤ 5000ï¼‰</li><li>3ï¼‰å¦‚æœé‡‘é¢å°äºç­‰äº 10000ï¼Œç”±é™¢é•¿å®¡æ‰¹ï¼ˆ5000 &lt; x â‰¤ 10000ï¼‰</li><li>4ï¼‰å¦‚æœé‡‘é¢å°äºç­‰äº 30000ï¼Œç”±å‰¯æ ¡é•¿å®¡æ‰¹ï¼ˆ10000&lt; x â‰¤ 30000ï¼‰</li><li>5ï¼‰å¦‚æœé‡‘é¢è¶…è¿‡ 30000 ä»¥ä¸Šï¼Œæœ‰æ ¡é•¿å®¡æ‰¹ï¼ˆ30000 &lt; xï¼‰</li></ul><p>è¯·è®¾è®¡ç¨‹åºå®Œæˆé‡‡è´­å®¡æ‰¹é¡¹ç›®</p><p><strong>ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³ OA ç³»ç»Ÿå®¡æ‰¹ï¼Œä¼ ç»Ÿçš„è®¾è®¡æ–¹æ¡ˆï¼ˆç±»å›¾ï¼‰</strong></p><p><img src="`+ea+'" alt="image-20220117211918215"></p><p><strong>ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³ OA ç³»ç»Ÿå®¡æ‰¹é—®é¢˜åˆ†æ</strong></p><ul><li>1ï¼‰ä¼ ç»Ÿæ–¹å¼æ˜¯ï¼šæ¥æ”¶åˆ°ä¸€ä¸ªé‡‡è´­è¯·æ±‚åï¼Œæ ¹æ®é‡‡è´­é‡‘é¢æ¥è°ƒç”¨å¯¹åº”çš„<code>Approver</code>ï¼ˆå®¡æ‰¹äººï¼‰å®Œæˆå®¡æ‰¹</li><li>2ï¼‰ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜åˆ†æï¼šå®¢æˆ·ç«¯è¿™é‡Œä¼šä½¿ç”¨åˆ°åˆ†æ”¯åˆ¤æ–­ï¼ˆæ¯”å¦‚<code>switch</code>ï¼‰æ¥å¯¹ä¸åŒçš„é‡‡è´­è¯·æ±‚å¤„ç†ï¼Œè¿™æ ·å°±å­˜åœ¨å¦‚ä¸‹é—®é¢˜ <ul><li>ï¼ˆ1ï¼‰å¦‚æœå„ä¸ªçº§åˆ«çš„äººå‘˜å®¡æ‰¹é‡‘é¢å‘ç”Ÿå˜åŒ–ï¼Œåœ¨å®¢æˆ·ç«¯çš„ä¹Ÿéœ€è¦å˜åŒ–</li><li>ï¼ˆ2ï¼‰å®¢æˆ·ç«¯å¿…é¡»æ˜ç¡®çš„çŸ¥é“æœ‰å¤šå°‘ä¸ªå®¡æ‰¹çº§åˆ«å’Œè®¿é—®</li></ul></li><li>3ï¼‰è¿™æ ·å¯¹ä¸€ä¸ªé‡‡è´­è¯·æ±‚è¿›è¡Œå¤„ç†å’Œ<code>Approver</code>ï¼ˆå®¡æ‰¹äººï¼‰å°±å­˜åœ¨å¼ºè€¦åˆå…³ç³»ï¼Œä¸åˆ©äºä»£ç çš„æ‰©å±•å’Œç»´æŠ¤</li><li>4ï¼‰è§£å†³æ–¹æ¡ˆ =ã€‹<mark>èŒè´£é“¾æ¨¡å¼</mark></li></ul><h3 id="_2ã€èŒè´£é“¾æ¨¡å¼åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€èŒè´£é“¾æ¨¡å¼åŸºæœ¬ä»‹ç»"><span>2ã€èŒè´£é“¾æ¨¡å¼åŸºæœ¬ä»‹ç»</span></a></h3><ul><li><p>1ï¼‰èŒè´£é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ï¼Œåˆå«<mark>è´£ä»»é“¾æ¨¡å¼</mark>ï¼šä¸ºè¯·æ±‚åˆ›å»ºäº†ä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡çš„é“¾ï¼ˆç®€å•ç¤ºæ„å›¾ï¼‰ã€‚</p><p><img src="'+ta+'" alt="image-20220117212306482"></p><p>è¿™ç§æ¨¡å¼å¯¹è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è¿›è¡Œè§£è€¦</p></li><li><p>2ï¼‰èŒè´£é“¾æ¨¡å¼é€šå¸¸æ¯ä¸ªæ¥æ”¶è€…éƒ½åŒ…å«å¯¹å¦ä¸€ä¸ªæ¥æ”¶è€…çš„å¼•ç”¨ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸èƒ½å¤„ç†è¯¥è¯·æ±‚ï¼Œé‚£ä¹ˆå®ƒä¼šæŠŠç›¸åŒçš„è¯·æ±‚ä¼ ç»™ä¸‹ä¸€ä¸ªæ¥æ”¶è€…ï¼Œä¾æ­¤ç±»æ¨</p></li><li><p>3ï¼‰è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<mark>è¡Œä¸ºå‹æ¨¡å¼</mark></p></li></ul><p><strong>åŸç†ç±»å›¾</strong></p><p><img src="'+la+'" alt="image-20220117212730422"></p><p>èŒè´£é“¾æ¨¡å¼ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»</p><p>å°†è¿™ä¸ªå¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢</p><ul><li><code>Handler</code>æŠ½è±¡å¤„ç†è€…ï¼šå®šä¹‰äº†ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ–¹æ³•ï¼ŒåŒæ—¶å«æœ‰å¦å¤–ä¸€ä¸ª<code>Handler</code></li><li><code>ConcreteHandler</code>å…·ä½“å¤„ç†è€…ï¼šå¤„ç†è‡ªå·±è´Ÿè´£çš„è¯·æ±‚ï¼ŒåŒæ—¶å¯ä»¥è®¿é—®å®ƒçš„åç»§è€…ï¼ˆå³ä¸‹ä¸€ä¸ªå¤„ç†è€…ï¼‰ ï¼›å¦‚æœå¯ä»¥å¤„ç†è¯·æ±‚ï¼Œåˆ™è¿›è¡Œå¤„ç†ï¼Œå¦åˆ™äº¤ç»™åç»§è€…å»å¤„ç†ï¼Œä»è€Œå½¢æˆä¸€ä¸ªèŒè´£é“¾</li><li><code>Request</code>å«æœ‰å¾ˆå¤šå±æ€§ï¼Œè¡¨ç¤ºä¸€ä¸ªè¯·æ±‚</li></ul><h3 id="_3ã€èŒè´£é“¾æ¨¡å¼è§£å†³-oa-ç³»ç»Ÿé‡‡è´­å®¡æ‰¹é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#_3ã€èŒè´£é“¾æ¨¡å¼è§£å†³-oa-ç³»ç»Ÿé‡‡è´­å®¡æ‰¹é¡¹ç›®"><span>3ã€èŒè´£é“¾æ¨¡å¼è§£å†³ OA ç³»ç»Ÿé‡‡è´­å®¡æ‰¹é¡¹ç›®</span></a></h3><p><strong>UML ç±»å›¾</strong></p><p><img src="'+ca+`" alt="image-20220117213428895"></p><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>è¯·æ±‚ç±»</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * é‡‡è´­ç”³è¯·ç±»</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PurchaseRequest</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Float</span> price<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">PurchaseRequest</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">Float</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Float</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> price<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠ½è±¡å®¡æ‰¹äººå¯¹è±¡</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æŠ½è±¡å®¡æ‰¹äººå¯¹è±¡</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Approver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Approver</span> nextApprover<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Approver</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * è®¾ç½®åç»§è€…</span>
<span class="line">     *</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">nextApprover</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNextApprover</span><span class="token punctuation">(</span><span class="token class-name">Approver</span> nextApprover<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>nextApprover <span class="token operator">=</span> nextApprover<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * å¤„ç†è¯·æ±‚çš„æ–¹æ³•</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">processRequest</span><span class="token punctuation">(</span><span class="token class-name">PurchaseRequest</span> purchaseRequest<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…·ä½“å®¡æ‰¹äººå¯¹è±¡</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * æ•™å­¦ä¸»ä»»å®¡æ‰¹äºº</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TeachDirectorApprover</span> <span class="token keyword">extends</span> <span class="token class-name">Approver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">TeachDirectorApprover</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">processRequest</span><span class="token punctuation">(</span><span class="token class-name">PurchaseRequest</span> purchaseRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>purchaseRequest<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·æ±‚ç¼–å·ï¼š&quot;</span> <span class="token operator">+</span> purchaseRequest<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ï¼Œå¤„ç†äººï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            nextApprover<span class="token punctuation">.</span><span class="token function">processRequest</span><span class="token punctuation">(</span>purchaseRequest<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * é™¢é•¿å®¡æ‰¹äºº</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DepartmentHeadApprover</span> <span class="token keyword">extends</span> <span class="token class-name">Approver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DepartmentHeadApprover</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">processRequest</span><span class="token punctuation">(</span><span class="token class-name">PurchaseRequest</span> purchaseRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>purchaseRequest<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">5000</span> <span class="token operator">&amp;&amp;</span> purchaseRequest<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·æ±‚ç¼–å·ï¼š&quot;</span> <span class="token operator">+</span> purchaseRequest<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ï¼Œå¤„ç†äººï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            nextApprover<span class="token punctuation">.</span><span class="token function">processRequest</span><span class="token punctuation">(</span>purchaseRequest<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å‰¯æ ¡é•¿å®¡æ‰¹äºº</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ViceChancellorApprover</span> <span class="token keyword">extends</span> <span class="token class-name">Approver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ViceChancellorApprover</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">processRequest</span><span class="token punctuation">(</span><span class="token class-name">PurchaseRequest</span> purchaseRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>purchaseRequest<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10000</span> <span class="token operator">&amp;&amp;</span> purchaseRequest<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">30000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·æ±‚ç¼–å·ï¼š&quot;</span> <span class="token operator">+</span> purchaseRequest<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ï¼Œå¤„ç†äººï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            nextApprover<span class="token punctuation">.</span><span class="token function">processRequest</span><span class="token punctuation">(</span>purchaseRequest<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * å‰¯æ ¡é•¿å®¡æ‰¹äºº</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChancellorApprover</span> <span class="token keyword">extends</span> <span class="token class-name">Approver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ChancellorApprover</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">processRequest</span><span class="token punctuation">(</span><span class="token class-name">PurchaseRequest</span> purchaseRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>purchaseRequest<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">30000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·æ±‚ç¼–å·ï¼š&quot;</span> <span class="token operator">+</span> purchaseRequest<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ï¼Œå¤„ç†äººï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            nextApprover<span class="token punctuation">.</span><span class="token function">processRequest</span><span class="token punctuation">(</span>purchaseRequest<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ä»£ç </p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">//åˆ›å»ºä¸€ä¸ªè¯·æ±‚</span></span>
<span class="line"><span class="token class-name">PurchaseRequest</span> purchaseRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PurchaseRequest</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">31000.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//åˆ›å»ºç›¸å…³çš„å®¡æ‰¹äºº</span></span>
<span class="line"><span class="token class-name">TeachDirectorApprover</span> teachDirectorApprover <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TeachDirectorApprover</span><span class="token punctuation">(</span><span class="token string">&quot;ç«¥ä¸»ä»»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">DepartmentHeadApprover</span> departmentHeadApprover <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DepartmentHeadApprover</span><span class="token punctuation">(</span><span class="token string">&quot;ç‹é™¢é•¿&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">ViceChancellorApprover</span> viceChancellorApprover <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViceChancellorApprover</span><span class="token punctuation">(</span><span class="token string">&quot;é’±å‰¯æ ¡é•¿&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">ChancellorApprover</span> chancellorApprover <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChancellorApprover</span><span class="token punctuation">(</span><span class="token string">&quot;éƒ‘æ ¡é•¿&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//è®¾ç½®åç»§è€…ï¼ˆå¤„ç†äººå½¢æˆç¯å½¢ï¼‰</span></span>
<span class="line">teachDirectorApprover<span class="token punctuation">.</span><span class="token function">setNextApprover</span><span class="token punctuation">(</span>departmentHeadApprover<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">departmentHeadApprover<span class="token punctuation">.</span><span class="token function">setNextApprover</span><span class="token punctuation">(</span>viceChancellorApprover<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">viceChancellorApprover<span class="token punctuation">.</span><span class="token function">setNextApprover</span><span class="token punctuation">(</span>chancellorApprover<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">chancellorApprover<span class="token punctuation">.</span><span class="token function">setNextApprover</span><span class="token punctuation">(</span>teachDirectorApprover<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//å‘èµ·ä¸€ä¸ªè¯·æ±‚</span></span>
<span class="line">teachDirectorApprover<span class="token punctuation">.</span><span class="token function">processRequest</span><span class="token punctuation">(</span>purchaseRequest<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¯·æ±‚ç¼–å·ï¼š1ï¼Œå¤„ç†äººï¼šéƒ‘æ ¡é•¿</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€èŒè´£é“¾æ¨¡å¼åœ¨-springmvc-æ¡†æ¶åº”ç”¨çš„æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_4ã€èŒè´£é“¾æ¨¡å¼åœ¨-springmvc-æ¡†æ¶åº”ç”¨çš„æºç åˆ†æ"><span>4ã€èŒè´£é“¾æ¨¡å¼åœ¨ SpringMVC æ¡†æ¶åº”ç”¨çš„æºç åˆ†æ</span></a></h3><p><code>SpringMVC</code>ä¸­<code>HandlerExecutionChain</code>ç±»å°±ä½¿ç”¨åˆ°äº†èŒè´£é“¾æ¨¡å¼</p><p>é¦–å…ˆï¼Œéœ€è¦äº†è§£ä¸‹<code>SpringMVC</code>åŸºæœ¬çš„è¯·æ±‚æµç¨‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="`+ia+`" alt="image-20220118185936255"></p><p>é¦–å…ˆï¼Œå½“ç”¨æˆ·ä¼šå‘èµ·ä¸€ä¸ª<code>request</code>è¯·æ±‚åˆ°åå°ï¼Œè¿™ä¸ª<code>request</code>è¯·æ±‚é¦–å…ˆä¼šç»è¿‡<code>DispatcherServlet</code>ï¼Œ<code>DispatcherServlet</code>å¯¹è±¡é¦–å…ˆä¼šéå†æ¥æ”¶åˆ°çš„<code>HandlerMapping</code>é›†åˆï¼Œç„¶åå†æ‰¾åˆ°å¯¹åº”çš„<code>HandlerMapping</code>é›†åˆï¼Œå¹¶å¾—åˆ°<code>HandlerExecutionChain</code>å¯¹è±¡ã€‚è¿™ä¸ª<code>HandlerExecutionChain</code>å¯¹è±¡å†…éƒ¨åŒ…å«äº†ä¸€äº›æ‹¦æˆªå™¨ã€‚æ‹¿åˆ°<code>HandlerInterceptor</code>æ‹¦æˆªå™¨è¿‡åï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªæ“ä½œ</p><ul><li>é¦–å…ˆä¼šè°ƒç”¨<code>HandlerInterceptor</code>ä¸­çš„<code>preHandle()</code>æ–¹æ³•</li><li>ç„¶åä¼šè°ƒç”¨<code>HandlerInterceptor</code>ä¸­çš„<code>postHandle()</code>æ–¹æ³•</li><li>æœ€åä¼šè°ƒç”¨<code>HandlerInterceptor</code>ä¸­çš„<code>afterCompletion()</code>æ–¹æ³•</li></ul><p>ç°åœ¨å¯¹<code>SpringMVC </code>è¿›è¡Œæºç åˆ†æï¼Œé¦–å…ˆéœ€è¦å¼•å…¥<code>SpringMVC</code>ç›¸å…³ä¾èµ–</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>org.springframework.version</span><span class="token punctuation">&gt;</span></span>4.3.7.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>org.springframework.version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${org.springframework.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-beans<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${org.springframework.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${org.springframework.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${org.springframework.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${org.springframework.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-expression<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${org.springframework.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯¹å…¶å¦‚ä½•è°ƒç”¨<code>HandlerInterceptor</code>æ‹¦æˆªå™¨ä¸­çš„è¿™ä¸‰ä¸ªæ–¹æ³•ä¸€æ¢ç©¶ç«Ÿå§</p><p>1ï¼‰åœ¨<code>DispatcherServlet</code>ä¸­æ‰¾åˆ°<code>doDispatch()</code>æ–¹æ³•ï¼Œå‘ç°è¯¥æ–¹æ³•ä¸­å®šä¹‰äº†ä¸€ä¸ª<code>HandlerExecutionChain</code>å¯¹è±¡</p><p><img src="`+oa+'" alt="image-20220118193853864"></p><p>åœ¨åç»­çš„ä»£ç é€»è¾‘ä¸­ï¼Œè°ƒç”¨äº†<code>getHandler()</code>æ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ª<code>processedRequest</code>è¯·æ±‚å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¾—åˆ°åˆå§‹åŒ–çš„<code>HandlerExecutionChain</code>å¯¹è±¡</p><p><img src="'+ua+'" alt="image-20220118193939093"></p><p>ç›´æ¥å¯¹<code>mappedHandler</code>å¯¹è±¡è¿›è¡Œé«˜äº®ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ›´åŠ ç›´è§‚åœ°çœ‹åˆ°<code>mappedHandler</code>æ˜¯å¦‚ä½•è°ƒç”¨ä¸Šè¿°æ‰€è¯´çš„<code>preHandle()</code>ã€<code>postHandle()</code>å’Œ<code>afterCompletion()</code>ä¸‰ä¸ªæ–¹æ³•çš„</p><p><img src="'+ka+`" alt="image-20220118202141860"></p><p>æœ€ç»ˆï¼Œæˆ‘ä»¬æ‰¾åˆ°è¿™æ ·ä¸¤æ®µä»£ç ï¼Œå¾ˆåƒä¸Šè¿°æ‰€è¯´çš„<code>preHandle()</code>å’Œ<code>postHandle()</code>ä¸¤ä¸ªæ–¹æ³•</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mappedHandler<span class="token punctuation">.</span><span class="token function">applyPreHandle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">mappedHandler<span class="token punctuation">.</span><span class="token function">applyPostHandle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mv<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆä¼šæ‰§è¡Œ<code>mappedHandler</code>çš„<code>applyPreHandle()</code>æ–¹æ³•ï¼šå¦‚æœè¿”å›ä¸º<code>false</code>ï¼Œåˆ™åˆ¤æ–­æˆç«‹ï¼Œåç»­ä»£ç ä¸å†æ‰§è¡Œï¼›å¦åˆ™ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè°ƒç”¨<code>mappedHandler</code>çš„<code>applyPostHandle()</code>æ–¹æ³•</p><p>æˆ‘ä»¬å¯¹<code>applyPreHandle()</code>å’Œ<code>applyPostHandle()</code>æ–¹æ³•è¿›è¡Œæºç è¿½è¸ª</p><p>2ï¼‰å…ˆçœ‹ä¸‹<code>applyPreHandle()</code>æ–¹æ³•çš„æºç </p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">boolean</span> <span class="token function">applyPreHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">HandlerInterceptor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interceptors <span class="token operator">=</span> <span class="token function">getInterceptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">ObjectUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>interceptors<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> interceptors<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">HandlerInterceptor</span> interceptor <span class="token operator">=</span> interceptors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>interceptor<span class="token punctuation">.</span><span class="token function">preHandle</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token function">triggerAfterCompletion</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            <span class="token keyword">this</span><span class="token punctuation">.</span>interceptorIndex <span class="token operator">=</span> i<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥å‘ç°ï¼Œ<code>applyPreHandle</code>æ–¹æ³•å†…éƒ¨é¦–å…ˆä¼šæ‹¿åˆ°ä¸€ç»„<code>interceptors</code>æ‹¦æˆªå™¨ï¼Œå½“æ‹¦æˆªå™¨æ•°ç»„ä¸ä¸ºç©ºæ—¶ï¼Œè¿›è¡Œå¦‚ä¸‹å¤„ç†ï¼š</p><ul><li>é¦–å…ˆå¯¹<code>interceptors</code>æ‹¦æˆªå™¨è¿›è¡Œäº†<code>for</code>å¾ªç¯éå†ï¼Œæ‹¿åˆ°æ¯ä¸€ä¸ªå…·ä½“çš„<code>interceptor</code>æ‹¦æˆªå™¨</li><li>æ¥ç€è°ƒç”¨äº†<code>interceptor</code>çš„<code>preHandle()</code>æ–¹æ³•ï¼Œå¦‚æœè¿”å›<code>false</code>ï¼Œåˆ™æ‰§è¡Œ<code>triggerAfterCompletion()</code>æ–¹æ³•å¹¶è¿›è¡Œ<code>return</code>ï¼Œæ­¤æ–¹æ³•ç»“æŸï¼›å¦åˆ™ç»§ç»­æ‰§è¡Œç›¸å…³å¤„ç†</li></ul><p>3ï¼‰æ¥ç€çœ‹ä¸‹<code>triggerAfterCompletion()</code>æ–¹æ³•çš„æºç </p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">void</span> <span class="token function">triggerAfterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">HandlerInterceptor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interceptors <span class="token operator">=</span> <span class="token function">getInterceptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">ObjectUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>interceptors<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>interceptorIndex<span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">HandlerInterceptor</span> interceptor <span class="token operator">=</span> interceptors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">                interceptor<span class="token punctuation">.</span><span class="token function">afterCompletion</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handler<span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> ex2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;HandlerInterceptor.afterCompletion threw exception&quot;</span><span class="token punctuation">,</span> ex2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥å‘ç°ï¼Œå…¶ä¸­é€»è¾‘è·Ÿ<code>applyPreHandle()</code>æ–¹æ³•å¾ˆç›¸ä¼¼ï¼šå…ˆå¯¹ä¸€ç»„<code>interceptors</code>æ‹¦æˆªå™¨è¿›è¡Œéå†ï¼Œå†æ‰§è¡Œ<code>interceptor</code>å•ä¸ªæ‹¦æˆªå™¨çš„<code>afterCompletion()</code>æ–¹æ³•</p><p>4ï¼‰æœ€åçœ‹ä¸‹<code>applyPostHandle()</code>æ–¹æ³•çš„æºç </p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">void</span> <span class="token function">applyPostHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">ModelAndView</span> mv<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">HandlerInterceptor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interceptors <span class="token operator">=</span> <span class="token function">getInterceptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">ObjectUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>interceptors<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> interceptors<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">HandlerInterceptor</span> interceptor <span class="token operator">=</span> interceptors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">            interceptor<span class="token punctuation">.</span><span class="token function">postHandle</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handler<span class="token punctuation">,</span> mv<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ ·å¯ä»¥å‘ç°ï¼Œå…¶ä¸­é€»è¾‘è·Ÿä¸Šè¿°æ–¹æ³•ä¹ŸåŸºæœ¬ä¸€è‡´ï¼šå…ˆå¯¹ä¸€ç»„<code>interceptors</code>æ‹¦æˆªå™¨è¿›è¡Œéå†ï¼Œå†æ‰§è¡Œ<code>interceptor</code>å•ä¸ªæ‹¦æˆªå™¨çš„<code>postHandle()</code>æ–¹æ³•</p><p>é€šè¿‡å¯¹ä¸Šè¿°<code>SpringMVC</code>çš„æºç åˆ†æï¼Œè¿™é‡Œè¿›è¡Œç®€å•çš„æ¢³ç†æ€»ç»“</p><ul><li><code>SpringMVC</code>è¯·æ±‚çš„æµç¨‹å›¾ä¸­ï¼Œæ‰§è¡Œäº†æ‹¦æˆªå™¨ç›¸å…³æ–¹æ³•ï¼Œå¦‚<code>interceptor.preHandler()</code></li><li>åœ¨å¤„ç†<code>SpringMVC</code>è¯·æ±‚æ—¶ï¼Œä½¿ç”¨åˆ°<mark>èŒè´£é“¾æ¨¡å¼å’Œé€‚é…å™¨æ¨¡å¼</mark></li><li><code>HandlerExecutionChain</code>ï¼šä¸»è¦è´Ÿè´£è¯·æ±‚æ‹¦æˆªå™¨çš„æ‰§è¡Œå’Œè¯·æ±‚å¤„ç†ï¼Œä½†æ˜¯æœ¬èº«ä¸å¤„ç†è¯·æ±‚ï¼Œåªæ˜¯å°†è¯·æ±‚åˆ†é…ç»™ <em>é“¾ä¸Šæ³¨å†Œå¤„ç†å™¨</em> æ‰§è¡Œã€‚è¿™æ˜¯èŒè´£é“¾å®ç°æ–¹å¼ï¼Œ<mark>å‡å°‘èŒè´£é“¾æœ¬èº«ä¸å¤„ç†é€»è¾‘ä¹‹é—´çš„è€¦åˆï¼Œè§„èŒƒäº†å¤„ç†æµç¨‹</mark></li><li><code>HandlerExecutionChain</code>ï¼šç»´æŠ¤äº†<code>Handlerlnterceptor</code>çš„é›†åˆï¼Œå¯ä»¥å‘å…¶ä¸­æ³¨å†Œç›¸åº”çš„æ‹¦æˆªå™¨</li></ul><h3 id="_5ã€èŒè´£é“¾æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_5ã€èŒè´£é“¾æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚"><span>5ã€èŒè´£é“¾æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</span></a></h3><ul><li>1ï¼‰å°†è¯·æ±‚å’Œå¤„ç†åˆ†å¼€ï¼Œå®ç°è§£è€¦ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§</li><li>2ï¼‰ç®€åŒ–äº†å¯¹è±¡ï¼Œä½¿å¯¹è±¡ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„</li><li>3ï¼‰æ€§èƒ½ä¼šå—åˆ°å½±å“ï¼Œç‰¹åˆ«æ˜¯åœ¨é“¾æ¯”è¾ƒé•¿çš„æ—¶å€™ï¼Œå› æ­¤éœ€æ§åˆ¶é“¾ä¸­æœ€å¤§èŠ‚ç‚¹æ•°é‡ï¼Œä¸€èˆ¬é€šè¿‡åœ¨<code>Handler</code>ä¸­è®¾ç½®ä¸€ä¸ªæœ€å¤§èŠ‚ç‚¹æ•°é‡ï¼Œåœ¨<code>setNext()</code>æ–¹æ³•ä¸­åˆ¤æ–­æ˜¯å¦å·²ç»è¶…è¿‡é˜€å€¼ï¼Œè¶…è¿‡åˆ™ä¸å…è®¸è¯¥é“¾å»ºç«‹ï¼Œé¿å…å‡ºç°è¶…é•¿é“¾æ— æ„è¯†åœ°ç ´åç³»ç»Ÿæ€§èƒ½</li><li>4ï¼‰è°ƒè¯•ä¸æ–¹ä¾¿ã€‚é‡‡ç”¨äº†ç±»ä¼¼é€’å½’çš„æ–¹å¼ï¼Œè°ƒè¯•æ—¶é€»è¾‘å¯èƒ½æ¯”è¾ƒå¤æ‚</li><li>5ï¼‰æœ€ä½³åº”ç”¨åœºæ™¯ï¼šæœ‰å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†åŒä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œæ¯”å¦‚ï¼šå¤šçº§è¯·æ±‚ã€è¯·å‡ / åŠ è–ªç­‰å®¡æ‰¹æµç¨‹ã€Java Web ä¸­ Tomcat å¯¹<code>Encoding</code>çš„å¤„ç†ã€æ‹¦æˆªå™¨</li></ul><h2 id="ã€-ã€‘è®¾è®¡æ¨¡å¼å¤§æ‚çƒ©" tabindex="-1"><a class="header-anchor" href="#ã€-ã€‘è®¾è®¡æ¨¡å¼å¤§æ‚çƒ©"><span>ã€-ã€‘è®¾è®¡æ¨¡å¼å¤§æ‚çƒ©</span></a></h2><h3 id="_1ã€æ¦‚å¿µæ€§çŸ¥è¯†" tabindex="-1"><a class="header-anchor" href="#_1ã€æ¦‚å¿µæ€§çŸ¥è¯†"><span>1ã€æ¦‚å¿µæ€§çŸ¥è¯†</span></a></h3><h4 id="è®¾è®¡æ¨¡å¼ç»ˆæç›®æ ‡-ä¸–ç•Œè§‚" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡æ¨¡å¼ç»ˆæç›®æ ‡-ä¸–ç•Œè§‚"><span>è®¾è®¡æ¨¡å¼ç»ˆæç›®æ ‡ï¼ˆä¸–ç•Œè§‚ï¼‰</span></a></h4><ul><li>é«˜å†…èšã€ä½è€¦åˆ</li><li>æ˜“æ‰©å±•ã€æ˜“ç»´æŠ¤</li></ul><h4 id="è®¾è®¡æ¨¡å¼æ ¸å¿ƒæ€æƒ³-æ–¹æ³•è®º" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡æ¨¡å¼æ ¸å¿ƒæ€æƒ³-æ–¹æ³•è®º"><span>è®¾è®¡æ¨¡å¼æ ¸å¿ƒæ€æƒ³ï¼ˆæ–¹æ³•è®ºï¼‰</span></a></h4><ul><li>ç»„åˆèšåˆä»£æ›¿ç»§æ‰¿</li><li>é¢å‘æ¥å£ç¼–ç¨‹</li></ul><h4 id="é¢—ç²’åº¦" tabindex="-1"><a class="header-anchor" href="#é¢—ç²’åº¦"><span>é¢—ç²’åº¦</span></a></h4><ul><li><mark>é¢—ç²’åº¦</mark>ï¼šç³»ç»Ÿç»“æ„åŠŸèƒ½çš„åˆ†è§£ç»†åŒ–ç¨‹åº¦ã€å¤æ‚å¯¹è±¡çš„åˆ†è§£ç¨‹åº¦</li></ul><h4 id="å¦‚ä½•æŠŠæ¡-åº¦" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•æŠŠæ¡-åº¦"><span>å¦‚ä½•æŠŠæ¡â€œåº¦â€</span></a></h4><ul><li><mark>æƒè¡¡</mark>å„ç§å› ç´ ï¼Œé€‚å½“é¢—ç²’åŒ–ï¼Œä½¿ç³»ç»Ÿå¤„äºåˆé€‚çš„é¢—ç²’åº¦</li></ul><h4 id="å•ä¸€èŒè´£" tabindex="-1"><a class="header-anchor" href="#å•ä¸€èŒè´£"><span>å•ä¸€èŒè´£</span></a></h4><p>è¦ä½¿å¾—ç³»ç»ŸåŠŸèƒ½ä¸“ä¸šè€Œå•ä¸€ï¼Œé™ä½å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´ã€å„ä¸ªåŠŸèƒ½æ¨¡å—ä¹‹é—´çš„ä¾èµ–å’Œè€¦åˆ</p><ul><li>è½¯ä»¶çš„æ¯ä¸€ä¸ªæ“ä½œè¿‡ç¨‹ä¸è¦å¤ªè¿‡å¤æ‚ï¼Œå¦åˆ™ä¸ä¾¿äºç³»ç»Ÿçš„ç»´æŠ¤å’Œè§£è€¦</li><li>è½¯ä»¶ç»“æ„æˆ–æ“ä½œè¿‡ç¨‹ä¸èƒ½å¤ªç»†åŒ–ï¼Œå¦åˆ™é€ æˆç³»ç»Ÿå„éƒ¨ä»¶ä¹‹é—´çš„é¢‘ç¹è°ƒç”¨ï¼Œè¿è¡Œæ•ˆç‡é™ä½</li></ul><h4 id="æ— æ–¹æ³•æ¥å£çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#æ— æ–¹æ³•æ¥å£çš„ä½œç”¨"><span>æ— æ–¹æ³•æ¥å£çš„ä½œç”¨</span></a></h4><ul><li>æ ‡ç¤º</li></ul><h4 id="é‡æ„åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#é‡æ„åŸåˆ™"><span>é‡æ„åŸåˆ™</span></a></h4><ul><li>æŠ½è±¡ç±»åº”å½“æ‹¥æœ‰ç«Ÿå¯èƒ½å¤šçš„è¡Œä¸ºï¼Œåº”å½“æ‹¥æœ‰å°½å¯èƒ½å°‘çš„æ•°æ®</li></ul><h4 id="å¥½è±å-åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#å¥½è±å-åŸåˆ™"><span>â€œå¥½è±åâ€åŸåˆ™</span></a></h4><blockquote><p>donâ€˜t call us, weâ€˜ll call you</p><p>ä¸è¦æ‰“ç”µè¯ç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šæ‰“ç”µè¯ç»™ä½ </p></blockquote><p>è¿™æ˜¯è‘—åçš„â€œå¥½è±åâ€åŸåˆ™ã€‚åœ¨å¥½è±åï¼ŒæŠŠç®€å†é€’äº¤ç»™æ¼”è‰ºå…¬å¸åå°±åªæœ‰å›å®¶ç­‰å¾…ã€‚ç”±æ¼”è‰ºå…¬å¸å¯¹æ•´ä¸ªå¨±ä¹é¡¹çš„å®Œå…¨æ§åˆ¶ï¼Œæ¼”å‘˜åªèƒ½è¢«åŠ¨å¼çš„æ¥å—å…¬å¸çš„å·®ä½¿ï¼Œåœ¨éœ€è¦çš„ç¯èŠ‚ä¸­ï¼Œå®Œæˆè‡ªå·±çš„æ¼”å‡º</p><p><strong>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</strong>å……åˆ†çš„ä½“ç°äº†â€œå¥½è±åâ€åŸåˆ™ã€‚<code>IOC</code>çš„åŸç†å°±æ˜¯åŸºäºå¥½è±ååŸåˆ™ï¼Œæ‰€æœ‰çš„ç»„ä»¶éƒ½æ˜¯è¢«åŠ¨çš„ï¼Œæ‰€æœ‰çš„ç»„ä»¶åˆå§‹åŒ–å’Œè°ƒç”¨éƒ½ç”±å®¹å™¨è´Ÿè´£</p><p>å…è®¸åº•å±‚ç»„ä»¶å°†è‡ªå·±æŒ‚é’©åˆ°é«˜å±‚ç»„ä»¶çš„ç®—æ³•è¿‡ç¨‹ä¸­ï¼Œä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Œåˆ™æ˜¯æŒ‰ç…§é«˜å±‚çš„å¤„ç†é€»è¾‘å†³å®šï¼Œæœ‰æ•ˆé¿å…äº†ç³»ç»Ÿç¯çŠ¶ä¾èµ–</p><h4 id="å¼€é—­åŸåˆ™å¦‚ä½•å®ç°" tabindex="-1"><a class="header-anchor" href="#å¼€é—­åŸåˆ™å¦‚ä½•å®ç°"><span>å¼€é—­åŸåˆ™å¦‚ä½•å®ç°ï¼Ÿ</span></a></h4><ul><li>é¢å‘æŠ½è±¡/æ¥å£ç¼–ç¨‹ï¼šä¹Ÿæ˜¯ä¾èµ–å€’è½¬åŸåˆ™ï¼Œå¤šç”¨æŠ½è±¡ç±»å’Œæ¥å£</li><li>å°è£…å˜åŒ–éƒ¨åˆ†</li></ul><h4 id="ç¬¦åˆè®¾è®¡åŸåˆ™çš„å…¸å‹è®¾è®¡æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ç¬¦åˆè®¾è®¡åŸåˆ™çš„å…¸å‹è®¾è®¡æ¨¡å¼"><span>ç¬¦åˆè®¾è®¡åŸåˆ™çš„å…¸å‹è®¾è®¡æ¨¡å¼</span></a></h4><ul><li><strong>å•ä¸€èŒè´£åŸåˆ™</strong>ï¼šçŠ¶æ€æ¨¡å¼</li><li><strong>ä¾èµ–å€’è½¬åŸåˆ™</strong>ï¼šæ¡¥æ¥æ¨¡å¼</li><li><strong>æ¥å£éš”ç¦»åŸåˆ™</strong>ï¼šå¤‡å¿˜å½•æ¨¡å¼</li><li><strong>è¿ªç±³ç‰¹æ³•åˆ™</strong>ï¼šå¤–è§‚æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼</li></ul><h3 id="_2ã€è®¾è®¡æ¨¡å¼è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_2ã€è®¾è®¡æ¨¡å¼è¡¥å……"><span>2ã€è®¾è®¡æ¨¡å¼è¡¥å……</span></a></h3><h4 id="åŸå‹æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#åŸå‹æ¨¡å¼"><span>åŸå‹æ¨¡å¼</span></a></h4><ul><li>å®ç°<code>Cloneable</code>æ¥å£ï¼Œé‡è½½<code>clone</code>æ–¹å¼äº§ç”Ÿæ–°å¯¹è±¡æ—¶ï¼Œä¸ä¼šæ‰§è¡Œç±»çš„æ„é€ æ–¹æ³•</li></ul><h4 id="å¤‡å¿˜å½•æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#å¤‡å¿˜å½•æ¨¡å¼"><span>å¤‡å¿˜å½•æ¨¡å¼</span></a></h4><ul><li><strong>ç™½ç®±å¤‡å¿˜å½•æ¨¡å¼</strong>ï¼šæ™®é€šçš„æ–¹å¼ï¼Œå³åªæœ‰ä¸€ä¸ªå¤‡å¿˜å½•å…·ä½“ç±»</li><li><strong>é»‘ç®±å¤‡å¿˜å½•æ¨¡å¼</strong>ï¼šå®šä¹‰ä¸€ä¸ªå¤‡å¿˜å½•çª„æ¥å£ï¼Œå¤‡å¿˜å½•å…·ä½“å®ç°ç±»ä½œä¸ºç§æœ‰å†…éƒ¨ç±»è°ƒç”¨ï¼Œå¹¶ä¸”å¤‡å¿˜å½•ç±»ä¸­æ‰€æœ‰å±æ€§å’Œæ–¹æ³•å‡ç§æœ‰åŒ–ï¼Œä¸å¯¹å¤–æš´éœ²ï¼›åŒæ—¶å¤‡å¿˜å½•ç®¡ç†è€…åªæ¥æ”¶çª„æ¥å£</li></ul><h4 id="å¼¥è¡¥è€ç³»ç»Ÿç¼ºé™·çš„è®¾è®¡æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#å¼¥è¡¥è€ç³»ç»Ÿç¼ºé™·çš„è®¾è®¡æ¨¡å¼"><span>å¼¥è¡¥è€ç³»ç»Ÿç¼ºé™·çš„è®¾è®¡æ¨¡å¼</span></a></h4><p>è€ç³»ç»Ÿä»£ç ï¼Œä¸€èˆ¬ä¸è½»æ˜“æ”¹åŠ¨åŸä»£ç ï¼Œè¿™æ—¶å€™éœ€è¦å¯¹è€ç³»ç»ŸåšåŠŸèƒ½æ‰©å±•ï¼Œå¦‚ä¸‹è®¾è®¡æ¨¡å¼åº”è¿è€Œç”Ÿ</p><ul><li>é€‚é…å™¨æ¨¡å¼</li><li>å¤–è§‚æ¨¡å¼</li><li>ä»£ç†æ¨¡å¼</li></ul><h4 id="åŒå‘è€¦åˆçš„è®¾è®¡æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#åŒå‘è€¦åˆçš„è®¾è®¡æ¨¡å¼"><span>åŒå‘è€¦åˆçš„è®¾è®¡æ¨¡å¼</span></a></h4><p>ä½ ä¸­æœ‰æˆ‘ã€æˆ‘ä¸­æœ‰ä½ ï¼šå³ä¸€ä¸ªå¯¹è±¡æŒæœ‰å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå¦ä¸€ä¸ªå¯¹è±¡ä¹ŸæŒæœ‰è¯¥å¯¹è±¡çš„æƒ…å†µã€‚å½“ç„¶ï¼Œä¸ºäº†è§£è€¦ï¼Œä¸€èˆ¬æ˜¯æ¥å£æˆ–æŠ½è±¡ç±»ä¹‹é—´ç›¸äº’æŒæœ‰</p><ul><li>ä¸­ä»‹è€…æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼</li></ul><h4 id="å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼å¿…çŸ¥å¿…ä¼š" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼å¿…çŸ¥å¿…ä¼š"><span>å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼å¿…çŸ¥å¿…ä¼š</span></a></h4><ul><li><strong>åˆ›å»ºå‹æ¨¡å¼</strong>ï¼šå•ä¾‹æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼</li><li><strong>ç»“æ„å‹æ¨¡å¼</strong>ï¼šå¤–è§‚æ¨¡å¼ã€ä»£ç†æ¨¡å¼</li><li><strong>è¡Œä¸ºå‹æ¨¡å¼</strong>ï¼šæ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼</li></ul><h2 id="ã€-ã€‘è®¾è®¡æ¨¡å¼å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#ã€-ã€‘è®¾è®¡æ¨¡å¼å¯¹æ¯”"><span>ã€-ã€‘è®¾è®¡æ¨¡å¼å¯¹æ¯”</span></a></h2><h3 id="_1ã€æŠ½è±¡å·¥å‚æ¨¡å¼-vs-å»ºé€ è€…æ¨¡å¼-vs-æ¨¡æ¿æ–¹æ³•æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_1ã€æŠ½è±¡å·¥å‚æ¨¡å¼-vs-å»ºé€ è€…æ¨¡å¼-vs-æ¨¡æ¿æ–¹æ³•æ¨¡å¼"><span>1ã€æŠ½è±¡å·¥å‚æ¨¡å¼ VS å»ºé€ è€…æ¨¡å¼ VS æ¨¡æ¿æ–¹æ³•æ¨¡å¼</span></a></h3><p>é¦–å…ˆï¼Œçœ‹ä¸‹å„ä¸ªæ¨¡å¼çš„å®šä¹‰</p><ul><li><strong>æŠ½è±¡å·¥å‚æ¨¡å¼</strong>ï¼šç”±å·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªç§äº§å“ç±»çš„å®ä¾‹</li><li><strong>å»ºé€ è€…æ¨¡å¼</strong>ï¼šå°†å¤æ‚å¯¹è±¡çš„å»ºé€ è¿‡ç¨‹æŠ½è±¡å‡ºæ¥ï¼Œä½¿è¿™ä¸ªæŠ½è±¡è¿‡ç¨‹çš„ä¸åŒå®ç°æ–¹æ³•å¯ä»¥æ„é€ å‡ºä¸åŒè¡¨ç°ï¼ˆå±æ€§ï¼‰çš„å¯¹è±¡</li><li><strong>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</strong>ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚åˆ†ä¸ºç±»è¡Œä¸ºæ¨¡å¼å’Œå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå‰è€…é‡‡ç”¨ç»§æ‰¿æœºåˆ¶æ¥åœ¨ç±»é—´åˆ†æ´¾è¡Œä¸ºï¼Œåè€…é‡‡ç”¨ç»„åˆæˆ–èšåˆåœ¨å¯¹è±¡é—´åˆ†é…è¡Œä¸º</li></ul><p>é€šè¿‡ä¸€å¼ è¡¨æ ¼æ€»ç»“å…¶åŒºåˆ«</p><table><thead><tr><th style="text-align:left;">æŠ½è±¡å·¥å‚æ¨¡å¼</th><th style="text-align:left;">å»ºé€ è€…æ¨¡å¼</th><th style="text-align:left;">æ¨¡æ¿æ–¹æ³•æ¨¡å¼</th></tr></thead><tbody><tr><td style="text-align:left;">åˆ›å»ºå‹æ¨¡å¼</td><td style="text-align:left;">~</td><td style="text-align:left;">ç»“æ„å‹æ¨¡å¼</td></tr><tr><td style="text-align:left;">å…³æ³¨çš„æ˜¯å¯¹è±¡çš„åˆ›å»º</td><td style="text-align:left;">å…³æ³¨çš„æ˜¯å¯¹è±¡çš„åˆ›å»º</td><td style="text-align:left;">å…³æ³¨çš„æ˜¯å¯¹è±¡çš„æ–¹æ³•ç»“æ„</td></tr><tr><td style="text-align:left;">å…³æ³¨çš„æ˜¯å…·ä½“äº§å“çš„åˆ›å»º</td><td style="text-align:left;">å…³æ³¨çš„æ˜¯å¤æ‚å¯¹è±¡çš„å»ºé€ è¿‡ç¨‹</td><td style="text-align:left;">å…³æ³¨çš„æ˜¯ç®—æ³•æ¡†æ¶</td></tr><tr><td style="text-align:left;">äº§å“ä¹‹é—´ä¸€èˆ¬æ— å…³ç³»</td><td style="text-align:left;">å»ºé€ è¿‡ç¨‹æœ‰å…³ç³»ï¼Œè¿™äº›å»ºé€ è¿‡ç¨‹éƒ½æ˜¯ä¸ºåˆ›å»ºä¸€ä¸ªå¤æ‚å¯¹è±¡æœåŠ¡çš„ï¼Œæœ€ç»ˆè¦åˆ°æŒ‡æŒ¥è€…ä¸­è¿›è¡Œç»„è£…ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡</td><td style="text-align:left;">å„ä¸ªç®—æ³•ä¹‹é—´æœ‰å…³ç³»ï¼Œæ¨¡æ¿ç±»ä¸­å®šä¹‰å¥½äº†ç®—æ³•éª¨æ¶ï¼Œå…·ä½“ç®—æ³•åœ¨å­ç±»ä¸­å®ç°</td></tr></tbody></table><h3 id="_2ã€é€‚é…å™¨æ¨¡å¼-vs-æ¡¥æ¥æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_2ã€é€‚é…å™¨æ¨¡å¼-vs-æ¡¥æ¥æ¨¡å¼"><span>2ã€é€‚é…å™¨æ¨¡å¼ VS æ¡¥æ¥æ¨¡å¼</span></a></h3><p>é¦–å…ˆï¼Œçœ‹ä¸‹ä¸¤ä¸ªè®¾è®¡æ¨¡å¼çš„å®šä¹‰</p><ul><li><strong>é€‚é…å™¨æ¨¡å¼</strong>ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»èƒ½ä¸€èµ·å·¥ä½œ</li><li><strong>æ¡¥æ¥æ¨¡å¼</strong>ï¼šå°†æŠ½è±¡ä¸å®ç°åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–</li></ul><p>é€šè¿‡ä¸€å¼ è¡¨æ ¼æ€»ç»“å…¶åŒºåˆ«</p><table><thead><tr><th style="text-align:left;">é€‚é…å™¨æ¨¡å¼</th><th style="text-align:left;">æ¡¥æ¥æ¨¡å¼</th></tr></thead><tbody><tr><td style="text-align:left;">ç»“æ„å‹æ¨¡å¼</td><td style="text-align:left;">~</td></tr><tr><td style="text-align:left;">ä¸€ç§æ¥å£è½¬æ¢æˆå¦ä¸€ç§æ¥å£</td><td style="text-align:left;">å®ç°ä¸æ¥å£åˆ†å¼€ï¼Œå¯ä»¥ç‹¬ç«‹å˜åŒ–</td></tr><tr><td style="text-align:left;">åŸºç±»ç»§æ‰¿+æ¥å£å®ç°</td><td style="text-align:left;">æ¥å£ç»„åˆ</td></tr></tbody></table><h3 id="_3ã€å¤–è§‚æ¨¡å¼-vs-ä»£ç†æ¨¡å¼-vs-å‘½ä»¤æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_3ã€å¤–è§‚æ¨¡å¼-vs-ä»£ç†æ¨¡å¼-vs-å‘½ä»¤æ¨¡å¼"><span>3ã€å¤–è§‚æ¨¡å¼ VS ä»£ç†æ¨¡å¼ VS å‘½ä»¤æ¨¡å¼</span></a></h3><p>é¦–å…ˆï¼Œçœ‹ä¸‹å„ä¸ªè®¾è®¡æ¨¡å¼çš„å®šä¹‰</p><ul><li><strong>å¤–è§‚æ¨¡å¼</strong>ï¼šé€šè¿‡ä¸ºå¤šä¸ªå¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªä¸€è‡´çš„æ¥å£ï¼Œè€Œä½¿è¿™äº›å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“è¢«è®¿é—®</li><li><strong>ä»£ç†æ¨¡å¼</strong>ï¼šç”±äºæŸäº›åŸå› éœ€è¦ç»™æŸå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ä»¥æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®</li><li><strong>å‘½ä»¤æ¨¡å¼</strong>ï¼šå°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å‘å‡ºè¯·æ±‚çš„è´£ä»»å’Œæ‰§è¡Œè¯·æ±‚çš„è´£ä»»åˆ†å‰²å¼€</li></ul><p>é€šè¿‡ä¸€å¼ è¡¨æ ¼æ€»ç»“å…¶åŒºåˆ«</p><table><thead><tr><th style="text-align:left;">å¤–è§‚æ¨¡å¼</th><th style="text-align:left;">ä»£ç†æ¨¡å¼</th><th style="text-align:left;">å‘½ä»¤æ¨¡å¼</th></tr></thead><tbody><tr><td style="text-align:left;">ç»“æ„å‹æ¨¡å¼</td><td style="text-align:left;">~</td><td style="text-align:left;">è¡Œä¸ºå‹æ¨¡å¼</td></tr><tr><td style="text-align:left;">ä¸ºå­ç³»ç»Ÿä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªç»Ÿä¸€çš„é«˜å±‚æ¥å£</td><td style="text-align:left;">å¼ºè°ƒçš„æ˜¯ä»£æ›¿æœ¬äººä½œä¸šï¼Œå‡å°‘å¯¹å®é™…å¯¹è±¡çš„æ“ä½œ</td><td style="text-align:left;">è¯·æ±‚å’Œæ‰§è¡Œåˆ†å‰²å¼€</td></tr><tr><td style="text-align:left;">é€šè¿‡ç»„åˆèšåˆ</td><td style="text-align:left;">é€šè¿‡ç»„åˆèšåˆ+æ¥å£å®ç°</td><td style="text-align:left;">é€šè¿‡ç»„åˆèšåˆ</td></tr><tr><td style="text-align:left;">å¤–è§‚ç±»ä¸éœ€è¦å¯¹è¢«åŒ…è£…ç±»ä¸­æ–¹æ³•éƒ½ä½¿ç”¨åˆ°</td><td style="text-align:left;">ä»£ç†ç±»éœ€è¦å¯¹è¢«ä»£ç†ç±»ä¸­æ–¹æ³•éƒ½å®ç°</td><td style="text-align:left;">å‘½ä»¤è€…ä¸éœ€è¦å¯¹æ¥æ”¶è€…ä¸­æ–¹æ³•éƒ½ä½¿ç”¨åˆ°</td></tr><tr><td style="text-align:left;">å¤–è§‚ç±»å¯ä»¥åŒ…è£…å¤šä¸ªç±»</td><td style="text-align:left;">ä»£ç†ç±»åªä»£ç†ä¸€ä¸ªç±»</td><td style="text-align:left;">ä¸€ä¸ªå‘½ä»¤è€…åªæ‰§è¡Œä¸€ä¸ªè¯·æ±‚ï¼Œä¸€ä¸ªæ¥æ”¶è€…å¯å¯¹åº”å¤šä¸ªå‘½ä»¤è€…</td></tr></tbody></table><h3 id="_4ã€è§‚å¯Ÿè€…æ¨¡å¼-vs-ä¸­ä»‹è€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_4ã€è§‚å¯Ÿè€…æ¨¡å¼-vs-ä¸­ä»‹è€…æ¨¡å¼"><span>4ã€è§‚å¯Ÿè€…æ¨¡å¼ VS ä¸­ä»‹è€…æ¨¡å¼</span></a></h3><p>é¦–å…ˆï¼Œçœ‹ä¸‹ä¸¤ä¸ªè®¾è®¡æ¨¡å¼çš„å®šä¹‰</p><ul><li><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>ï¼šæŒ‡å¤šä¸ªå¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°</li><li><strong>ä¸­ä»‹è€…æ¨¡å¼</strong>ï¼šå®šä¹‰ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä½¿åŸæœ‰å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ¾æ•£ï¼Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’</li></ul><p>é€šè¿‡ä¸€å¼ è¡¨æ ¼æ€»ç»“å…¶åŒºåˆ«</p><table><thead><tr><th style="text-align:left;">è§‚å¯Ÿè€…æ¨¡å¼</th><th style="text-align:left;">ä¸­ä»‹è€…æ¨¡å¼</th></tr></thead><tbody><tr><td style="text-align:left;">è¡Œä¸ºå‹æ¨¡å¼</td><td style="text-align:left;">~</td></tr><tr><td style="text-align:left;">å¼ºè°ƒè§‚å¯Ÿè€…æ”¹å˜æ—¶ç»Ÿä¸€çš„é€šçŸ¥</td><td style="text-align:left;">å¼ºè°ƒåŒäº‹ç±»ä¹‹é—´çš„äº¤äº’</td></tr><tr><td style="text-align:left;">è§‚å¯Ÿè€…éƒ½ä¼šæ”¶åˆ°æ¶ˆæ¯</td><td style="text-align:left;">åŒäº‹ç±»å¯ä»¥æœ‰é€‰æ‹©è¿›è¡Œäº¤äº’</td></tr><tr><td style="text-align:left;">å¤„ç†é€»è¾‘åœ¨å‘é€æ–¹</td><td style="text-align:left;">å¤„ç†é€»è¾‘åœ¨ä¸­ä»‹è€…</td></tr><tr><td style="text-align:left;">è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…åˆ†ç¦»</td><td style="text-align:left;">åŒäº‹ç±»ä¹‹é—´äº¤äº’è§£è€¦</td></tr></tbody></table><h3 id="_5ã€ç­–ç•¥æ¨¡å¼-vs-çŠ¶æ€æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_5ã€ç­–ç•¥æ¨¡å¼-vs-çŠ¶æ€æ¨¡å¼"><span>5ã€ç­–ç•¥æ¨¡å¼ VS çŠ¶æ€æ¨¡å¼</span></a></h3><p>é¦–å…ˆï¼Œçœ‹ä¸‹ä¸¤ä¸ªè®¾è®¡æ¨¡å¼çš„å®šä¹‰</p><ul><li><strong>ç­–ç•¥æ¨¡å¼</strong>ï¼šè¯¥æ¨¡å¼å®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä¸”ç®—æ³•çš„å˜åŒ–ä¸ä¼šå½±å“ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·</li><li><strong>çŠ¶æ€æ¨¡å¼</strong>ï¼šå¯¹æœ‰çŠ¶æ€çš„å¯¹è±¡ï¼ŒæŠŠå¤æ‚çš„â€œåˆ¤æ–­é€»è¾‘â€æå–åˆ°ä¸åŒçš„çŠ¶æ€å¯¹è±¡ä¸­ï¼Œå…è®¸çŠ¶æ€å¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æ”¹å˜å…¶è¡Œä¸º</li></ul><p>é€šè¿‡ä¸€å¼ è¡¨æ ¼æ€»ç»“å…¶åŒºåˆ«</p><table><thead><tr><th style="text-align:left;">ç­–ç•¥æ¨¡å¼</th><th style="text-align:left;">çŠ¶æ€æ¨¡å¼</th></tr></thead><tbody><tr><td style="text-align:left;">è¡Œä¸ºå‹æ¨¡å¼</td><td style="text-align:left;">~</td></tr><tr><td style="text-align:left;">å¤šä¸ªç±»åŒºåˆ«ä¸åŒçš„è¡Œä¸ºï¼ˆç®—æ³•ï¼‰</td><td style="text-align:left;">å¤šä¸ªç±»åŒºåˆ«ä¸åŒçš„çŠ¶æ€</td></tr><tr><td style="text-align:left;">ä¸€ç»„æ–¹æ¡ˆæˆ–ç®—æ³•çš„ç›¸äº’æ›¿æ¢ï¼Œé‡‡å–ä½•ç§ç­–ç•¥ç”±å¤–éƒ¨æ¡ä»¶å†³å®š</td><td style="text-align:left;">ä¸»è¦è§£å†³å¤æ‚é€»è¾‘å¤„ç†çš„çŠ¶æ€è¿ç§»ï¼Œè¿™ä¸ªè¿‡ç¨‹ç”±å¯¹è±¡å†…éƒ¨æ¡ä»¶å†³å®š</td></tr><tr><td style="text-align:left;">ç­–ç•¥ç±»ä¸ä¾èµ–ä¸Šä¸‹æ–‡</td><td style="text-align:left;">çŠ¶æ€ç±»ä¾èµ–ä¸Šä¸‹æ–‡</td></tr></tbody></table><h3 id="_6ã€ç­–ç•¥æ¨¡å¼-vs-æ¨¡æ¿æ–¹æ³•æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_6ã€ç­–ç•¥æ¨¡å¼-vs-æ¨¡æ¿æ–¹æ³•æ¨¡å¼"><span>6ã€ç­–ç•¥æ¨¡å¼ VS æ¨¡æ¿æ–¹æ³•æ¨¡å¼</span></a></h3><p>é¦–å…ˆï¼Œçœ‹ä¸‹ä¸¤ä¸ªè®¾è®¡æ¨¡å¼çš„å®šä¹‰</p><ul><li><strong>ç­–ç•¥æ¨¡å¼</strong>ï¼šè¯¥æ¨¡å¼å®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä¸”ç®—æ³•çš„å˜åŒ–ä¸ä¼šå½±å“ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·</li><li><strong>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</strong>ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œè€Œå°†ç®—æ³•çš„ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜è¯¥ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤</li></ul><p>é€šè¿‡ä¸€å¼ è¡¨æ ¼æ€»ç»“å…¶åŒºåˆ«</p><table><thead><tr><th style="text-align:left;">ç­–ç•¥æ¨¡å¼</th><th style="text-align:left;">æ¨¡æ¿æ–¹æ³•æ¨¡å¼</th></tr></thead><tbody><tr><td style="text-align:left;">è¡Œä¸ºå‹æ¨¡å¼</td><td style="text-align:left;">~</td></tr><tr><td style="text-align:left;">é‡‡å–ä½•ç§ç­–ç•¥ç”±å¤–éƒ¨å†³å®š</td><td style="text-align:left;">é‡‡ç”¨ä½•ç§å®ç°ç”±å¤–éƒ¨å†³å®š</td></tr><tr><td style="text-align:left;">å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•å¹¶å°è£…ï¼Œå¯ç›¸äº’æ›¿æ¢ï¼Œç‹¬ç«‹äºå®¢æˆ·å˜åŒ–</td><td style="text-align:left;">å®šä¹‰ç®—æ³•éª¨æ¶ï¼Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»å®ç°</td></tr><tr><td style="text-align:left;">åˆ©ç”¨å¤šæ€</td><td style="text-align:left;">åˆ©ç”¨ç»§æ‰¿</td></tr><tr><td style="text-align:left;">åé‡äºè§£å†³ç®—æ³•å¤šæ ·æ€§å¯¹ä»£ç ç»“æ„å†²å‡»çš„é—®é¢˜</td><td style="text-align:left;">ä¾§é‡äºä¸šåŠ¡æµç¨‹å¤æ‚ä½†ç¨³å®šï¼ˆæ•´ä½“ç®—æ³•ç»“æ„ä¸å˜ï¼‰ï¼Œè€Œå…¶ä¸­æŸäº›æ­¥éª¤å˜åŒ–ç›¸å¯¹å‰§çƒˆï¼ˆä¸€äº›æ­¥éª¤çš„å…·ä½“å®ç°ä¸åŒï¼‰</td></tr></tbody></table>`,194))])}const fa=c(ra,[["render",ya],["__file","index.html.vue"]]),Ea=JSON.parse('{"path":"/docs/java/design-mode/","title":"Javaè®¾è®¡æ¨¡å¼","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"ã€-ã€‘æ¦‚è¿°","slug":"ã€-ã€‘æ¦‚è¿°","link":"#ã€-ã€‘æ¦‚è¿°","children":[{"level":3,"title":"1ã€è®¾è®¡æ¨¡å¼å¢ƒç•Œ","slug":"_1ã€è®¾è®¡æ¨¡å¼å¢ƒç•Œ","link":"#_1ã€è®¾è®¡æ¨¡å¼å¢ƒç•Œ","children":[]},{"level":3,"title":"2ã€è®¾è®¡æ¨¡å¼ç›®çš„","slug":"_2ã€è®¾è®¡æ¨¡å¼ç›®çš„","link":"#_2ã€è®¾è®¡æ¨¡å¼ç›®çš„","children":[]},{"level":3,"title":"3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™","slug":"_3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™","link":"#_3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™","children":[]},{"level":3,"title":"4ã€UML ç±»å›¾å…³ç³»","slug":"_4ã€uml-ç±»å›¾å…³ç³»","link":"#_4ã€uml-ç±»å›¾å…³ç³»","children":[]},{"level":3,"title":"4ã€è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼ˆ5 + 7 + 11ï¼‰","slug":"_4ã€è®¾è®¡æ¨¡å¼åˆ†ç±»-5-7-11","link":"#_4ã€è®¾è®¡æ¨¡å¼åˆ†ç±»-5-7-11","children":[]},{"level":3,"title":"5ã€23 ç§è®¾è®¡æ¨¡å¼å®šä¹‰","slug":"_5ã€23-ç§è®¾è®¡æ¨¡å¼å®šä¹‰","link":"#_5ã€23-ç§è®¾è®¡æ¨¡å¼å®šä¹‰","children":[]},{"level":3,"title":"6ã€23ç§è®¾è®¡æ¨¡å¼ä¸¾ä¾‹ã€æºç åŠä¼˜ç¼ºç‚¹","slug":"_6ã€23ç§è®¾è®¡æ¨¡å¼ä¸¾ä¾‹ã€æºç åŠä¼˜ç¼ºç‚¹","link":"#_6ã€23ç§è®¾è®¡æ¨¡å¼ä¸¾ä¾‹ã€æºç åŠä¼˜ç¼ºç‚¹","children":[]}]},{"level":2,"title":"ã€-ã€‘ç®€ä»‹","slug":"ã€-ã€‘ç®€ä»‹","link":"#ã€-ã€‘ç®€ä»‹","children":[{"level":3,"title":"1ã€è®¾è®¡æ¨¡å¼çš„é‡è¦æ€§","slug":"_1ã€è®¾è®¡æ¨¡å¼çš„é‡è¦æ€§","link":"#_1ã€è®¾è®¡æ¨¡å¼çš„é‡è¦æ€§","children":[]},{"level":3,"title":"2ã€è®¾è®¡æ¨¡å¼é¢è¯•é¢˜","slug":"_2ã€è®¾è®¡æ¨¡å¼é¢è¯•é¢˜","link":"#_2ã€è®¾è®¡æ¨¡å¼é¢è¯•é¢˜","children":[]},{"level":3,"title":"3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™","slug":"_3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™-1","link":"#_3ã€è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™-1","children":[]},{"level":3,"title":"4ã€UML ç±»å›¾","slug":"_4ã€uml-ç±»å›¾","link":"#_4ã€uml-ç±»å›¾","children":[]},{"level":3,"title":"5ã€è®¾è®¡æ¨¡å¼æ¦‚è¿°å’Œåˆ†ç±»","slug":"_5ã€è®¾è®¡æ¨¡å¼æ¦‚è¿°å’Œåˆ†ç±»","link":"#_5ã€è®¾è®¡æ¨¡å¼æ¦‚è¿°å’Œåˆ†ç±»","children":[]}]},{"level":2,"title":"ã€1ã€‘å•ä¾‹æ¨¡å¼","slug":"ã€1ã€‘å•ä¾‹æ¨¡å¼","link":"#ã€1ã€‘å•ä¾‹æ¨¡å¼","children":[{"level":3,"title":"1ã€ä»‹ç»","slug":"_1ã€ä»‹ç»","link":"#_1ã€ä»‹ç»","children":[]},{"level":3,"title":"2ã€å…«ç§æ–¹å¼","slug":"_2ã€å…«ç§æ–¹å¼","link":"#_2ã€å…«ç§æ–¹å¼","children":[]},{"level":3,"title":"3ã€JDK æºç åˆ†æ","slug":"_3ã€jdk-æºç åˆ†æ","link":"#_3ã€jdk-æºç åˆ†æ","children":[]},{"level":3,"title":"4ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚è¯´æ˜","slug":"_4ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚è¯´æ˜","link":"#_4ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚è¯´æ˜","children":[]},{"level":3,"title":"5ã€å°ç»“","slug":"_5ã€å°ç»“","link":"#_5ã€å°ç»“","children":[]}]},{"level":2,"title":"ã€2ã€‘å·¥å‚æ¨¡å¼","slug":"ã€2ã€‘å·¥å‚æ¨¡å¼","link":"#ã€2ã€‘å·¥å‚æ¨¡å¼","children":[{"level":3,"title":"1ã€ç®€å•å·¥å‚æ¨¡å¼","slug":"_1ã€ç®€å•å·¥å‚æ¨¡å¼","link":"#_1ã€ç®€å•å·¥å‚æ¨¡å¼","children":[]},{"level":3,"title":"2ã€é™æ€å·¥å‚æ¨¡å¼","slug":"_2ã€é™æ€å·¥å‚æ¨¡å¼","link":"#_2ã€é™æ€å·¥å‚æ¨¡å¼","children":[]},{"level":3,"title":"3ã€å·¥å‚æ–¹æ³•æ¨¡å¼","slug":"_3ã€å·¥å‚æ–¹æ³•æ¨¡å¼","link":"#_3ã€å·¥å‚æ–¹æ³•æ¨¡å¼","children":[]},{"level":3,"title":"4ã€æŠ½è±¡å·¥å‚æ¨¡å¼","slug":"_4ã€æŠ½è±¡å·¥å‚æ¨¡å¼","link":"#_4ã€æŠ½è±¡å·¥å‚æ¨¡å¼","children":[]},{"level":3,"title":"5ã€JDK æºç åˆ†æ","slug":"_5ã€jdk-æºç åˆ†æ","link":"#_5ã€jdk-æºç åˆ†æ","children":[]},{"level":3,"title":"6ã€å°ç»“","slug":"_6ã€å°ç»“","link":"#_6ã€å°ç»“","children":[]}]},{"level":2,"title":"ã€3ã€‘å·¥å‚æ¨¡å¼è¿›é˜¶","slug":"ã€3ã€‘å·¥å‚æ¨¡å¼è¿›é˜¶","link":"#ã€3ã€‘å·¥å‚æ¨¡å¼è¿›é˜¶","children":[{"level":3,"title":"1ã€å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«","slug":"_1ã€å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«","link":"#_1ã€å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«","children":[]},{"level":3,"title":"2ã€è€å¾ç§èœ","slug":"_2ã€è€å¾ç§èœ","link":"#_2ã€è€å¾ç§èœ","children":[]},{"level":3,"title":"3ã€å°å¾åšæ‰‹æœº","slug":"_3ã€å°å¾åšæ‰‹æœº","link":"#_3ã€å°å¾åšæ‰‹æœº","children":[]},{"level":3,"title":"4ã€æ€»ç»“","slug":"_4ã€æ€»ç»“","link":"#_4ã€æ€»ç»“","children":[]},{"level":3,"title":"5ã€å¼•ç”¨","slug":"_5ã€å¼•ç”¨","link":"#_5ã€å¼•ç”¨","children":[]}]},{"level":2,"title":"ã€4ã€‘åŸå‹æ¨¡å¼","slug":"ã€4ã€‘åŸå‹æ¨¡å¼","link":"#ã€4ã€‘åŸå‹æ¨¡å¼","children":[{"level":3,"title":"1ã€å…‹éš†ç¾Šé—®é¢˜","slug":"_1ã€å…‹éš†ç¾Šé—®é¢˜","link":"#_1ã€å…‹éš†ç¾Šé—®é¢˜","children":[]},{"level":3,"title":"2ã€åŸºæœ¬ä»‹ç»","slug":"_2ã€åŸºæœ¬ä»‹ç»","link":"#_2ã€åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"3ã€åŸç†ç»“æ„å›¾ï¼ˆUML ç±»å›¾ï¼‰","slug":"_3ã€åŸç†ç»“æ„å›¾-uml-ç±»å›¾","link":"#_3ã€åŸç†ç»“æ„å›¾-uml-ç±»å›¾","children":[]},{"level":3,"title":"4ã€åŸå‹æ¨¡å¼è§£å†³å…‹éš†ç¾Šé—®é¢˜","slug":"_4ã€åŸå‹æ¨¡å¼è§£å†³å…‹éš†ç¾Šé—®é¢˜","link":"#_4ã€åŸå‹æ¨¡å¼è§£å†³å…‹éš†ç¾Šé—®é¢˜","children":[]},{"level":3,"title":"5ã€JDK æºç åˆ†æ","slug":"_5ã€jdk-æºç åˆ†æ-1","link":"#_5ã€jdk-æºç åˆ†æ-1","children":[]},{"level":3,"title":"6ã€æµ…æ‹·è´å’Œæ·±æ‹·è´","slug":"_6ã€æµ…æ‹·è´å’Œæ·±æ‹·è´","link":"#_6ã€æµ…æ‹·è´å’Œæ·±æ‹·è´","children":[]},{"level":3,"title":"7ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_7ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_7ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€5ã€‘å»ºé€ è€…æ¨¡å¼","slug":"ã€5ã€‘å»ºé€ è€…æ¨¡å¼","link":"#ã€5ã€‘å»ºé€ è€…æ¨¡å¼","children":[{"level":3,"title":"1ã€ç›–æˆ¿é¡¹ç›®éœ€æ±‚","slug":"_1ã€ç›–æˆ¿é¡¹ç›®éœ€æ±‚","link":"#_1ã€ç›–æˆ¿é¡¹ç›®éœ€æ±‚","children":[]},{"level":3,"title":"2ã€åŸºæœ¬ä»‹ç»","slug":"_2ã€åŸºæœ¬ä»‹ç»-1","link":"#_2ã€åŸºæœ¬ä»‹ç»-1","children":[]},{"level":3,"title":"3ã€å»ºé€ è€…æ¨¡å¼çš„å››ä¸ªè§’è‰²","slug":"_3ã€å»ºé€ è€…æ¨¡å¼çš„å››ä¸ªè§’è‰²","link":"#_3ã€å»ºé€ è€…æ¨¡å¼çš„å››ä¸ªè§’è‰²","children":[]},{"level":3,"title":"4ã€å»ºé€ è€…æ¨¡å¼åŸç†ç±»å›¾","slug":"_4ã€å»ºé€ è€…æ¨¡å¼åŸç†ç±»å›¾","link":"#_4ã€å»ºé€ è€…æ¨¡å¼åŸç†ç±»å›¾","children":[]},{"level":3,"title":"5ã€å»ºé€ è€…æ¨¡å¼è§£å†³ç›–æˆ¿éœ€æ±‚","slug":"_5ã€å»ºé€ è€…æ¨¡å¼è§£å†³ç›–æˆ¿éœ€æ±‚","link":"#_5ã€å»ºé€ è€…æ¨¡å¼è§£å†³ç›–æˆ¿éœ€æ±‚","children":[]},{"level":3,"title":"6ã€JDK æºç åˆ†æ","slug":"_6ã€jdk-æºç åˆ†æ","link":"#_6ã€jdk-æºç åˆ†æ","children":[]},{"level":3,"title":"7ã€æ³¨æ„äº‹é¡¹åŠç»†èŠ‚","slug":"_7ã€æ³¨æ„äº‹é¡¹åŠç»†èŠ‚","link":"#_7ã€æ³¨æ„äº‹é¡¹åŠç»†èŠ‚","children":[]},{"level":3,"title":"8ã€æŠ½è±¡å·¥å‚æ¨¡å¼ VS å»ºé€ è€…æ¨¡å¼","slug":"_8ã€æŠ½è±¡å·¥å‚æ¨¡å¼-vs-å»ºé€ è€…æ¨¡å¼","link":"#_8ã€æŠ½è±¡å·¥å‚æ¨¡å¼-vs-å»ºé€ è€…æ¨¡å¼","children":[]}]},{"level":2,"title":"ã€6ã€‘é€‚é…å™¨æ¨¡å¼","slug":"ã€6ã€‘é€‚é…å™¨æ¨¡å¼","link":"#ã€6ã€‘é€‚é…å™¨æ¨¡å¼","children":[{"level":3,"title":"1ã€åŸºæœ¬ä»‹ç»","slug":"_1ã€åŸºæœ¬ä»‹ç»","link":"#_1ã€åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"2ã€å·¥ä½œåŸç†","slug":"_2ã€å·¥ä½œåŸç†","link":"#_2ã€å·¥ä½œåŸç†","children":[]},{"level":3,"title":"3ã€ç±»é€‚é…å™¨æ¨¡å¼","slug":"_3ã€ç±»é€‚é…å™¨æ¨¡å¼","link":"#_3ã€ç±»é€‚é…å™¨æ¨¡å¼","children":[]},{"level":3,"title":"4ã€å¯¹è±¡é€‚é…å™¨æ¨¡å¼","slug":"_4ã€å¯¹è±¡é€‚é…å™¨æ¨¡å¼","link":"#_4ã€å¯¹è±¡é€‚é…å™¨æ¨¡å¼","children":[]},{"level":3,"title":"5ã€æ¥å£é€‚é…å™¨æ¨¡å¼","slug":"_5ã€æ¥å£é€‚é…å™¨æ¨¡å¼","link":"#_5ã€æ¥å£é€‚é…å™¨æ¨¡å¼","children":[]},{"level":3,"title":"6ã€SpringMVC æ¡†æ¶æºç åˆ†æ","slug":"_6ã€springmvc-æ¡†æ¶æºç åˆ†æ","link":"#_6ã€springmvc-æ¡†æ¶æºç åˆ†æ","children":[]},{"level":3,"title":"7ã€è‡ªå·±åŠ¨æ‰‹å†™ SpringMVC","slug":"_7ã€è‡ªå·±åŠ¨æ‰‹å†™-springmvc","link":"#_7ã€è‡ªå·±åŠ¨æ‰‹å†™-springmvc","children":[]},{"level":3,"title":"8ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_8ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_8ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€7ã€‘æ¡¥æ¥æ¨¡å¼","slug":"ã€7ã€‘æ¡¥æ¥æ¨¡å¼","link":"#ã€7ã€‘æ¡¥æ¥æ¨¡å¼","children":[{"level":3,"title":"1ã€ä¼ ç»Ÿæ–¹å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜","slug":"_1ã€ä¼ ç»Ÿæ–¹å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜","link":"#_1ã€ä¼ ç»Ÿæ–¹å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜","children":[]},{"level":3,"title":"2ã€æ¡¥æ¥æ¨¡å¼åŸºæœ¬ä»‹ç»","slug":"_2ã€æ¡¥æ¥æ¨¡å¼åŸºæœ¬ä»‹ç»","link":"#_2ã€æ¡¥æ¥æ¨¡å¼åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"3ã€æ¡¥æ¥æ¨¡å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜","slug":"_3ã€æ¡¥æ¥æ¨¡å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜","link":"#_3ã€æ¡¥æ¥æ¨¡å¼è§£å†³æ‰‹æœºæ“ä½œé—®é¢˜","children":[]},{"level":3,"title":"4ã€JDK æºç åˆ†æ","slug":"_4ã€jdk-æºç åˆ†æ","link":"#_4ã€jdk-æºç åˆ†æ","children":[]},{"level":3,"title":"5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]},{"level":3,"title":"6ã€æ¡¥æ¥æ¨¡å¼å…¶ä»–åº”ç”¨åœºæ™¯","slug":"_6ã€æ¡¥æ¥æ¨¡å¼å…¶ä»–åº”ç”¨åœºæ™¯","link":"#_6ã€æ¡¥æ¥æ¨¡å¼å…¶ä»–åº”ç”¨åœºæ™¯","children":[]}]},{"level":2,"title":"ã€8ã€‘è£…é¥°è€…æ¨¡å¼","slug":"ã€8ã€‘è£…é¥°è€…æ¨¡å¼","link":"#ã€8ã€‘è£…é¥°è€…æ¨¡å¼","children":[{"level":3,"title":"1ã€æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®","slug":"_1ã€æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®","link":"#_1ã€æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®","children":[]},{"level":3,"title":"2ã€æ–¹æ¡ˆ 1-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®ï¼ˆè¾ƒå·®çš„æ–¹æ¡ˆï¼‰","slug":"_2ã€æ–¹æ¡ˆ-1-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®-è¾ƒå·®çš„æ–¹æ¡ˆ","link":"#_2ã€æ–¹æ¡ˆ-1-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®-è¾ƒå·®çš„æ–¹æ¡ˆ","children":[]},{"level":3,"title":"3ã€æ–¹æ¡ˆ 2-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®ï¼ˆå¥½ç‚¹çš„æ–¹æ¡ˆï¼‰","slug":"_3ã€æ–¹æ¡ˆ-2-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®-å¥½ç‚¹çš„æ–¹æ¡ˆ","link":"#_3ã€æ–¹æ¡ˆ-2-è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®-å¥½ç‚¹çš„æ–¹æ¡ˆ","children":[]},{"level":3,"title":"4ã€è£…é¥°è€…æ¨¡å¼","slug":"_4ã€è£…é¥°è€…æ¨¡å¼","link":"#_4ã€è£…é¥°è€…æ¨¡å¼","children":[]},{"level":3,"title":"5ã€è£…é¥°è€…æ¨¡å¼è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®","slug":"_5ã€è£…é¥°è€…æ¨¡å¼è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®","link":"#_5ã€è£…é¥°è€…æ¨¡å¼è§£å†³æ˜Ÿå·´å…‹å’–å•¡è®¢å•é¡¹ç›®","children":[]},{"level":3,"title":"6ã€JDK æºç åˆ†æ","slug":"_6ã€jdk-æºç åˆ†æ-1","link":"#_6ã€jdk-æºç åˆ†æ-1","children":[]}]},{"level":2,"title":"ã€9ã€‘ç»„åˆæ¨¡å¼","slug":"ã€9ã€‘ç»„åˆæ¨¡å¼","link":"#ã€9ã€‘ç»„åˆæ¨¡å¼","children":[{"level":3,"title":"1ã€å­¦æ ¡é™¢ç³»å±•ç¤ºéœ€æ±‚","slug":"_1ã€å­¦æ ¡é™¢ç³»å±•ç¤ºéœ€æ±‚","link":"#_1ã€å­¦æ ¡é™¢ç³»å±•ç¤ºéœ€æ±‚","children":[]},{"level":3,"title":"2ã€ç»„åˆæ¨¡å¼åŸºæœ¬ä»‹ç»","slug":"_2ã€ç»„åˆæ¨¡å¼åŸºæœ¬ä»‹ç»","link":"#_2ã€ç»„åˆæ¨¡å¼åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"3ã€ç»„åˆæ¨¡å¼è§£å†³å­¦æ ¡é™¢ç³»å±•ç¤º","slug":"_3ã€ç»„åˆæ¨¡å¼è§£å†³å­¦æ ¡é™¢ç³»å±•ç¤º","link":"#_3ã€ç»„åˆæ¨¡å¼è§£å†³å­¦æ ¡é™¢ç³»å±•ç¤º","children":[]},{"level":3,"title":"4ã€JDK æºç åˆ†æ","slug":"_4ã€jdk-æºç åˆ†æ-1","link":"#_4ã€jdk-æºç åˆ†æ-1","children":[]},{"level":3,"title":"5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚-1","link":"#_5ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚-1","children":[]}]},{"level":2,"title":"ã€10ã€‘å¤–è§‚æ¨¡å¼","slug":"ã€10ã€‘å¤–è§‚æ¨¡å¼","link":"#ã€10ã€‘å¤–è§‚æ¨¡å¼","children":[{"level":3,"title":"1ã€å½±é™¢ç®¡ç†é¡¹ç›®","slug":"_1ã€å½±é™¢ç®¡ç†é¡¹ç›®","link":"#_1ã€å½±é™¢ç®¡ç†é¡¹ç›®","children":[]},{"level":3,"title":"2ã€å¤–è§‚æ¨¡å¼åŸºæœ¬ä»‹ç»","slug":"_2ã€å¤–è§‚æ¨¡å¼åŸºæœ¬ä»‹ç»","link":"#_2ã€å¤–è§‚æ¨¡å¼åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"3ã€å¤–è§‚æ¨¡å¼è§£å†³å½±é™¢ç®¡ç†","slug":"_3ã€å¤–è§‚æ¨¡å¼è§£å†³å½±é™¢ç®¡ç†","link":"#_3ã€å¤–è§‚æ¨¡å¼è§£å†³å½±é™¢ç®¡ç†","children":[]},{"level":3,"title":"4ã€MyBatis æ¡†æ¶æºç åˆ†æ","slug":"_4ã€mybatis-æ¡†æ¶æºç åˆ†æ","link":"#_4ã€mybatis-æ¡†æ¶æºç åˆ†æ","children":[]},{"level":3,"title":"5ã€å¤–è§‚æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_5ã€å¤–è§‚æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_5ã€å¤–è§‚æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€11ã€‘äº«å…ƒæ¨¡å¼","slug":"ã€11ã€‘äº«å…ƒæ¨¡å¼","link":"#ã€11ã€‘äº«å…ƒæ¨¡å¼","children":[{"level":3,"title":"1ã€å±•ç¤ºç½‘ç«™é¡¹ç›®éœ€æ±‚","slug":"_1ã€å±•ç¤ºç½‘ç«™é¡¹ç›®éœ€æ±‚","link":"#_1ã€å±•ç¤ºç½‘ç«™é¡¹ç›®éœ€æ±‚","children":[]},{"level":3,"title":"2ã€äº«å…ƒæ¨¡å¼åŸºæœ¬ä»‹ç»","slug":"_2ã€äº«å…ƒæ¨¡å¼åŸºæœ¬ä»‹ç»","link":"#_2ã€äº«å…ƒæ¨¡å¼åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"3ã€äº«å…ƒæ¨¡å¼çš„åŸç†ç±»å›¾","slug":"_3ã€äº«å…ƒæ¨¡å¼çš„åŸç†ç±»å›¾","link":"#_3ã€äº«å…ƒæ¨¡å¼çš„åŸç†ç±»å›¾","children":[]},{"level":3,"title":"4ã€å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€","slug":"_4ã€å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€","link":"#_4ã€å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€","children":[]},{"level":3,"title":"5ã€äº«å…ƒæ¨¡å¼è§£å†³ç½‘ç«™å±•ç°é¡¹ç›®","slug":"_5ã€äº«å…ƒæ¨¡å¼è§£å†³ç½‘ç«™å±•ç°é¡¹ç›®","link":"#_5ã€äº«å…ƒæ¨¡å¼è§£å†³ç½‘ç«™å±•ç°é¡¹ç›®","children":[]},{"level":3,"title":"6ã€Integer æºç åˆ†æ","slug":"_6ã€integer-æºç åˆ†æ","link":"#_6ã€integer-æºç åˆ†æ","children":[]},{"level":3,"title":"7ã€äº«å…ƒæ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_7ã€äº«å…ƒæ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_7ã€äº«å…ƒæ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€12ã€‘ä»£ç†æ¨¡å¼","slug":"ã€12ã€‘ä»£ç†æ¨¡å¼","link":"#ã€12ã€‘ä»£ç†æ¨¡å¼","children":[{"level":3,"title":"1ã€åŸºæœ¬ä»‹ç»","slug":"_1ã€åŸºæœ¬ä»‹ç»-1","link":"#_1ã€åŸºæœ¬ä»‹ç»-1","children":[]},{"level":3,"title":"2ã€é™æ€ä»£ç†","slug":"_2ã€é™æ€ä»£ç†","link":"#_2ã€é™æ€ä»£ç†","children":[]},{"level":3,"title":"3ã€åŠ¨æ€ä»£ç†","slug":"_3ã€åŠ¨æ€ä»£ç†","link":"#_3ã€åŠ¨æ€ä»£ç†","children":[]},{"level":3,"title":"4ã€Cglib ä»£ç†","slug":"_4ã€cglib-ä»£ç†","link":"#_4ã€cglib-ä»£ç†","children":[]},{"level":3,"title":"5ã€ä»£ç†æ¨¡å¼çš„å˜ä½“","slug":"_5ã€ä»£ç†æ¨¡å¼çš„å˜ä½“","link":"#_5ã€ä»£ç†æ¨¡å¼çš„å˜ä½“","children":[]}]},{"level":2,"title":"ã€13ã€‘æ¨¡æ¿æ¨¡å¼","slug":"ã€13ã€‘æ¨¡æ¿æ¨¡å¼","link":"#ã€13ã€‘æ¨¡æ¿æ¨¡å¼","children":[{"level":3,"title":"1ã€è±†æµ†åˆ¶ä½œé—®é¢˜","slug":"_1ã€è±†æµ†åˆ¶ä½œé—®é¢˜","link":"#_1ã€è±†æµ†åˆ¶ä½œé—®é¢˜","children":[]},{"level":3,"title":"2ã€åŸºæœ¬ä»‹ç»","slug":"_2ã€åŸºæœ¬ä»‹ç»-2","link":"#_2ã€åŸºæœ¬ä»‹ç»-2","children":[]},{"level":3,"title":"3ã€æ¨¡æ¿æ¨¡å¼è§£å†³è±†æµ†åˆ¶ä½œé—®é¢˜","slug":"_3ã€æ¨¡æ¿æ¨¡å¼è§£å†³è±†æµ†åˆ¶ä½œé—®é¢˜","link":"#_3ã€æ¨¡æ¿æ¨¡å¼è§£å†³è±†æµ†åˆ¶ä½œé—®é¢˜","children":[]},{"level":3,"title":"4ã€é’©å­æ–¹æ³•","slug":"_4ã€é’©å­æ–¹æ³•","link":"#_4ã€é’©å­æ–¹æ³•","children":[]},{"level":3,"title":"5ã€Spring æ¡†æ¶æºç åˆ†æ","slug":"_5ã€spring-æ¡†æ¶æºç åˆ†æ","link":"#_5ã€spring-æ¡†æ¶æºç åˆ†æ","children":[]},{"level":3,"title":"6ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_6ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_6ã€æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€14ã€‘å‘½ä»¤æ¨¡å¼","slug":"ã€14ã€‘å‘½ä»¤æ¨¡å¼","link":"#ã€14ã€‘å‘½ä»¤æ¨¡å¼","children":[{"level":3,"title":"1ã€æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®éœ€æ±‚","slug":"_1ã€æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®éœ€æ±‚","link":"#_1ã€æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®éœ€æ±‚","children":[]},{"level":3,"title":"2ã€åŸºæœ¬ä»‹ç»","slug":"_2ã€åŸºæœ¬ä»‹ç»-3","link":"#_2ã€åŸºæœ¬ä»‹ç»-3","children":[]},{"level":3,"title":"3ã€å‘½ä»¤æ¨¡å¼è§£å†³æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®","slug":"_3ã€å‘½ä»¤æ¨¡å¼è§£å†³æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®","link":"#_3ã€å‘½ä»¤æ¨¡å¼è§£å†³æ™ºèƒ½ç”Ÿæ´»é¡¹ç›®","children":[]},{"level":3,"title":"4ã€Spring æ¡†æ¶ JdbcTemplate æºç åˆ†æ","slug":"_4ã€spring-æ¡†æ¶-jdbctemplate-æºç åˆ†æ","link":"#_4ã€spring-æ¡†æ¶-jdbctemplate-æºç åˆ†æ","children":[]},{"level":3,"title":"5ã€å‘½ä»¤æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_5ã€å‘½ä»¤æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_5ã€å‘½ä»¤æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€15ã€‘è®¿é—®è€…æ¨¡å¼","slug":"ã€15ã€‘è®¿é—®è€…æ¨¡å¼","link":"#ã€15ã€‘è®¿é—®è€…æ¨¡å¼","children":[{"level":3,"title":"1ã€æµ‹è¯„ç³»ç»Ÿ","slug":"_1ã€æµ‹è¯„ç³»ç»Ÿ","link":"#_1ã€æµ‹è¯„ç³»ç»Ÿ","children":[]},{"level":3,"title":"2ã€åŸºæœ¬ä»‹ç»","slug":"_2ã€åŸºæœ¬ä»‹ç»-4","link":"#_2ã€åŸºæœ¬ä»‹ç»-4","children":[]},{"level":3,"title":"3ã€è®¿é—®è€…æ¨¡å¼å®ç°æµ‹è¯„ç³»ç»Ÿ","slug":"_3ã€è®¿é—®è€…æ¨¡å¼å®ç°æµ‹è¯„ç³»ç»Ÿ","link":"#_3ã€è®¿é—®è€…æ¨¡å¼å®ç°æµ‹è¯„ç³»ç»Ÿ","children":[]},{"level":3,"title":"4ã€åŒåˆ†æ´¾","slug":"_4ã€åŒåˆ†æ´¾","link":"#_4ã€åŒåˆ†æ´¾","children":[]},{"level":3,"title":"5ã€è®¿é—®è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_5ã€è®¿é—®è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_5ã€è®¿é—®è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€16ã€‘è¿­ä»£å™¨æ¨¡å¼","slug":"ã€16ã€‘è¿­ä»£å™¨æ¨¡å¼","link":"#ã€16ã€‘è¿­ä»£å™¨æ¨¡å¼","children":[{"level":3,"title":"1ã€å­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚","slug":"_1ã€å­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚","link":"#_1ã€å­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚","children":[]},{"level":3,"title":"2ã€åŸºæœ¬ä»‹ç»","slug":"_2ã€åŸºæœ¬ä»‹ç»-5","link":"#_2ã€åŸºæœ¬ä»‹ç»-5","children":[]},{"level":3,"title":"3ã€è¿­ä»£å™¨å®Œæˆå­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚","slug":"_3ã€è¿­ä»£å™¨å®Œæˆå­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚","link":"#_3ã€è¿­ä»£å™¨å®Œæˆå­¦æ ¡é™¢ç³»ç»“æ„å±•ç¤ºéœ€æ±‚","children":[]},{"level":3,"title":"4ã€ArrayList é›†åˆæºç åˆ†æ","slug":"_4ã€arraylist-é›†åˆæºç åˆ†æ","link":"#_4ã€arraylist-é›†åˆæºç åˆ†æ","children":[]},{"level":3,"title":"5ã€è¿­ä»£å™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_5ã€è¿­ä»£å™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_5ã€è¿­ä»£å™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€17ã€‘è§‚å¯Ÿè€…æ¨¡å¼","slug":"ã€17ã€‘è§‚å¯Ÿè€…æ¨¡å¼","link":"#ã€17ã€‘è§‚å¯Ÿè€…æ¨¡å¼","children":[{"level":3,"title":"1ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚","slug":"_1ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚","link":"#_1ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚","children":[]},{"level":3,"title":"2ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹æ™®é€šæ–¹æ¡ˆ","slug":"_2ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹æ™®é€šæ–¹æ¡ˆ","link":"#_2ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹æ™®é€šæ–¹æ¡ˆ","children":[]},{"level":3,"title":"3ã€è§‚å¯Ÿè€…æ¨¡å¼åŸç†","slug":"_3ã€è§‚å¯Ÿè€…æ¨¡å¼åŸç†","link":"#_3ã€è§‚å¯Ÿè€…æ¨¡å¼åŸç†","children":[]},{"level":3,"title":"4ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹è§‚å¯Ÿè€…æ¨¡å¼","slug":"_4ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹è§‚å¯Ÿè€…æ¨¡å¼","link":"#_4ã€å¤©æ°”é¢„æŠ¥éœ€æ±‚æ–¹æ¡ˆä¹‹è§‚å¯Ÿè€…æ¨¡å¼","children":[]},{"level":3,"title":"5ã€JDK æºç åˆ†æ","slug":"_5ã€jdk-æºç åˆ†æ-2","link":"#_5ã€jdk-æºç åˆ†æ-2","children":[]}]},{"level":2,"title":"ã€18ã€‘ä¸­ä»‹è€…æ¨¡å¼","slug":"ã€18ã€‘ä¸­ä»‹è€…æ¨¡å¼","link":"#ã€18ã€‘ä¸­ä»‹è€…æ¨¡å¼","children":[{"level":3,"title":"1ã€æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜","slug":"_1ã€æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜","link":"#_1ã€æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜","children":[]},{"level":3,"title":"2ã€ä¸­ä»‹è€…æ¨¡å¼","slug":"_2ã€ä¸­ä»‹è€…æ¨¡å¼","link":"#_2ã€ä¸­ä»‹è€…æ¨¡å¼","children":[]},{"level":3,"title":"3ã€ä¸­ä»‹è€…æ¨¡å¼è§£å†³æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜","slug":"_3ã€ä¸­ä»‹è€…æ¨¡å¼è§£å†³æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜","link":"#_3ã€ä¸­ä»‹è€…æ¨¡å¼è§£å†³æ™ºèƒ½å®¶åº­ç®¡ç†é—®é¢˜","children":[]},{"level":3,"title":"4ã€ä¸­ä»‹è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_4ã€ä¸­ä»‹è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_4ã€ä¸­ä»‹è€…æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€19ã€‘å¤‡å¿˜å½•æ¨¡å¼","slug":"ã€19ã€‘å¤‡å¿˜å½•æ¨¡å¼","link":"#ã€19ã€‘å¤‡å¿˜å½•æ¨¡å¼","children":[{"level":3,"title":"1ã€æ¸¸æˆè§’è‰²çŠ¶æ€æ¢å¤é—®é¢˜","slug":"_1ã€æ¸¸æˆè§’è‰²çŠ¶æ€æ¢å¤é—®é¢˜","link":"#_1ã€æ¸¸æˆè§’è‰²çŠ¶æ€æ¢å¤é—®é¢˜","children":[]},{"level":3,"title":"2ã€å¤‡å¿˜å½•æ¨¡å¼åŸºæœ¬ä»‹ç»","slug":"_2ã€å¤‡å¿˜å½•æ¨¡å¼åŸºæœ¬ä»‹ç»","link":"#_2ã€å¤‡å¿˜å½•æ¨¡å¼åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"3ã€å¤‡å¿˜å½•æ¨¡å¼è§£å†³æ¸¸æˆè§’è‰²çŠ¶æ€å›å¤é—®é¢˜","slug":"_3ã€å¤‡å¿˜å½•æ¨¡å¼è§£å†³æ¸¸æˆè§’è‰²çŠ¶æ€å›å¤é—®é¢˜","link":"#_3ã€å¤‡å¿˜å½•æ¨¡å¼è§£å†³æ¸¸æˆè§’è‰²çŠ¶æ€å›å¤é—®é¢˜","children":[]},{"level":3,"title":"4ã€å¤‡å¿˜å½•æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_4ã€å¤‡å¿˜å½•æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_4ã€å¤‡å¿˜å½•æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€20ã€‘è§£é‡Šå™¨æ¨¡å¼","slug":"ã€20ã€‘è§£é‡Šå™¨æ¨¡å¼","link":"#ã€20ã€‘è§£é‡Šå™¨æ¨¡å¼","children":[{"level":3,"title":"1ã€å››åˆ™è¿ç®—é—®é¢˜","slug":"_1ã€å››åˆ™è¿ç®—é—®é¢˜","link":"#_1ã€å››åˆ™è¿ç®—é—®é¢˜","children":[]},{"level":3,"title":"2ã€è§£é‡Šå™¨æ¨¡å¼çš„åŸºæœ¬ä»‹ç»","slug":"_2ã€è§£é‡Šå™¨æ¨¡å¼çš„åŸºæœ¬ä»‹ç»","link":"#_2ã€è§£é‡Šå™¨æ¨¡å¼çš„åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"3ã€è§£é‡Šå™¨æ¨¡å¼è§£å†³å››åˆ™è¿ç®—é—®é¢˜","slug":"_3ã€è§£é‡Šå™¨æ¨¡å¼è§£å†³å››åˆ™è¿ç®—é—®é¢˜","link":"#_3ã€è§£é‡Šå™¨æ¨¡å¼è§£å†³å››åˆ™è¿ç®—é—®é¢˜","children":[]},{"level":3,"title":"4ã€è§£é‡Šå™¨æ¨¡å¼åœ¨ Spring æ¡†æ¶ä¸­çš„æºç åˆ†æ","slug":"_4ã€è§£é‡Šå™¨æ¨¡å¼åœ¨-spring-æ¡†æ¶ä¸­çš„æºç åˆ†æ","link":"#_4ã€è§£é‡Šå™¨æ¨¡å¼åœ¨-spring-æ¡†æ¶ä¸­çš„æºç åˆ†æ","children":[]},{"level":3,"title":"5ã€è§£é‡Šå™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_5ã€è§£é‡Šå™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_5ã€è§£é‡Šå™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€21ã€‘çŠ¶æ€æ¨¡å¼","slug":"ã€21ã€‘çŠ¶æ€æ¨¡å¼","link":"#ã€21ã€‘çŠ¶æ€æ¨¡å¼","children":[{"level":3,"title":"1ã€APP æŠ½å¥–æ´»åŠ¨é—®é¢˜","slug":"_1ã€app-æŠ½å¥–æ´»åŠ¨é—®é¢˜","link":"#_1ã€app-æŠ½å¥–æ´»åŠ¨é—®é¢˜","children":[]},{"level":3,"title":"2ã€çŠ¶æ€æ¨¡å¼åŸºæœ¬ä»‹ç»","slug":"_2ã€çŠ¶æ€æ¨¡å¼åŸºæœ¬ä»‹ç»","link":"#_2ã€çŠ¶æ€æ¨¡å¼åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"3ã€çŠ¶æ€æ¨¡å¼è§£å†³ APP æŠ½å¥–é—®é¢˜","slug":"_3ã€çŠ¶æ€æ¨¡å¼è§£å†³-app-æŠ½å¥–é—®é¢˜","link":"#_3ã€çŠ¶æ€æ¨¡å¼è§£å†³-app-æŠ½å¥–é—®é¢˜","children":[]},{"level":3,"title":"4ã€çŠ¶æ€æ¨¡å¼åœ¨å®é™…é¡¹ç›®â€”â€”å€Ÿè´·å¹³å°æºç å‰–æ","slug":"_4ã€çŠ¶æ€æ¨¡å¼åœ¨å®é™…é¡¹ç›®â€”â€”å€Ÿè´·å¹³å°æºç å‰–æ","link":"#_4ã€çŠ¶æ€æ¨¡å¼åœ¨å®é™…é¡¹ç›®â€”â€”å€Ÿè´·å¹³å°æºç å‰–æ","children":[]},{"level":3,"title":"5ã€çŠ¶æ€æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_5ã€çŠ¶æ€æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_5ã€çŠ¶æ€æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€22ã€‘ç­–ç•¥æ¨¡å¼","slug":"ã€22ã€‘ç­–ç•¥æ¨¡å¼","link":"#ã€22ã€‘ç­–ç•¥æ¨¡å¼","children":[{"level":3,"title":"1ã€é¸­å­é—®é¢˜","slug":"_1ã€é¸­å­é—®é¢˜","link":"#_1ã€é¸­å­é—®é¢˜","children":[]},{"level":3,"title":"2ã€ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³é¸­å­é—®é¢˜","slug":"_2ã€ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³é¸­å­é—®é¢˜","link":"#_2ã€ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³é¸­å­é—®é¢˜","children":[]},{"level":3,"title":"3ã€ç­–ç•¥æ¨¡å¼åŸºæœ¬ä»‹ç»","slug":"_3ã€ç­–ç•¥æ¨¡å¼åŸºæœ¬ä»‹ç»","link":"#_3ã€ç­–ç•¥æ¨¡å¼åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"5ã€ç­–ç•¥æ¨¡å¼åœ¨ JDK-Arrays åº”ç”¨çš„æºç åˆ†æ","slug":"_5ã€ç­–ç•¥æ¨¡å¼åœ¨-jdk-arrays-åº”ç”¨çš„æºç åˆ†æ","link":"#_5ã€ç­–ç•¥æ¨¡å¼åœ¨-jdk-arrays-åº”ç”¨çš„æºç åˆ†æ","children":[]},{"level":3,"title":"6ã€ç­–ç•¥æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_6ã€ç­–ç•¥æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_6ã€ç­–ç•¥æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€23ã€‘èŒè´£é“¾æ¨¡å¼","slug":"ã€23ã€‘èŒè´£é“¾æ¨¡å¼","link":"#ã€23ã€‘èŒè´£é“¾æ¨¡å¼","children":[{"level":3,"title":"1ã€OAç³»ç»Ÿçš„é‡‡è´­å®¡æ‰¹é¡¹ç›®","slug":"_1ã€oaç³»ç»Ÿçš„é‡‡è´­å®¡æ‰¹é¡¹ç›®","link":"#_1ã€oaç³»ç»Ÿçš„é‡‡è´­å®¡æ‰¹é¡¹ç›®","children":[]},{"level":3,"title":"2ã€èŒè´£é“¾æ¨¡å¼åŸºæœ¬ä»‹ç»","slug":"_2ã€èŒè´£é“¾æ¨¡å¼åŸºæœ¬ä»‹ç»","link":"#_2ã€èŒè´£é“¾æ¨¡å¼åŸºæœ¬ä»‹ç»","children":[]},{"level":3,"title":"3ã€èŒè´£é“¾æ¨¡å¼è§£å†³ OA ç³»ç»Ÿé‡‡è´­å®¡æ‰¹é¡¹ç›®","slug":"_3ã€èŒè´£é“¾æ¨¡å¼è§£å†³-oa-ç³»ç»Ÿé‡‡è´­å®¡æ‰¹é¡¹ç›®","link":"#_3ã€èŒè´£é“¾æ¨¡å¼è§£å†³-oa-ç³»ç»Ÿé‡‡è´­å®¡æ‰¹é¡¹ç›®","children":[]},{"level":3,"title":"4ã€èŒè´£é“¾æ¨¡å¼åœ¨ SpringMVC æ¡†æ¶åº”ç”¨çš„æºç åˆ†æ","slug":"_4ã€èŒè´£é“¾æ¨¡å¼åœ¨-springmvc-æ¡†æ¶åº”ç”¨çš„æºç åˆ†æ","link":"#_4ã€èŒè´£é“¾æ¨¡å¼åœ¨-springmvc-æ¡†æ¶åº”ç”¨çš„æºç åˆ†æ","children":[]},{"level":3,"title":"5ã€èŒè´£é“¾æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","slug":"_5ã€èŒè´£é“¾æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","link":"#_5ã€èŒè´£é“¾æ¨¡å¼çš„æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚","children":[]}]},{"level":2,"title":"ã€-ã€‘è®¾è®¡æ¨¡å¼å¤§æ‚çƒ©","slug":"ã€-ã€‘è®¾è®¡æ¨¡å¼å¤§æ‚çƒ©","link":"#ã€-ã€‘è®¾è®¡æ¨¡å¼å¤§æ‚çƒ©","children":[{"level":3,"title":"1ã€æ¦‚å¿µæ€§çŸ¥è¯†","slug":"_1ã€æ¦‚å¿µæ€§çŸ¥è¯†","link":"#_1ã€æ¦‚å¿µæ€§çŸ¥è¯†","children":[]},{"level":3,"title":"2ã€è®¾è®¡æ¨¡å¼è¡¥å……","slug":"_2ã€è®¾è®¡æ¨¡å¼è¡¥å……","link":"#_2ã€è®¾è®¡æ¨¡å¼è¡¥å……","children":[]}]},{"level":2,"title":"ã€-ã€‘è®¾è®¡æ¨¡å¼å¯¹æ¯”","slug":"ã€-ã€‘è®¾è®¡æ¨¡å¼å¯¹æ¯”","link":"#ã€-ã€‘è®¾è®¡æ¨¡å¼å¯¹æ¯”","children":[{"level":3,"title":"1ã€æŠ½è±¡å·¥å‚æ¨¡å¼ VS å»ºé€ è€…æ¨¡å¼ VS æ¨¡æ¿æ–¹æ³•æ¨¡å¼","slug":"_1ã€æŠ½è±¡å·¥å‚æ¨¡å¼-vs-å»ºé€ è€…æ¨¡å¼-vs-æ¨¡æ¿æ–¹æ³•æ¨¡å¼","link":"#_1ã€æŠ½è±¡å·¥å‚æ¨¡å¼-vs-å»ºé€ è€…æ¨¡å¼-vs-æ¨¡æ¿æ–¹æ³•æ¨¡å¼","children":[]},{"level":3,"title":"2ã€é€‚é…å™¨æ¨¡å¼ VS æ¡¥æ¥æ¨¡å¼","slug":"_2ã€é€‚é…å™¨æ¨¡å¼-vs-æ¡¥æ¥æ¨¡å¼","link":"#_2ã€é€‚é…å™¨æ¨¡å¼-vs-æ¡¥æ¥æ¨¡å¼","children":[]},{"level":3,"title":"3ã€å¤–è§‚æ¨¡å¼ VS ä»£ç†æ¨¡å¼ VS å‘½ä»¤æ¨¡å¼","slug":"_3ã€å¤–è§‚æ¨¡å¼-vs-ä»£ç†æ¨¡å¼-vs-å‘½ä»¤æ¨¡å¼","link":"#_3ã€å¤–è§‚æ¨¡å¼-vs-ä»£ç†æ¨¡å¼-vs-å‘½ä»¤æ¨¡å¼","children":[]},{"level":3,"title":"4ã€è§‚å¯Ÿè€…æ¨¡å¼ VS ä¸­ä»‹è€…æ¨¡å¼","slug":"_4ã€è§‚å¯Ÿè€…æ¨¡å¼-vs-ä¸­ä»‹è€…æ¨¡å¼","link":"#_4ã€è§‚å¯Ÿè€…æ¨¡å¼-vs-ä¸­ä»‹è€…æ¨¡å¼","children":[]},{"level":3,"title":"5ã€ç­–ç•¥æ¨¡å¼ VS çŠ¶æ€æ¨¡å¼","slug":"_5ã€ç­–ç•¥æ¨¡å¼-vs-çŠ¶æ€æ¨¡å¼","link":"#_5ã€ç­–ç•¥æ¨¡å¼-vs-çŠ¶æ€æ¨¡å¼","children":[]},{"level":3,"title":"6ã€ç­–ç•¥æ¨¡å¼ VS æ¨¡æ¿æ–¹æ³•æ¨¡å¼","slug":"_6ã€ç­–ç•¥æ¨¡å¼-vs-æ¨¡æ¿æ–¹æ³•æ¨¡å¼","link":"#_6ã€ç­–ç•¥æ¨¡å¼-vs-æ¨¡æ¿æ–¹æ³•æ¨¡å¼","children":[]}]}],"git":{"updatedTime":1728319555000,"contributors":[{"name":"GlobalXiaoHua","email":"409732463@qq.com","commits":1}]},"filePathRelative":"docs/java/design-mode/README.md"}');export{fa as comp,Ea as data};
